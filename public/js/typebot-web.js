// v0.3.59
var xv=Object.create;var Bi=Object.defineProperty;var wv=Object.getOwnPropertyDescriptor;var Sv=Object.getOwnPropertyNames;var Cv=Object.getPrototypeOf,Tv=Object.prototype.hasOwnProperty;var Ev=(e,n)=>()=>(e&&(n=e(e=0)),n);var vt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),_v=(e,n)=>{for(var t in n)Bi(e,t,{get:n[t],enumerable:!0})},vu=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of Sv(n))!Tv.call(e,o)&&o!==t&&Bi(e,o,{get:()=>n[o],enumerable:!(r=wv(n,o))||r.enumerable});return e};var Ha=(e,n,t)=>(t=e!=null?xv(Cv(e)):{},vu(n||!e||!e.__esModule?Bi(t,"default",{value:e,enumerable:!0}):t,e)),Fi=e=>vu(Bi({},"__esModule",{value:!0}),e);var $g=vt(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});function Js(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Js=function(n){return typeof n}:Js=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Js(e)}var Ng="https://js.stripe.com/v3",mE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Rg="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gE=function(){for(var n=document.querySelectorAll('script[src^="'.concat(Ng,'"]')),t=0;t<n.length;t++){var r=n[t];if(mE.test(r.src))return r}return null},yE=function(n){var t=n&&!n.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Ng).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},bE=function(n,t){!n||!n._registerWrapper||n._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:t})},Zs=null,vE=function(n){return Zs!==null||(Zs=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&n&&console.warn(Rg),window.Stripe){t(window.Stripe);return}try{var o=gE();o&&n?console.warn(Rg):o||(o=yE(n)),o.addEventListener("load",function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}),o.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(i){r(i);return}})),Zs},xE=function(n,t,r){if(n===null)return null;var o=n.apply(void 0,t);return bE(o,r),o},Mg=function(n){var t=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(n),`
`);if(n===null||Js(n)!=="object")throw new Error(t);if(Object.keys(n).length===1&&typeof n.advancedFraudSignals=="boolean")return n;throw new Error(t)},Qs,lc=!1,Dg=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];lc=!0;var o=Date.now();return vE(Qs).then(function(i){return xE(i,t,o)})};Dg.setLoadParameters=function(e){if(lc&&Qs){var n=Mg(e),t=Object.keys(n),r=t.reduce(function(o,i){var s;return o&&e[i]===((s=Qs)===null||s===void 0?void 0:s[i])},!0);if(r)return}if(lc)throw new Error("You cannot change load parameters after calling loadStripe");Qs=Mg(e)};cc.loadStripe=Dg});var Bg=vt((zF,Lg)=>{"use strict";Lg.exports=$g()});var ki={};_v(ki,{__addDisposableResource:()=>Ey,__assign:()=>na,__asyncDelegator:()=>yy,__asyncGenerator:()=>gy,__asyncValues:()=>by,__await:()=>Po,__awaiter:()=>uy,__classPrivateFieldGet:()=>Sy,__classPrivateFieldIn:()=>Ty,__classPrivateFieldSet:()=>Cy,__createBinding:()=>oa,__decorate:()=>ry,__disposeResources:()=>_y,__esDecorate:()=>iy,__exportStar:()=>py,__extends:()=>ty,__generator:()=>dy,__importDefault:()=>wy,__importStar:()=>xy,__makeTemplateObject:()=>vy,__metadata:()=>cy,__param:()=>oy,__propKey:()=>ay,__read:()=>hc,__rest:()=>ny,__rewriteRelativeImportExtension:()=>ky,__runInitializers:()=>sy,__setFunctionName:()=>ly,__spread:()=>fy,__spreadArray:()=>my,__spreadArrays:()=>hy,__values:()=>ra,default:()=>QE});function ty(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");pc(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function ny(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function ry(e,n,t,r){var o=arguments.length,i=o<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(n,t,i):s(n,t))||i);return o>3&&i&&Object.defineProperty(n,t,i),i}function oy(e,n){return function(t,r){n(t,r,e)}}function iy(e,n,t,r,o,i){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!n&&e?r.static?e:e.prototype:null,u=n||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,p=!1,f=t.length-1;f>=0;f--){var g={};for(var m in r)g[m]=m==="access"?{}:r[m];for(var m in r.access)g.access[m]=r.access[m];g.addInitializer=function(b){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(b||null))};var v=(0,t[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=s(v.get))&&(u.get=d),(d=s(v.set))&&(u.set=d),(d=s(v.init))&&o.unshift(d)}else(d=s(v))&&(a==="field"?o.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),p=!0}function sy(e,n,t){for(var r=arguments.length>2,o=0;o<n.length;o++)t=r?n[o].call(e,t):n[o].call(e);return r?t:void 0}function ay(e){return typeof e=="symbol"?e:"".concat(e)}function ly(e,n,t){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",n):n})}function cy(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function uy(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function dy(e,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function py(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&oa(n,e,t)}function ra(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function hc(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),o,i=[],s;try{for(;(n===void 0||n-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return i}function fy(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(hc(arguments[n]));return e}function hy(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),o=0,n=0;n<t;n++)for(var i=arguments[n],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function my(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,i;r<o;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return e.concat(i||Array.prototype.slice.call(n))}function Po(e){return this instanceof Po?(this.v=e,this):new Po(e)}function gy(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(v,b){i.push([f,m,v,b])>1||l(f,m)})},g&&(o[f]=g(o[f])))}function l(f,g){try{c(r[f](g))}catch(m){p(i[0][3],m)}}function c(f){f.value instanceof Po?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,g){f(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function yy(e){var n,t;return n={},r("next"),r("throw",function(o){throw o}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(o,i){n[o]=e[o]?function(s){return(t=!t)?{value:Po(e[o](s)),done:!1}:i?i(s):s}:i}}function by(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof ra=="function"?ra(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}function vy(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function xy(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t=fc(e),r=0;r<t.length;r++)t[r]!=="default"&&oa(n,e,t[r]);return ZE(n,e),n}function wy(e){return e&&e.__esModule?e:{default:e}}function Sy(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)}function Cy(e,n,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!o:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,t):o?o.value=t:n.set(e,t),t}function Ty(e,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?n===e:e.has(n)}function Ey(e,n,t){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],t&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:n,dispose:r,async:t})}else t&&e.stack.push({async:!0});return n}function _y(e){function n(i){e.error=e.hasError?new JE(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var t,r=0;function o(){for(;t=e.stack.pop();)try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(o);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(o,function(s){return n(s),o()})}else r|=1}catch(s){n(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function ky(e,n){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,o,i,s){return r?n?".jsx":".js":o&&(!i||!s)?t:o+i+"."+s.toLowerCase()+"js"}):e}var pc,na,oa,ZE,fc,JE,QE,Pi=Ev(()=>{"use strict";pc=function(e,n){return pc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},pc(e,n)};na=function(){return na=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},na.apply(this,arguments)};oa=Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]};ZE=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n},fc=function(e){return fc=Object.getOwnPropertyNames||function(n){var t=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[t.length]=r);return t},fc(e)};JE=typeof SuppressedError=="function"?SuppressedError:function(e,n,t){var r=new Error(t);return r.name="SuppressedError",r.error=e,r.suppressed=n,r};QE={__extends:ty,__assign:na,__rest:ny,__decorate:ry,__param:oy,__esDecorate:iy,__runInitializers:sy,__propKey:ay,__setFunctionName:ly,__metadata:cy,__awaiter:uy,__generator:dy,__createBinding:oa,__exportStar:py,__values:ra,__read:hc,__spread:fy,__spreadArrays:hy,__spreadArray:my,__await:Po,__asyncGenerator:gy,__asyncDelegator:yy,__asyncValues:by,__makeTemplateObject:vy,__importStar:xy,__importDefault:wy,__classPrivateFieldGet:Sy,__classPrivateFieldSet:Cy,__classPrivateFieldIn:Ty,__addDisposableResource:Ey,__disposeResources:_y,__rewriteRelativeImportExtension:ky}});var Io=vt(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.WebmBase=void 0;var mc=class{constructor(n="Unknown",t=0){this.name=n,this.start=t}getType(){return"Unknown"}updateBySource(){}setSource(n){this.source=n,this.updateBySource()}updateByData(){}setData(n){this.data=n,this.updateByData()}getValue(){return this.data}setValue(n){this.setData(n)}};ia.WebmBase=mc});var aa=vt(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.SectionType=void 0;var Py;(function(e){e.Container="Container",e.Uint="Uint",e.Int="Int",e.Float="Float",e.String="String",e.Date="Date",e.Binary="Binary"})(Py||(sa.SectionType=Py={}))});var gc=vt(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.sections=void 0;var y=aa();la.sections={172351395:{name:"EBML",type:y.SectionType.Container},646:{name:"EBMLVersion",type:y.SectionType.Uint},759:{name:"EBMLReadVersion",type:y.SectionType.Uint},754:{name:"EBMLMaxIDLength",type:y.SectionType.Uint},755:{name:"EBMLMaxSizeLength",type:y.SectionType.Uint},642:{name:"DocType",type:y.SectionType.String},647:{name:"DocTypeVersion",type:y.SectionType.Uint},645:{name:"DocTypeReadVersion",type:y.SectionType.Uint},108:{name:"Void",type:y.SectionType.Binary},63:{name:"CRC-32",type:y.SectionType.Binary},190023271:{name:"SignatureSlot",type:y.SectionType.Container},16010:{name:"SignatureAlgo",type:y.SectionType.Uint},16026:{name:"SignatureHash",type:y.SectionType.Uint},16037:{name:"SignaturePublicKey",type:y.SectionType.Binary},16053:{name:"Signature",type:y.SectionType.Binary},15963:{name:"SignatureElements",type:y.SectionType.Container},15995:{name:"SignatureElementList",type:y.SectionType.Container},9522:{name:"SignedElement",type:y.SectionType.Binary},139690087:{name:"Segment",type:y.SectionType.Container},21863284:{name:"SeekHead",type:y.SectionType.Container},3515:{name:"Seek",type:y.SectionType.Container},5035:{name:"SeekID",type:y.SectionType.Binary},5036:{name:"SeekPosition",type:y.SectionType.Uint},88713574:{name:"Info",type:y.SectionType.Container},13220:{name:"SegmentUID",type:y.SectionType.Binary},13188:{name:"SegmentFilename",type:y.SectionType.String},1882403:{name:"PrevUID",type:y.SectionType.Binary},1868715:{name:"PrevFilename",type:y.SectionType.String},2013475:{name:"NextUID",type:y.SectionType.Binary},1999803:{name:"NextFilename",type:y.SectionType.String},1092:{name:"SegmentFamily",type:y.SectionType.Binary},10532:{name:"ChapterTranslate",type:y.SectionType.Container},10748:{name:"ChapterTranslateEditionUID",type:y.SectionType.Uint},10687:{name:"ChapterTranslateCodec",type:y.SectionType.Uint},10661:{name:"ChapterTranslateID",type:y.SectionType.Binary},710577:{name:"TimecodeScale",type:y.SectionType.Uint},1161:{name:"Duration",type:y.SectionType.Float},1121:{name:"DateUTC",type:y.SectionType.Date},15273:{name:"Title",type:y.SectionType.String},3456:{name:"MuxingApp",type:y.SectionType.String},5953:{name:"WritingApp",type:y.SectionType.String},103:{name:"Timecode",type:y.SectionType.Uint},6228:{name:"SilentTracks",type:y.SectionType.Container},6359:{name:"SilentTrackNumber",type:y.SectionType.Uint},39:{name:"Position",type:y.SectionType.Uint},43:{name:"PrevSize",type:y.SectionType.Uint},35:{name:"SimpleBlock",type:y.SectionType.Binary},32:{name:"BlockGroup",type:y.SectionType.Container},33:{name:"Block",type:y.SectionType.Binary},34:{name:"BlockVirtual",type:y.SectionType.Binary},13729:{name:"BlockAdditions",type:y.SectionType.Container},38:{name:"BlockMore",type:y.SectionType.Container},110:{name:"BlockAddID",type:y.SectionType.Uint},37:{name:"BlockAdditional",type:y.SectionType.Binary},27:{name:"BlockDuration",type:y.SectionType.Uint},122:{name:"ReferencePriority",type:y.SectionType.Uint},123:{name:"ReferenceBlock",type:y.SectionType.Int},125:{name:"ReferenceVirtual",type:y.SectionType.Int},36:{name:"CodecState",type:y.SectionType.Binary},13730:{name:"DiscardPadding",type:y.SectionType.Int},14:{name:"Slices",type:y.SectionType.Container},104:{name:"TimeSlice",type:y.SectionType.Container},76:{name:"LaceNumber",type:y.SectionType.Uint},77:{name:"FrameNumber",type:y.SectionType.Uint},75:{name:"BlockAdditionID",type:y.SectionType.Uint},78:{name:"Delay",type:y.SectionType.Uint},79:{name:"SliceDuration",type:y.SectionType.Uint},72:{name:"ReferenceFrame",type:y.SectionType.Container},73:{name:"ReferenceOffset",type:y.SectionType.Uint},74:{name:"ReferenceTimeCode",type:y.SectionType.Uint},47:{name:"EncryptedBlock",type:y.SectionType.Binary},106212971:{name:"Tracks",type:y.SectionType.Container},46:{name:"TrackEntry",type:y.SectionType.Container},87:{name:"TrackNumber",type:y.SectionType.Uint},13253:{name:"TrackUID",type:y.SectionType.Uint},3:{name:"TrackType",type:y.SectionType.Uint},57:{name:"FlagEnabled",type:y.SectionType.Uint},8:{name:"FlagDefault",type:y.SectionType.Uint},5546:{name:"FlagForced",type:y.SectionType.Uint},28:{name:"FlagLacing",type:y.SectionType.Uint},11751:{name:"MinCache",type:y.SectionType.Uint},11768:{name:"MaxCache",type:y.SectionType.Uint},254851:{name:"DefaultDuration",type:y.SectionType.Uint},216698:{name:"DefaultDecodedFieldDuration",type:y.SectionType.Uint},209231:{name:"TrackTimecodeScale",type:y.SectionType.Float},4991:{name:"TrackOffset",type:y.SectionType.Int},5614:{name:"MaxBlockAdditionID",type:y.SectionType.Uint},4974:{name:"Name",type:y.SectionType.String},177564:{name:"Language",type:y.SectionType.String},6:{name:"CodecID",type:y.SectionType.String},9122:{name:"CodecPrivate",type:y.SectionType.Binary},362120:{name:"CodecName",type:y.SectionType.String},13382:{name:"AttachmentLink",type:y.SectionType.Uint},1742487:{name:"CodecSettings",type:y.SectionType.String},1785920:{name:"CodecInfoURL",type:y.SectionType.String},438848:{name:"CodecDownloadURL",type:y.SectionType.String},42:{name:"CodecDecodeAll",type:y.SectionType.Uint},12203:{name:"TrackOverlay",type:y.SectionType.Uint},5802:{name:"CodecDelay",type:y.SectionType.Uint},5819:{name:"SeekPreRoll",type:y.SectionType.Uint},9764:{name:"TrackTranslate",type:y.SectionType.Container},9980:{name:"TrackTranslateEditionUID",type:y.SectionType.Uint},9919:{name:"TrackTranslateCodec",type:y.SectionType.Uint},9893:{name:"TrackTranslateTrackID",type:y.SectionType.Binary},96:{name:"Video",type:y.SectionType.Container},26:{name:"FlagInterlaced",type:y.SectionType.Uint},5048:{name:"StereoMode",type:y.SectionType.Uint},5056:{name:"AlphaMode",type:y.SectionType.Uint},5049:{name:"OldStereoMode",type:y.SectionType.Uint},48:{name:"PixelWidth",type:y.SectionType.Uint},58:{name:"PixelHeight",type:y.SectionType.Uint},5290:{name:"PixelCropBottom",type:y.SectionType.Uint},5307:{name:"PixelCropTop",type:y.SectionType.Uint},5324:{name:"PixelCropLeft",type:y.SectionType.Uint},5341:{name:"PixelCropRight",type:y.SectionType.Uint},5296:{name:"DisplayWidth",type:y.SectionType.Uint},5306:{name:"DisplayHeight",type:y.SectionType.Uint},5298:{name:"DisplayUnit",type:y.SectionType.Uint},5299:{name:"AspectRatioType",type:y.SectionType.Uint},963876:{name:"ColourSpace",type:y.SectionType.Binary},1029411:{name:"GammaValue",type:y.SectionType.Float},230371:{name:"FrameRate",type:y.SectionType.Float},97:{name:"Audio",type:y.SectionType.Container},53:{name:"SamplingFrequency",type:y.SectionType.Float},14517:{name:"OutputSamplingFrequency",type:y.SectionType.Float},31:{name:"Channels",type:y.SectionType.Uint},15739:{name:"ChannelPositions",type:y.SectionType.Binary},8804:{name:"BitDepth",type:y.SectionType.Uint},98:{name:"TrackOperation",type:y.SectionType.Container},99:{name:"TrackCombinePlanes",type:y.SectionType.Container},100:{name:"TrackPlane",type:y.SectionType.Container},101:{name:"TrackPlaneUID",type:y.SectionType.Uint},102:{name:"TrackPlaneType",type:y.SectionType.Uint},105:{name:"TrackJoinBlocks",type:y.SectionType.Container},109:{name:"TrackJoinUID",type:y.SectionType.Uint},64:{name:"TrickTrackUID",type:y.SectionType.Uint},65:{name:"TrickTrackSegmentUID",type:y.SectionType.Binary},70:{name:"TrickTrackFlag",type:y.SectionType.Uint},71:{name:"TrickMasterTrackUID",type:y.SectionType.Uint},68:{name:"TrickMasterTrackSegmentUID",type:y.SectionType.Binary},11648:{name:"ContentEncodings",type:y.SectionType.Container},8768:{name:"ContentEncoding",type:y.SectionType.Container},4145:{name:"ContentEncodingOrder",type:y.SectionType.Uint},4146:{name:"ContentEncodingScope",type:y.SectionType.Uint},4147:{name:"ContentEncodingType",type:y.SectionType.Uint},4148:{name:"ContentCompression",type:y.SectionType.Container},596:{name:"ContentCompAlgo",type:y.SectionType.Uint},597:{name:"ContentCompSettings",type:y.SectionType.Binary},4149:{name:"ContentEncryption",type:y.SectionType.Container},2017:{name:"ContentEncAlgo",type:y.SectionType.Uint},2018:{name:"ContentEncKeyID",type:y.SectionType.Binary},2019:{name:"ContentSignature",type:y.SectionType.Binary},2020:{name:"ContentSigKeyID",type:y.SectionType.Binary},2021:{name:"ContentSigAlgo",type:y.SectionType.Uint},2022:{name:"ContentSigHashAlgo",type:y.SectionType.Uint},206814059:{name:"Cues",type:y.SectionType.Container},59:{name:"CuePoint",type:y.SectionType.Container},51:{name:"CueTime",type:y.SectionType.Uint},55:{name:"CueTrackPositions",type:y.SectionType.Container},119:{name:"CueTrack",type:y.SectionType.Uint},113:{name:"CueClusterPosition",type:y.SectionType.Uint},112:{name:"CueRelativePosition",type:y.SectionType.Uint},50:{name:"CueDuration",type:y.SectionType.Uint},4984:{name:"CueBlockNumber",type:y.SectionType.Uint},106:{name:"CueCodecState",type:y.SectionType.Uint},91:{name:"CueReference",type:y.SectionType.Container},22:{name:"CueRefTime",type:y.SectionType.Uint},23:{name:"CueRefCluster",type:y.SectionType.Uint},4959:{name:"CueRefNumber",type:y.SectionType.Uint},107:{name:"CueRefCodecState",type:y.SectionType.Uint},155296873:{name:"Attachments",type:y.SectionType.Container},8615:{name:"AttachedFile",type:y.SectionType.Container},1662:{name:"FileDescription",type:y.SectionType.String},1646:{name:"FileName",type:y.SectionType.String},1632:{name:"FileMimeType",type:y.SectionType.String},1628:{name:"FileData",type:y.SectionType.Binary},1710:{name:"FileUID",type:y.SectionType.Uint},1653:{name:"FileReferral",type:y.SectionType.Binary},1633:{name:"FileUsedStartTime",type:y.SectionType.Uint},1634:{name:"FileUsedEndTime",type:y.SectionType.Uint},4433776:{name:"Chapters",type:y.SectionType.Container},1465:{name:"EditionEntry",type:y.SectionType.Container},1468:{name:"EditionUID",type:y.SectionType.Uint},1469:{name:"EditionFlagHidden",type:y.SectionType.Uint},1499:{name:"EditionFlagDefault",type:y.SectionType.Uint},1501:{name:"EditionFlagOrdered",type:y.SectionType.Uint},54:{name:"ChapterAtom",type:y.SectionType.Container},13252:{name:"ChapterUID",type:y.SectionType.Uint},5716:{name:"ChapterStringUID",type:y.SectionType.String},17:{name:"ChapterTimeStart",type:y.SectionType.Uint},18:{name:"ChapterTimeEnd",type:y.SectionType.Uint},24:{name:"ChapterFlagHidden",type:y.SectionType.Uint},1432:{name:"ChapterFlagEnabled",type:y.SectionType.Uint},11879:{name:"ChapterSegmentUID",type:y.SectionType.Binary},11964:{name:"ChapterSegmentEditionUID",type:y.SectionType.Uint},9155:{name:"ChapterPhysicalEquiv",type:y.SectionType.Uint},15:{name:"ChapterTrack",type:y.SectionType.Container},9:{name:"ChapterTrackNumber",type:y.SectionType.Uint},0:{name:"ChapterDisplay",type:y.SectionType.Container},5:{name:"ChapString",type:y.SectionType.String},892:{name:"ChapLanguage",type:y.SectionType.String},894:{name:"ChapCountry",type:y.SectionType.String},10564:{name:"ChapProcess",type:y.SectionType.Container},10581:{name:"ChapProcessCodecID",type:y.SectionType.Uint},1293:{name:"ChapProcessPrivate",type:y.SectionType.Binary},10513:{name:"ChapProcessCommand",type:y.SectionType.Container},10530:{name:"ChapProcessTime",type:y.SectionType.Uint},10547:{name:"ChapProcessData",type:y.SectionType.Binary},39109479:{name:"Tags",type:y.SectionType.Container},13171:{name:"Tag",type:y.SectionType.Container},9152:{name:"Targets",type:y.SectionType.Container},10442:{name:"TargetTypeValue",type:y.SectionType.Uint},9162:{name:"TargetType",type:y.SectionType.String},9157:{name:"TagTrackUID",type:y.SectionType.Uint},9161:{name:"TagEditionUID",type:y.SectionType.Uint},9156:{name:"TagChapterUID",type:y.SectionType.Uint},9158:{name:"TagAttachmentUID",type:y.SectionType.Uint},10184:{name:"SimpleTag",type:y.SectionType.Container},1443:{name:"TagName",type:y.SectionType.String},1146:{name:"TagLanguage",type:y.SectionType.String},1156:{name:"TagDefault",type:y.SectionType.Uint},1159:{name:"TagString",type:y.SectionType.String},1157:{name:"TagBinary",type:y.SectionType.Binary},5552:{name:"Colour",type:y.SectionType.Container},5553:{name:"MatrixCoefficients",type:y.SectionType.Uint},5554:{name:"BitsPerChannel",type:y.SectionType.Uint},5555:{name:"ChromaSubsamplingHorz",type:y.SectionType.Uint},5556:{name:"ChromaSubsamplingVert",type:y.SectionType.Uint},5557:{name:"CbSubsamplingHorz",type:y.SectionType.Uint},5558:{name:"CbSubsamplingVert",type:y.SectionType.Uint},5559:{name:"ChromaSitingHorz",type:y.SectionType.Uint},5560:{name:"ChromaSitingVert",type:y.SectionType.Uint},5561:{name:"Range",type:y.SectionType.Uint},5562:{name:"TransferCharacteristics",type:y.SectionType.Uint},5563:{name:"Primaries",type:y.SectionType.Uint},5564:{name:"MaxCLL",type:y.SectionType.Uint},5565:{name:"MaxFALL",type:y.SectionType.Uint}}});var bc=vt(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.WebmUint=void 0;var e_=Io();function Iy(e){return e.length%2===1?"0"+e:e}var yc=class extends e_.WebmBase{constructor(n,t=0){super(n,t)}getType(){return"Uint"}updateBySource(){this.data="";for(let n=0;n<this.source.length;n++){let t=this.source[n].toString(16);this.data+=Iy(t)}}updateByData(){let n=this.data.length/2;this.source=new Uint8Array(n);for(let t=0;t<n;t++){let r=this.data.substring(t*2,t*2+2);this.source[t]=parseInt(r,16)}}getValue(){return parseInt(this.data,16)}setValue(n){this.setData(Iy(n.toString(16)))}};ca.WebmUint=yc});var xc=vt(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.WebmFloat=void 0;var t_=Io(),vc=class extends t_.WebmBase{constructor(n,t=0){super(n,t)}getType(){return"Float"}getFloatArrayType(){return this.source&&this.source.length===4?Float32Array:Float64Array}updateBySource(){let n=this.source.reverse(),t=this.getFloatArrayType(),r=new t(n.buffer);this.data=r[0]}updateByData(){let n=this.getFloatArrayType(),t=new n([this.data]),r=new Uint8Array(t.buffer);this.source=r.reverse()}};ua.WebmFloat=vc});var Sc=vt(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.WebmString=void 0;var n_=Io(),wc=class extends n_.WebmBase{constructor(n,t=0){super(n,t)}getType(){return"String"}updateBySource(){this.data=this.source}updateByData(){this.source=this.data}getValue(){let n="";return this.source.forEach(t=>{n+=String.fromCharCode(t)}),n}};da.WebmString=wc});var Tc=vt(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.WebmContainer=void 0;var Ay=Io(),r_=gc(),pa=aa(),o_=bc(),i_=xc(),s_=Sc(),Cc=class e extends Ay.WebmBase{constructor(n,t=!1,r=0){super(n,r),this.isInfinite=t,this.offset=0}getType(){return"Container"}readByte(){return this.source[this.offset++]}readUint(){let n=this.readByte(),t=8-n.toString(2).length,r=n-(1<<7-t);for(let o=0;o<t;o++)r<<=8,r|=this.readByte();return r}updateBySource(){var n;this.data=[];let t;for(this.offset=0;this.offset<this.source.length;this.offset=t){let r=this.offset,o=this.readUint(),{name:i,type:s}=(n=r_.sections[o])!==null&&n!==void 0?n:{},a=this.readUint();t=this.source.length,a>=0&&(t=Math.min(this.offset+a,t));let l=this.source.slice(this.offset,t),c;switch(s){case pa.SectionType.Container:c=new e(i,a<0,r);break;case pa.SectionType.Uint:c=new o_.WebmUint(i,r);break;case pa.SectionType.Float:c=new i_.WebmFloat(i,r);break;case pa.SectionType.String:c=new s_.WebmString(i,r);break;default:c=new Ay.WebmBase(i,r);break}c.setSource(l),this.data.push({id:o,idHex:o.toString(16),data:c})}}writeUint(n,t=!1){let r;for(r=1;(n<0||n>=1<<7*r)&&r<8;r++);if(!t){for(let o=0;o<r;o++)this.source[this.offset+o]=n>>8*(r-1-o)&255;this.source[this.offset]&=(1<<8-r)-1,this.source[this.offset]|=1<<8-r}this.offset+=r}writeSections(n=!1){this.offset=0;for(let t=0;t<this.data.length;t++){let r=this.data[t],o=r.data.source,i=o.length;this.writeUint(r.id,n),this.writeUint(r.data instanceof e&&r.data.isInfinite?-1:i,n),n||this.source.set(o,this.offset),this.offset+=i}return this.offset}updateByData(){let n=this.writeSections(!0);this.source=new Uint8Array(n),this.writeSections()}getSectionById(n){for(let t=0;t<this.data.length;t++){let r=this.data[t];if(r.id===n)return r.data}return null}};fa.WebmContainer=Cc});var Oy=vt(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.WebmFile=void 0;var a_=(Pi(),Fi(ki)),l_=Tc(),Ec=class e extends l_.WebmContainer{constructor(n){super("File"),this.setSource(n)}getType(){return"File"}toBlob(n="video/webm"){return new Blob([this.source.buffer],{type:n})}static blobToArray(n){return new Promise((t,r)=>{try{let o=new FileReader;o.onloadend=()=>{try{t(new Uint8Array(o.result))}catch(i){r(i)}},o.readAsArrayBuffer(n)}catch(o){r(o)}})}static fromBlob(n){return a_.__awaiter(this,void 0,void 0,function*(){let t=yield e.blobToArray(n);return new e(t)})}};ha.WebmFile=Ec});var My=vt(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0})});var _c=vt(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var Wn=(Pi(),Fi(ki));Wn.__exportStar(Io(),gn);Wn.__exportStar(Tc(),gn);Wn.__exportStar(Oy(),gn);Wn.__exportStar(xc(),gn);Wn.__exportStar(Sc(),gn);Wn.__exportStar(bc(),gn);Wn.__exportStar(aa(),gn);Wn.__exportStar(My(),gn);Wn.__exportStar(gc(),gn)});var kc=vt(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.fixParsedWebmDuration=void 0;var c_=_c(),u_=(e,n,t={})=>{let r=t.logger;r===void 0?r=l=>console.debug(l):r||(r=()=>{});let o=e.getSectionById(139690087);if(!o)return r("[fix-webm-duration] Segment section is missing"),!1;let i=o.getSectionById(88713574);if(!i)return r("[fix-webm-duration] Info section is missing"),!1;let s=i.getSectionById(710577);if(!s)return r("[fix-webm-duration] TimecodeScale section is missing"),!1;let a=i.getSectionById(1161);if(a)if(a.getValue()<=0)r(`[fix-webm-duration] Duration section is present, but the value is ${a.getValue()}`),a.setValue(n);else return r(`[fix-webm-duration] Duration section is present, and the value is ${a.getValue()}`),!1;else r("[fix-webm-duration] Duration section is missing"),a=new c_.WebmFloat("Duration"),a.setValue(n),i.data.push({id:1161,data:a});return s.setValue(1e6),i.updateByData(),o.updateByData(),e.updateByData(),!0};ma.fixParsedWebmDuration=u_});var Ny=vt(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.fixWebmDuration=void 0;var d_=(Pi(),Fi(ki)),p_=_c(),f_=kc(),h_=(e,n,t)=>d_.__awaiter(void 0,void 0,void 0,function*(){try{let r=yield p_.WebmFile.fromBlob(e);if((0,f_.fixParsedWebmDuration)(r,n,t))return r.toBlob(e.type)}catch{}return e});ga.fixWebmDuration=h_});var $y=vt(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var Dy=(Pi(),Fi(ki));Dy.__exportStar(Ny(),ya);Dy.__exportStar(kc(),ya)});var ab=vt(($c,Lc)=>{"use strict";(function(e,n){typeof $c=="object"&&typeof Lc<"u"?Lc.exports=n():typeof define=="function"&&define.amd?define(n):(e=typeof globalThis<"u"?globalThis:e||self,e.DOMPurify=n())})($c,function(){"use strict";let{entries:e,setPrototypeOf:n,isFrozen:t,getPrototypeOf:r,getOwnPropertyDescriptor:o}=Object,{freeze:i,seal:s,create:a}=Object,{apply:l,construct:c}=typeof Reflect<"u"&&Reflect;i||(i=function(ce){return ce}),s||(s=function(ce){return ce}),l||(l=function(ce,Oe,_e){return ce.apply(Oe,_e)}),c||(c=function(ce,Oe){return new ce(...Oe)});let u=k(Array.prototype.forEach),d=k(Array.prototype.pop),p=k(Array.prototype.push),f=k(String.prototype.toLowerCase),g=k(String.prototype.toString),m=k(String.prototype.match),v=k(String.prototype.replace),b=k(String.prototype.indexOf),S=k(String.prototype.trim),E=k(RegExp.prototype.test),T=L(TypeError);function k(Ae){return function(ce){for(var Oe=arguments.length,_e=new Array(Oe>1?Oe-1:0),St=1;St<Oe;St++)_e[St-1]=arguments[St];return l(Ae,ce,_e)}}function L(Ae){return function(){for(var ce=arguments.length,Oe=new Array(ce),_e=0;_e<ce;_e++)Oe[_e]=arguments[_e];return c(Ae,Oe)}}function _(Ae,ce){let Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f;n&&n(Ae,null);let _e=ce.length;for(;_e--;){let St=ce[_e];if(typeof St=="string"){let On=Oe(St);On!==St&&(t(ce)||(ce[_e]=On),St=On)}Ae[St]=!0}return Ae}function M(Ae){let ce=a(null);for(let[Oe,_e]of e(Ae))o(Ae,Oe)!==void 0&&(ce[Oe]=_e);return ce}function W(Ae,ce){for(;Ae!==null;){let _e=o(Ae,ce);if(_e){if(_e.get)return k(_e.get);if(typeof _e.value=="function")return k(_e.value)}Ae=r(Ae)}function Oe(_e){return console.warn("fallback value for",_e),null}return Oe}let ue=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ee=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ge=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),te=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=i(["#text"]),N=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),de=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),it=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pt=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hr=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),An=s(/<%[\w\W]*|[\w\W]*%>/gm),No=s(/\${[\w\W]*}/gm),Do=s(/^data-[\-\w.\u00B7-\uFFFF]/),$o=s(/^aria-[\-\w]+$/),Lo=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qb=s(/^(?:\w+script|data):/i),Kb=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zc=s(/^html$/i);var Wc=Object.freeze({__proto__:null,MUSTACHE_EXPR:hr,ERB_EXPR:An,TMPLIT_EXPR:No,DATA_ATTR:Do,ARIA_ATTR:$o,IS_ALLOWED_URI:Lo,IS_SCRIPT_OR_DATA:qb,ATTR_WHITESPACE:Kb,DOCTYPE_NAME:zc});let Yb=function(){return typeof window>"u"?null:window},Xb=function(ce,Oe){if(typeof ce!="object"||typeof ce.createPolicy!="function")return null;let _e=null,St="data-tt-policy-suffix";Oe&&Oe.hasAttribute(St)&&(_e=Oe.getAttribute(St));let On="dompurify"+(_e?"#"+_e:"");try{return ce.createPolicy(On,{createHTML(zr){return zr},createScriptURL(zr){return zr}})}catch{return console.warn("TrustedTypes policy "+On+" could not be created."),null}};function Gc(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yb(),ce=ne=>Gc(ne);if(ce.version="3.0.6",ce.removed=[],!Ae||!Ae.document||Ae.document.nodeType!==9)return ce.isSupported=!1,ce;let{document:Oe}=Ae,_e=Oe,St=_e.currentScript,{DocumentFragment:On,HTMLTemplateElement:zr,Node:Ea,Element:qc,NodeFilter:_a,NamedNodeMap:Jb=Ae.NamedNodeMap||Ae.MozNamedAttrMap,HTMLFormElement:Qb,DOMParser:ev,trustedTypes:Oi}=Ae,Ri=qc.prototype,tv=W(Ri,"cloneNode"),nv=W(Ri,"nextSibling"),rv=W(Ri,"childNodes"),ka=W(Ri,"parentNode");if(typeof zr=="function"){let ne=Oe.createElement("template");ne.content&&ne.content.ownerDocument&&(Oe=ne.content.ownerDocument)}let Ct,Bo="",{implementation:Pa,createNodeIterator:ov,createDocumentFragment:iv,getElementsByTagName:sv}=Oe,{importNode:av}=_e,yn={};ce.isSupported=typeof e=="function"&&typeof ka=="function"&&Pa&&Pa.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Ia,ERB_EXPR:Aa,TMPLIT_EXPR:Oa,DATA_ATTR:lv,ARIA_ATTR:cv,IS_SCRIPT_OR_DATA:uv,ATTR_WHITESPACE:Kc}=Wc,{IS_ALLOWED_URI:Yc}=Wc,lt=null,Xc=_({},[...ue,...Ee,...z,...te,...O]),ct=null,Zc=_({},[...N,...de,...it,...Pt]),Je=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fo=null,Ra=null,Jc=!0,Ma=!0,Qc=!1,eu=!0,Wr=!1,mr=!1,Na=!1,Da=!1,Gr=!1,Mi=!1,Ni=!1,tu=!0,nu=!1,dv="user-content-",$a=!0,Uo=!1,qr={},Kr=null,ru=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ou=null,iu=_({},["audio","video","img","source","image","track"]),La=null,su=_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Di="http://www.w3.org/1998/Math/MathML",$i="http://www.w3.org/2000/svg",Rn="http://www.w3.org/1999/xhtml",Yr=Rn,Ba=!1,Fa=null,pv=_({},[Di,$i,Rn],g),gr=null,fv=["application/xhtml+xml","text/html"],hv="text/html",ut=null,Xr=null,mv=Oe.createElement("form"),au=function(C){return C instanceof RegExp||C instanceof Function},Ua=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xr&&Xr===C)){if((!C||typeof C!="object")&&(C={}),C=M(C),gr=fv.indexOf(C.PARSER_MEDIA_TYPE)===-1?gr=hv:gr=C.PARSER_MEDIA_TYPE,ut=gr==="application/xhtml+xml"?g:f,lt="ALLOWED_TAGS"in C?_({},C.ALLOWED_TAGS,ut):Xc,ct="ALLOWED_ATTR"in C?_({},C.ALLOWED_ATTR,ut):Zc,Fa="ALLOWED_NAMESPACES"in C?_({},C.ALLOWED_NAMESPACES,g):pv,La="ADD_URI_SAFE_ATTR"in C?_(M(su),C.ADD_URI_SAFE_ATTR,ut):su,ou="ADD_DATA_URI_TAGS"in C?_(M(iu),C.ADD_DATA_URI_TAGS,ut):iu,Kr="FORBID_CONTENTS"in C?_({},C.FORBID_CONTENTS,ut):ru,Fo="FORBID_TAGS"in C?_({},C.FORBID_TAGS,ut):{},Ra="FORBID_ATTR"in C?_({},C.FORBID_ATTR,ut):{},qr="USE_PROFILES"in C?C.USE_PROFILES:!1,Jc=C.ALLOW_ARIA_ATTR!==!1,Ma=C.ALLOW_DATA_ATTR!==!1,Qc=C.ALLOW_UNKNOWN_PROTOCOLS||!1,eu=C.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wr=C.SAFE_FOR_TEMPLATES||!1,mr=C.WHOLE_DOCUMENT||!1,Gr=C.RETURN_DOM||!1,Mi=C.RETURN_DOM_FRAGMENT||!1,Ni=C.RETURN_TRUSTED_TYPE||!1,Da=C.FORCE_BODY||!1,tu=C.SANITIZE_DOM!==!1,nu=C.SANITIZE_NAMED_PROPS||!1,$a=C.KEEP_CONTENT!==!1,Uo=C.IN_PLACE||!1,Yc=C.ALLOWED_URI_REGEXP||Lo,Yr=C.NAMESPACE||Rn,Je=C.CUSTOM_ELEMENT_HANDLING||{},C.CUSTOM_ELEMENT_HANDLING&&au(C.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Je.tagNameCheck=C.CUSTOM_ELEMENT_HANDLING.tagNameCheck),C.CUSTOM_ELEMENT_HANDLING&&au(C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Je.attributeNameCheck=C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),C.CUSTOM_ELEMENT_HANDLING&&typeof C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Je.allowCustomizedBuiltInElements=C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wr&&(Ma=!1),Mi&&(Gr=!0),qr&&(lt=_({},[...O]),ct=[],qr.html===!0&&(_(lt,ue),_(ct,N)),qr.svg===!0&&(_(lt,Ee),_(ct,de),_(ct,Pt)),qr.svgFilters===!0&&(_(lt,z),_(ct,de),_(ct,Pt)),qr.mathMl===!0&&(_(lt,te),_(ct,it),_(ct,Pt))),C.ADD_TAGS&&(lt===Xc&&(lt=M(lt)),_(lt,C.ADD_TAGS,ut)),C.ADD_ATTR&&(ct===Zc&&(ct=M(ct)),_(ct,C.ADD_ATTR,ut)),C.ADD_URI_SAFE_ATTR&&_(La,C.ADD_URI_SAFE_ATTR,ut),C.FORBID_CONTENTS&&(Kr===ru&&(Kr=M(Kr)),_(Kr,C.FORBID_CONTENTS,ut)),$a&&(lt["#text"]=!0),mr&&_(lt,["html","head","body"]),lt.table&&(_(lt,["tbody"]),delete Fo.tbody),C.TRUSTED_TYPES_POLICY){if(typeof C.TRUSTED_TYPES_POLICY.createHTML!="function")throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof C.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ct=C.TRUSTED_TYPES_POLICY,Bo=Ct.createHTML("")}else Ct===void 0&&(Ct=Xb(Oi,St)),Ct!==null&&typeof Bo=="string"&&(Bo=Ct.createHTML(""));i&&i(C),Xr=C}},lu=_({},["mi","mo","mn","ms","mtext"]),cu=_({},["foreignobject","desc","title","annotation-xml"]),gv=_({},["title","style","font","a","script"]),Li=_({},Ee);_(Li,z),_(Li,ge);let ja=_({},te);_(ja,A);let yv=function(C){let $=ka(C);(!$||!$.tagName)&&($={namespaceURI:Yr,tagName:"template"});let q=f(C.tagName),$e=f($.tagName);return Fa[C.namespaceURI]?C.namespaceURI===$i?$.namespaceURI===Rn?q==="svg":$.namespaceURI===Di?q==="svg"&&($e==="annotation-xml"||lu[$e]):!!Li[q]:C.namespaceURI===Di?$.namespaceURI===Rn?q==="math":$.namespaceURI===$i?q==="math"&&cu[$e]:!!ja[q]:C.namespaceURI===Rn?$.namespaceURI===$i&&!cu[$e]||$.namespaceURI===Di&&!lu[$e]?!1:!ja[q]&&(gv[q]||!Li[q]):!!(gr==="application/xhtml+xml"&&Fa[C.namespaceURI]):!1},yr=function(C){p(ce.removed,{element:C});try{C.parentNode.removeChild(C)}catch{C.remove()}},Va=function(C,$){try{p(ce.removed,{attribute:$.getAttributeNode(C),from:$})}catch{p(ce.removed,{attribute:null,from:$})}if($.removeAttribute(C),C==="is"&&!ct[C])if(Gr||Mi)try{yr($)}catch{}else try{$.setAttribute(C,"")}catch{}},uu=function(C){let $=null,q=null;if(Da)C="<remove></remove>"+C;else{let bt=m(C,/^[\r\n\t ]+/);q=bt&&bt[0]}gr==="application/xhtml+xml"&&Yr===Rn&&(C='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+C+"</body></html>");let $e=Ct?Ct.createHTML(C):C;if(Yr===Rn)try{$=new ev().parseFromString($e,gr)}catch{}if(!$||!$.documentElement){$=Pa.createDocument(Yr,"template",null);try{$.documentElement.innerHTML=Ba?Bo:$e}catch{}}let yt=$.body||$.documentElement;return C&&q&&yt.insertBefore(Oe.createTextNode(q),yt.childNodes[0]||null),Yr===Rn?sv.call($,mr?"html":"body")[0]:mr?$.documentElement:yt},du=function(C){return ov.call(C.ownerDocument||C,C,_a.SHOW_ELEMENT|_a.SHOW_COMMENT|_a.SHOW_TEXT,null)},bv=function(C){return C instanceof Qb&&(typeof C.nodeName!="string"||typeof C.textContent!="string"||typeof C.removeChild!="function"||!(C.attributes instanceof Jb)||typeof C.removeAttribute!="function"||typeof C.setAttribute!="function"||typeof C.namespaceURI!="string"||typeof C.insertBefore!="function"||typeof C.hasChildNodes!="function")},pu=function(C){return typeof Ea=="function"&&C instanceof Ea},Mn=function(C,$,q){yn[C]&&u(yn[C],$e=>{$e.call(ce,$,q,Xr)})},fu=function(C){let $=null;if(Mn("beforeSanitizeElements",C,null),bv(C))return yr(C),!0;let q=ut(C.nodeName);if(Mn("uponSanitizeElement",C,{tagName:q,allowedTags:lt}),C.hasChildNodes()&&!pu(C.firstElementChild)&&E(/<[/\w]/g,C.innerHTML)&&E(/<[/\w]/g,C.textContent))return yr(C),!0;if(!lt[q]||Fo[q]){if(!Fo[q]&&mu(q)&&(Je.tagNameCheck instanceof RegExp&&E(Je.tagNameCheck,q)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(q)))return!1;if($a&&!Kr[q]){let $e=ka(C)||C.parentNode,yt=rv(C)||C.childNodes;if(yt&&$e){let bt=yt.length;for(let It=bt-1;It>=0;--It)$e.insertBefore(tv(yt[It],!0),nv(C))}}return yr(C),!0}return C instanceof qc&&!yv(C)||(q==="noscript"||q==="noembed"||q==="noframes")&&E(/<\/no(script|embed|frames)/i,C.innerHTML)?(yr(C),!0):(Wr&&C.nodeType===3&&($=C.textContent,u([Ia,Aa,Oa],$e=>{$=v($,$e," ")}),C.textContent!==$&&(p(ce.removed,{element:C.cloneNode()}),C.textContent=$)),Mn("afterSanitizeElements",C,null),!1)},hu=function(C,$,q){if(tu&&($==="id"||$==="name")&&(q in Oe||q in mv))return!1;if(!(Ma&&!Ra[$]&&E(lv,$))){if(!(Jc&&E(cv,$))){if(!ct[$]||Ra[$]){if(!(mu(C)&&(Je.tagNameCheck instanceof RegExp&&E(Je.tagNameCheck,C)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(C))&&(Je.attributeNameCheck instanceof RegExp&&E(Je.attributeNameCheck,$)||Je.attributeNameCheck instanceof Function&&Je.attributeNameCheck($))||$==="is"&&Je.allowCustomizedBuiltInElements&&(Je.tagNameCheck instanceof RegExp&&E(Je.tagNameCheck,q)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(q))))return!1}else if(!La[$]){if(!E(Yc,v(q,Kc,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&C!=="script"&&b(q,"data:")===0&&ou[C])){if(!(Qc&&!E(uv,v(q,Kc,"")))){if(q)return!1}}}}}}return!0},mu=function(C){return C.indexOf("-")>0},gu=function(C){Mn("beforeSanitizeAttributes",C,null);let{attributes:$}=C;if(!$)return;let q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ct},$e=$.length;for(;$e--;){let yt=$[$e],{name:bt,namespaceURI:It,value:br}=yt,jo=ut(bt),At=bt==="value"?br:S(br);if(q.attrName=jo,q.attrValue=At,q.keepAttr=!0,q.forceKeepAttr=void 0,Mn("uponSanitizeAttribute",C,q),At=q.attrValue,q.forceKeepAttr||(Va(bt,C),!q.keepAttr))continue;if(!eu&&E(/\/>/i,At)){Va(bt,C);continue}Wr&&u([Ia,Aa,Oa],bu=>{At=v(At,bu," ")});let yu=ut(C.nodeName);if(hu(yu,jo,At)){if(nu&&(jo==="id"||jo==="name")&&(Va(bt,C),At=dv+At),Ct&&typeof Oi=="object"&&typeof Oi.getAttributeType=="function"&&!It)switch(Oi.getAttributeType(yu,jo)){case"TrustedHTML":{At=Ct.createHTML(At);break}case"TrustedScriptURL":{At=Ct.createScriptURL(At);break}}try{It?C.setAttributeNS(It,bt,At):C.setAttribute(bt,At),d(ce.removed)}catch{}}}Mn("afterSanitizeAttributes",C,null)},vv=function ne(C){let $=null,q=du(C);for(Mn("beforeSanitizeShadowDOM",C,null);$=q.nextNode();)Mn("uponSanitizeShadowNode",$,null),!fu($)&&($.content instanceof On&&ne($.content),gu($));Mn("afterSanitizeShadowDOM",C,null)};return ce.sanitize=function(ne){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=null,q=null,$e=null,yt=null;if(Ba=!ne,Ba&&(ne="<!-->"),typeof ne!="string"&&!pu(ne))if(typeof ne.toString=="function"){if(ne=ne.toString(),typeof ne!="string")throw T("dirty is not a string, aborting")}else throw T("toString is not a function");if(!ce.isSupported)return ne;if(Na||Ua(C),ce.removed=[],typeof ne=="string"&&(Uo=!1),Uo){if(ne.nodeName){let br=ut(ne.nodeName);if(!lt[br]||Fo[br])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(ne instanceof Ea)$=uu("<!---->"),q=$.ownerDocument.importNode(ne,!0),q.nodeType===1&&q.nodeName==="BODY"||q.nodeName==="HTML"?$=q:$.appendChild(q);else{if(!Gr&&!Wr&&!mr&&ne.indexOf("<")===-1)return Ct&&Ni?Ct.createHTML(ne):ne;if($=uu(ne),!$)return Gr?null:Ni?Bo:""}$&&Da&&yr($.firstChild);let bt=du(Uo?ne:$);for(;$e=bt.nextNode();)fu($e)||($e.content instanceof On&&vv($e.content),gu($e));if(Uo)return ne;if(Gr){if(Mi)for(yt=iv.call($.ownerDocument);$.firstChild;)yt.appendChild($.firstChild);else yt=$;return(ct.shadowroot||ct.shadowrootmode)&&(yt=av.call(_e,yt,!0)),yt}let It=mr?$.outerHTML:$.innerHTML;return mr&&lt["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&E(zc,$.ownerDocument.doctype.name)&&(It="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+It),Wr&&u([Ia,Aa,Oa],br=>{It=v(It,br," ")}),Ct&&Ni?Ct.createHTML(It):It},ce.setConfig=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ua(ne),Na=!0},ce.clearConfig=function(){Xr=null,Na=!1},ce.isValidAttribute=function(ne,C,$){Xr||Ua({});let q=ut(ne),$e=ut(C);return hu(q,$e,$)},ce.addHook=function(ne,C){typeof C=="function"&&(yn[ne]=yn[ne]||[],p(yn[ne],C))},ce.removeHook=function(ne){if(yn[ne])return d(yn[ne])},ce.removeHooks=function(ne){yn[ne]&&(yn[ne]=[])},ce.removeAllHooks=function(){yn={}},ce}var Zb=Gc();return Zb})});function kv(e){return Object.keys(e).reduce((t,r)=>{let o=e[r];return t[r]=Object.assign({},o),Su(o.value)&&!Rv(o.value)&&!Array.isArray(o.value)&&(t[r].value=Object.assign({},o.value)),Array.isArray(o.value)&&(t[r].value=o.value.slice(0)),t},{})}function Pv(e){return e?Object.keys(e).reduce((t,r)=>{let o=e[r];return t[r]=Su(o)&&"value"in o?o:{value:o},t[r].attribute||(t[r].attribute=Ov(r)),t[r].parse="parse"in t[r]?t[r].parse:typeof t[r].value!="string",t},{}):{}}function Iv(e){return Object.keys(e).reduce((t,r)=>(t[r]=e[r].value,t),{})}function Av(e,n){let t=kv(n);return Object.keys(n).forEach(o=>{let i=t[o],s=e.getAttribute(i.attribute),a=e[o];s!=null&&(i.value=i.parse?wu(s):s),a!=null&&(i.value=Array.isArray(a)?a.slice(0):a),i.reflect&&xu(e,i.attribute,i.value,!!i.parse),Object.defineProperty(e,o,{get(){return i.value},set(l){let c=i.value;i.value=l,i.reflect&&xu(this,i.attribute,i.value,!!i.parse);for(let u=0,d=this.__propertyChangedCallbacks.length;u<d;u++)this.__propertyChangedCallbacks[u](o,l,c)},enumerable:!0,configurable:!0})}),t}function wu(e){if(e)try{return JSON.parse(e)}catch{return e}}function xu(e,n,t,r){if(t==null||t===!1)return e.removeAttribute(n);let o=r?JSON.stringify(t):t;e.__updating[n]=!0,o==="true"&&(o=""),e.setAttribute(n,o),Promise.resolve().then(()=>delete e.__updating[n])}function Ov(e){return e.replace(/\.?([A-Z]+)/g,(n,t)=>"-"+t.toLowerCase()).replace("_","-").replace(/^-/,"")}function Su(e){return e!=null&&(typeof e=="object"||typeof e=="function")}function Rv(e){return Object.prototype.toString.call(e)==="[object Function]"}function Mv(e){return typeof e=="function"&&e.toString().indexOf("class")===0}var za;function Nv(e,n){let t=Object.keys(n);return class extends e{static get observedAttributes(){return t.map(o=>n[o].attribute)}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=Av(this,n);let o=Iv(this.props),i=this.Component,s=za;try{za=this,this.__initialized=!0,Mv(i)?new i(o,{element:this}):i(o,{element:this})}finally{za=s}}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let o=null;for(;o=this.__releaseCallbacks.pop();)o(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(o,i,s){if(this.__initialized&&!this.__updating[o]&&(o=this.lookupProp(o),o in n)){if(s==null&&!this[o])return;this[o]=n[o].parse?wu(s):s}}lookupProp(o){if(n)return t.find(i=>o===i||o===n[i].attribute)}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(o){this.__releaseCallbacks.push(o)}addPropertyChangedCallback(o){this.__propertyChangedCallbacks.push(o)}}}var CP=Symbol("element-context");function Cu(e,n={},t={}){let{BaseElement:r=HTMLElement,extension:o,customElements:i=window.customElements}=t;return s=>{if(!e)throw new Error("tag is required to register a Component");let a=i.get(e);return a?(a.prototype.Component=s,a):(a=Nv(r,Pv(n)),a.prototype.Component=s,a.prototype.registeredTag=e,i.define(e,a,o),a)}}var ve={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Tu(this.context.count)},getNextContextId(){return Tu(this.context.count++)}};function Tu(e){let n=String(e),t=n.length-1;return ve.context.id+(t?String.fromCharCode(96+t):"")+n}function Ga(e){ve.context=e}function Dv(){return{...ve.context,id:ve.getNextContextId(),count:0}}var $v=!1,Lv=(e,n)=>e===n,jt=Symbol("solid-proxy"),Au=typeof Proxy=="function",Hi=Symbol("solid-track"),EP=Symbol("solid-dev-component"),ji={equals:Lv},Eu=null,Ou=Bu,Vt=1,Vo=2,Ru={owned:null,cleanups:null,context:null,owner:null};var be=null,U=null,zo=null,Zr=null,Re=null,st=null,xt=null,zi=0;function vr(e,n){let t=Re,r=be,o=e.length===0,i=n===void 0?r:n,s=o?Ru:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=o?e:()=>e(()=>tt(()=>Yn(s)));be=s,Re=null;try{return Jt(a,!0)}finally{Re=t,be=r}}function P(e,n){n=n?Object.assign({},ji,n):ji;let t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=o=>(typeof o=="function"&&(U&&U.running&&U.sources.has(t)?o=o(t.tValue):o=o(t.value)),Lu(t,o));return[$u.bind(t),r]}function I(e,n,t){let r=Za(e,n,!1,Vt);zo&&U&&U.running?st.push(r):Wo(r)}function me(e,n,t){Ou=jv;let r=Za(e,n,!1,Vt),o=qa&&Xa(qa);o&&(r.suspense=o),(!t||!t.render)&&(r.user=!0),xt?xt.push(r):Wo(r)}function R(e,n,t){t=t?Object.assign({},ji,t):ji;let r=Za(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,zo&&U&&U.running?(r.tState=Vt,st.push(r)):Wo(r),$u.bind(r)}function Mu(e){return Jt(e,!1)}function tt(e){if(!Zr&&Re===null)return e();let n=Re;Re=null;try{return Zr?Zr.untrack(e):e()}finally{Re=n}}function se(e){me(()=>tt(e))}function le(e){return be===null||(be.cleanups===null?be.cleanups=[e]:be.cleanups.push(e)),e}function Wi(){return Re}function Jr(){return be}function Nu(e,n){let t=be,r=Re;be=e,Re=null;try{return Jt(n,!0)}catch(o){qi(o)}finally{be=t,Re=r}}function Bv(e){if(U&&U.running)return e(),U.done;let n=Re,t=be;return Promise.resolve().then(()=>{Re=n,be=t;let r;return(zo||qa)&&(r=U||(U={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(o=>r.resolve=o)),r.running=!0),Jt(e,!1),Re=be=null,r?r.done:void 0})}var[_P,_u]=P(!1);function Du(e,n){let t=Symbol("context");return{id:t,Provider:Hv(t),defaultValue:e}}function Xa(e){let n;return be&&be.context&&(n=be.context[e.id])!==void 0?n:e.defaultValue}function Gi(e){let n=R(e),t=R(()=>Ka(n()));return t.toArray=()=>{let r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}var qa;function $u(){let e=U&&U.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===Vt)Wo(this);else{let n=st;st=null,Jt(()=>Vi(this),!1),st=n}if(Re){let n=this.observers?this.observers.length:0;Re.sources?(Re.sources.push(this),Re.sourceSlots.push(n)):(Re.sources=[this],Re.sourceSlots=[n]),this.observers?(this.observers.push(Re),this.observerSlots.push(Re.sources.length-1)):(this.observers=[Re],this.observerSlots=[Re.sources.length-1])}return e&&U.sources.has(this)?this.tValue:this.value}function Lu(e,n,t){let r=U&&U.running&&U.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,n)){if(U){let o=U.running;(o||!t&&U.sources.has(e))&&(U.sources.add(e),e.tValue=n),o||(e.value=n)}else e.value=n;e.observers&&e.observers.length&&Jt(()=>{for(let o=0;o<e.observers.length;o+=1){let i=e.observers[o],s=U&&U.running;s&&U.disposed.has(i)||((s?!i.tState:!i.state)&&(i.pure?st.push(i):xt.push(i),i.observers&&Fu(i)),s?i.tState=Vt:i.state=Vt)}if(st.length>1e6)throw st=[],new Error},!1)}return n}function Wo(e){if(!e.fn)return;Yn(e);let n=zi;ku(e,U&&U.running&&U.sources.has(e)?e.tValue:e.value,n),U&&!U.running&&U.sources.has(e)&&queueMicrotask(()=>{Jt(()=>{U&&(U.running=!0),Re=be=e,ku(e,e.tValue,n),Re=be=null},!1)})}function ku(e,n,t){let r,o=be,i=Re;Re=be=e;try{r=e.fn(n)}catch(s){return e.pure&&(U&&U.running?(e.tState=Vt,e.tOwned&&e.tOwned.forEach(Yn),e.tOwned=void 0):(e.state=Vt,e.owned&&e.owned.forEach(Yn),e.owned=null)),e.updatedAt=t+1,qi(s)}finally{Re=i,be=o}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?Lu(e,r,!0):U&&U.running&&e.pure?(U.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=t)}function Za(e,n,t,r=Vt,o){let i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:be,context:be?be.context:null,pure:t};if(U&&U.running&&(i.state=0,i.tState=r),be===null||be!==Ru&&(U&&U.running&&be.pure?be.tOwned?be.tOwned.push(i):be.tOwned=[i]:be.owned?be.owned.push(i):be.owned=[i]),Zr&&i.fn){let[s,a]=P(void 0,{equals:!1}),l=Zr.factory(i.fn,a);le(()=>l.dispose());let c=()=>Bv(a).then(()=>u.dispose()),u=Zr.factory(i.fn,c);i.fn=d=>(s(),U&&U.running?u.track(d):l.track(d))}return i}function Ho(e){let n=U&&U.running;if((n?e.tState:e.state)===0)return;if((n?e.tState:e.state)===Vo)return Vi(e);if(e.suspense&&tt(e.suspense.inFallback))return e.suspense.effects.push(e);let t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<zi);){if(n&&U.disposed.has(e))return;(n?e.tState:e.state)&&t.push(e)}for(let r=t.length-1;r>=0;r--){if(e=t[r],n){let o=e,i=t[r+1];for(;(o=o.owner)&&o!==i;)if(U.disposed.has(o))return}if((n?e.tState:e.state)===Vt)Wo(e);else if((n?e.tState:e.state)===Vo){let o=st;st=null,Jt(()=>Vi(e,t[0]),!1),st=o}}}function Jt(e,n){if(st)return e();let t=!1;n||(st=[]),xt?t=!0:xt=[],zi++;try{let r=e();return Fv(t),r}catch(r){t||(xt=null),st=null,qi(r)}}function Fv(e){if(st&&(zo&&U&&U.running?Uv(st):Bu(st),st=null),e)return;let n;if(U){if(!U.promises.size&&!U.queue.size){let r=U.sources,o=U.disposed;xt.push.apply(xt,U.effects),n=U.resolve;for(let i of xt)"tState"in i&&(i.state=i.tState),delete i.tState;U=null,Jt(()=>{for(let i of o)Yn(i);for(let i of r){if(i.value=i.tValue,i.owned)for(let s=0,a=i.owned.length;s<a;s++)Yn(i.owned[s]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}_u(!1)},!1)}else if(U.running){U.running=!1,U.effects.push.apply(U.effects,xt),xt=null,_u(!0);return}}let t=xt;xt=null,t.length&&Jt(()=>Ou(t),!1),n&&n()}function Bu(e){for(let n=0;n<e.length;n++)Ho(e[n])}function Uv(e){for(let n=0;n<e.length;n++){let t=e[n],r=U.queue;r.has(t)||(r.add(t),zo(()=>{r.delete(t),Jt(()=>{U.running=!0,Ho(t)},!1),U&&(U.running=!1)}))}}function jv(e){let n,t=0;for(n=0;n<e.length;n++){let r=e[n];r.user?e[t++]=r:Ho(r)}if(ve.context){if(ve.count){ve.effects||(ve.effects=[]),ve.effects.push(...e.slice(0,t));return}Ga()}for(ve.effects&&(ve.done||!ve.count)&&(e=[...ve.effects,...e],t+=ve.effects.length,delete ve.effects),n=0;n<t;n++)Ho(e[n])}function Vi(e,n){let t=U&&U.running;t?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let o=e.sources[r];if(o.sources){let i=t?o.tState:o.state;i===Vt?o!==n&&(!o.updatedAt||o.updatedAt<zi)&&Ho(o):i===Vo&&Vi(o,n)}}}function Fu(e){let n=U&&U.running;for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t];(n?!r.tState:!r.state)&&(n?r.tState=Vo:r.state=Vo,r.pure?st.push(r):xt.push(r),r.observers&&Fu(r))}}function Yn(e){let n;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),o=t.observers;if(o&&o.length){let i=o.pop(),s=t.observerSlots.pop();r<o.length&&(i.sourceSlots[s]=r,o[r]=i,t.observerSlots[r]=s)}}if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)Yn(e.tOwned[n]);delete e.tOwned}if(U&&U.running&&e.pure)Uu(e,!0);else if(e.owned){for(n=e.owned.length-1;n>=0;n--)Yn(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}U&&U.running?e.tState=0:e.state=0}function Uu(e,n){if(n||(e.tState=0,U.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)Uu(e.owned[t])}function Vv(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Pu(e,n,t){try{for(let r of n)r(e)}catch(r){qi(r,t&&t.owner||null)}}function qi(e,n=be){let t=Eu&&n&&n.context&&n.context[Eu],r=Vv(e);if(!t)throw r;xt?xt.push({fn(){Pu(r,t,n)},state:Vt}):Pu(r,t,n)}function Ka(e){if(typeof e=="function"&&!e.length)return Ka(e());if(Array.isArray(e)){let n=[];for(let t=0;t<e.length;t++){let r=Ka(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Hv(e,n){return function(r){let o;return I(()=>o=tt(()=>(be.context={...be.context,[e]:r.value},Gi(()=>r.children))),void 0),o}}var zv=Symbol("fallback");function Iu(e){for(let n=0;n<e.length;n++)e[n]()}function Wv(e,n,t={}){let r=[],o=[],i=[],s=0,a=n.length>1?[]:null;return le(()=>Iu(i)),()=>{let l=e()||[],c=l.length,u,d;return l[Hi],tt(()=>{let f,g,m,v,b,S,E,T,k;if(c===0)s!==0&&(Iu(i),i=[],r=[],o=[],s=0,a&&(a=[])),t.fallback&&(r=[zv],o[0]=vr(L=>(i[0]=L,t.fallback())),s=1);else if(s===0){for(o=new Array(c),d=0;d<c;d++)r[d]=l[d],o[d]=vr(p);s=c}else{for(m=new Array(c),v=new Array(c),a&&(b=new Array(c)),S=0,E=Math.min(s,c);S<E&&r[S]===l[S];S++);for(E=s-1,T=c-1;E>=S&&T>=S&&r[E]===l[T];E--,T--)m[T]=o[E],v[T]=i[E],a&&(b[T]=a[E]);for(f=new Map,g=new Array(T+1),d=T;d>=S;d--)k=l[d],u=f.get(k),g[d]=u===void 0?-1:u,f.set(k,d);for(u=S;u<=E;u++)k=r[u],d=f.get(k),d!==void 0&&d!==-1?(m[d]=o[u],v[d]=i[u],a&&(b[d]=a[u]),d=g[d],f.set(k,d)):i[u]();for(d=S;d<c;d++)d in m?(o[d]=m[d],i[d]=v[d],a&&(a[d]=b[d],a[d](d))):o[d]=vr(p);o=o.slice(0,s=c),r=l.slice(0)}return o});function p(f){if(i[d]=f,a){let[g,m]=P(d);return a[d]=m,n(l[d],g)}return n(l[d])}}}var Gv=!1;function h(e,n){if(Gv&&ve.context){let t=ve.context;Ga(Dv());let r=tt(()=>e(n||{}));return Ga(t),r}return tt(()=>e(n||{}))}function Ui(){return!0}var Ya={get(e,n,t){return n===jt?t:e.get(n)},has(e,n){return n===jt?!0:e.has(n)},set:Ui,deleteProperty:Ui,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:Ui,deleteProperty:Ui}},ownKeys(e){return e.keys()}};function Wa(e){return(e=typeof e=="function"?e():e)?e:{}}function qv(){for(let e=0,n=this.length;e<n;++e){let t=this[e]();if(t!==void 0)return t}}function we(...e){let n=!1;for(let s=0;s<e.length;s++){let a=e[s];n=n||!!a&&jt in a,e[s]=typeof a=="function"?(n=!0,R(a)):a}if(Au&&n)return new Proxy({get(s){for(let a=e.length-1;a>=0;a--){let l=Wa(e[a])[s];if(l!==void 0)return l}},has(s){for(let a=e.length-1;a>=0;a--)if(s in Wa(e[a]))return!0;return!1},keys(){let s=[];for(let a=0;a<e.length;a++)s.push(...Object.keys(Wa(e[a])));return[...new Set(s)]}},Ya);let t={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){let a=e[s];if(!a)continue;let l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){let u=l[c];if(u==="__proto__"||u==="constructor")continue;let d=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:qv.bind(t[u]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{let p=t[u];p&&(d.get?p.push(d.get.bind(a)):d.value!==void 0&&p.push(()=>d.value))}}}let o={},i=Object.keys(r);for(let s=i.length-1;s>=0;s--){let a=i[s],l=r[a];l&&l.get?Object.defineProperty(o,a,l):o[a]=l?l.value:void 0}return o}function qe(e,...n){if(Au&&jt in e){let o=new Set(n.length>1?n.flat():n[0]),i=n.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},Ya));return i.push(new Proxy({get(s){return o.has(s)?void 0:e[s]},has(s){return o.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!o.has(s))}},Ya)),i}let t={},r=n.map(()=>({}));for(let o of Object.getOwnPropertyNames(e)){let i=Object.getOwnPropertyDescriptor(e,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable,a=!1,l=0;for(let c of n)c.includes(o)&&(a=!0,s?r[l][o]=i.value:Object.defineProperty(r[l],o,i)),++l;a||(s?t[o]=i.value:Object.defineProperty(t,o,i))}return[...r,t]}var Kv=0;function bn(){return ve.context?ve.getNextContextId():`cl-${Kv++}`}var ju=e=>`Stale read from <${e}>.`;function ye(e){let n="fallback"in e&&{fallback:()=>e.fallback};return R(Wv(()=>e.each,e.children,n||void 0))}function B(e){let n=e.keyed,t=R(()=>e.when,void 0,void 0),r=n?t:R(t,void 0,{equals:(o,i)=>!o==!i});return R(()=>{let o=r();if(o){let i=e.children;return typeof i=="function"&&i.length>0?tt(()=>i(n?o:()=>{if(!tt(r))throw ju("Show");return t()})):i}return e.fallback},void 0,void 0)}function ke(e){let n=Gi(()=>e.children),t=R(()=>{let r=n(),o=Array.isArray(r)?r:[r],i=()=>{};for(let s=0;s<o.length;s++){let a=s,l=o[s],c=i,u=R(()=>c()?void 0:l.when,void 0,void 0),d=l.keyed?u:R(u,void 0,{equals:(p,f)=>!p==!f});i=()=>c()||(d()?[a,u,l]:void 0)}return i});return R(()=>{let r=t()();if(!r)return e.fallback;let[o,i,s]=r,a=s.children;return typeof a=="function"&&a.length>0?tt(()=>a(s.keyed?i():()=>{if(tt(t)()?.[0]!==o)throw ju("Match");return i()})):a},void 0,void 0)}function V(e){return e}var Yv=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Xv=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Yv]),Zv=new Set(["innerHTML","textContent","innerText","children"]),Jv=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Qv=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ex(e,n){let t=Qv[e];return typeof t=="object"?t[n]?t.$:void 0:t}var tx=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),nx=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),rx={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ox(e,n,t){let r=t.length,o=n.length,i=r,s=0,a=0,l=n[o-1].nextSibling,c=null;for(;s<o||a<i;){if(n[s]===t[a]){s++,a++;continue}for(;n[o-1]===t[i-1];)o--,i--;if(o===s){let u=i<r?a?t[a-1].nextSibling:t[i-a]:l;for(;a<i;)e.insertBefore(t[a++],u)}else if(i===a)for(;s<o;)(!c||!c.has(n[s]))&&n[s].remove(),s++;else if(n[s]===t[i-1]&&t[a]===n[o-1]){let u=n[--o].nextSibling;e.insertBefore(t[a++],n[s++].nextSibling),e.insertBefore(t[--i],u),n[o]=t[i]}else{if(!c){c=new Map;let d=a;for(;d<i;)c.set(t[d],d++)}let u=c.get(n[s]);if(u!=null)if(a<u&&u<i){let d=s,p=1,f;for(;++d<o&&d<i&&!((f=c.get(n[d]))==null||f!==u+p);)p++;if(p>u-a){let g=n[s];for(;a<u;)e.insertBefore(t[a++],g)}else e.replaceChild(t[a++],n[s++])}else s++;else n[s++].remove()}}}var Vu="_$DX_DELEGATE";function w(e,n,t,r){let o,i=()=>{let a=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=e,t?a.content.firstChild.firstChild:r?a.firstChild:a.content.firstChild},s=n?()=>tt(()=>document.importNode(o||(o=i()),!0)):()=>(o||(o=i())).cloneNode(!0);return s.cloneNode=s,s}function Ve(e,n=window.document){let t=n[Vu]||(n[Vu]=new Set);for(let r=0,o=e.length;r<o;r++){let i=e[r];t.has(i)||(t.add(i),n.addEventListener(i,dx))}}function F(e,n,t){xr(e)||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function ix(e,n,t,r){xr(e)||(r==null?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,r))}function sx(e,n,t){xr(e)||(t?e.setAttribute(n,""):e.removeAttribute(n))}function D(e,n){xr(e)||(n==null?e.removeAttribute("class"):e.className=n)}function He(e,n,t,r){if(r)Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t;else if(Array.isArray(t)){let o=t[0];e.addEventListener(n,t[0]=i=>o.call(e,t[1],i))}else e.addEventListener(n,t,typeof t!="function"&&t)}function ax(e,n,t={}){let r=Object.keys(n||{}),o=Object.keys(t),i,s;for(i=0,s=o.length;i<s;i++){let a=o[i];!a||a==="undefined"||n[a]||(Hu(e,a,!1),delete t[a])}for(i=0,s=r.length;i<s;i++){let a=r[i],l=!!n[a];!a||a==="undefined"||t[a]===l||!l||(Hu(e,a,!0),t[a]=l)}return t}function Qa(e,n,t){if(!n)return t?F(e,"style"):n;let r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let o,i;for(i in t)n[i]==null&&r.removeProperty(i),delete t[i];for(i in n)o=n[i],o!==t[i]&&(r.setProperty(i,o),t[i]=o);return t}function Se(e,n={},t,r){let o={};return r||I(()=>o.children=eo(e,n.children,o.children)),I(()=>typeof n.ref=="function"&&pe(n.ref,e)),I(()=>lx(e,n,t,!0,o,!0)),o}function pe(e,n,t){return tt(()=>e(n,t))}function x(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return eo(e,n,r,t);I(o=>eo(e,n(),o,t),r)}function lx(e,n,t,r,o={},i=!1){n||(n={});for(let s in o)if(!(s in n)){if(s==="children")continue;o[s]=zu(e,s,null,o[s],t,i,n)}for(let s in n){if(s==="children"){r||eo(e,n.children);continue}let a=n[s];o[s]=zu(e,s,a,o[s],t,i,n)}}function cx(e){let n,t;return!xr()||!(n=ve.registry.get(t=px()))?e():(ve.completed&&ve.completed.add(n),ve.registry.delete(t),n)}function xr(e){return!!ve.context&&!ve.done&&(!e||e.isConnected)}function ux(e){return e.toLowerCase().replace(/-([a-z])/g,(n,t)=>t.toUpperCase())}function Hu(e,n,t){let r=n.trim().split(/\s+/);for(let o=0,i=r.length;o<i;o++)e.classList.toggle(r[o],t)}function zu(e,n,t,r,o,i,s){let a,l,c,u,d;if(n==="style")return Qa(e,t,r);if(n==="classList")return ax(e,t,r);if(t===r)return r;if(n==="ref")i||t(e);else if(n.slice(0,3)==="on:"){let p=n.slice(3);r&&e.removeEventListener(p,r,typeof r!="function"&&r),t&&e.addEventListener(p,t,typeof t!="function"&&t)}else if(n.slice(0,10)==="oncapture:"){let p=n.slice(10);r&&e.removeEventListener(p,r,!0),t&&e.addEventListener(p,t,!0)}else if(n.slice(0,2)==="on"){let p=n.slice(2).toLowerCase(),f=tx.has(p);if(!f&&r){let g=Array.isArray(r)?r[0]:r;e.removeEventListener(p,g)}(f||t)&&(He(e,p,t,f),f&&Ve([p]))}else if(n.slice(0,5)==="attr:")F(e,n.slice(5),t);else if(n.slice(0,5)==="bool:")sx(e,n.slice(5),t);else if((d=n.slice(0,5)==="prop:")||(c=Zv.has(n))||!o&&((u=ex(n,e.tagName))||(l=Xv.has(n)))||(a=e.nodeName.includes("-")||"is"in s)){if(d)n=n.slice(5),l=!0;else if(xr(e))return t;n==="class"||n==="className"?D(e,t):a&&!l&&!c?e[ux(n)]=t:e[u||n]=t}else{let p=o&&n.indexOf(":")>-1&&rx[n.split(":")[0]];p?ix(e,p,n,t):F(e,Jv[n]||n,t)}return t}function dx(e){if(ve.registry&&ve.events&&ve.events.find(([l,c])=>c===e))return;let n=e.target,t=`$$${e.type}`,r=e.target,o=e.currentTarget,i=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),s=()=>{let l=n[t];if(l&&!n.disabled){let c=n[`${t}Data`];if(c!==void 0?l.call(n,c,e):l.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&i(n.host),!0},a=()=>{for(;s()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),ve.registry&&!ve.done&&(ve.done=_$HY.done=!0),e.composedPath){let l=e.composedPath();i(l[0]);for(let c=0;c<l.length-2&&(n=l[c],!!s());c++){if(n._$host){n=n._$host,a();break}if(n.parentNode===o)break}}else a();i(r)}function eo(e,n,t,r,o){let i=xr(e);if(i){!t&&(t=[...e.childNodes]);let l=[];for(let c=0;c<t.length;c++){let u=t[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}t=l}for(;typeof t=="function";)t=t();if(n===t)return t;let s=typeof n,a=r!==void 0;if(e=a&&t[0]&&t[0].parentNode||e,s==="string"||s==="number"){if(i||s==="number"&&(n=n.toString(),n===t))return t;if(a){let l=t[0];l&&l.nodeType===3?l.data!==n&&(l.data=n):l=document.createTextNode(n),t=Qr(e,t,r,l)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||s==="boolean"){if(i)return t;t=Qr(e,t,r)}else{if(s==="function")return I(()=>{let l=n();for(;typeof l=="function";)l=l();t=eo(e,l,t,r)}),()=>t;if(Array.isArray(n)){let l=[],c=t&&Array.isArray(t);if(Ja(l,n,t,o))return I(()=>t=eo(e,l,t,r,!0)),()=>t;if(i){if(!l.length)return t;if(r===void 0)return t=[...e.childNodes];let u=l[0];if(u.parentNode!==e)return t;let d=[u];for(;(u=u.nextSibling)!==r;)d.push(u);return t=d}if(l.length===0){if(t=Qr(e,t,r),a)return t}else c?t.length===0?Wu(e,l,r):ox(e,t,l):(t&&Qr(e),Wu(e,l));t=l}else if(n.nodeType){if(i&&n.parentNode)return t=a?[n]:n;if(Array.isArray(t)){if(a)return t=Qr(e,t,r,n);Qr(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function Ja(e,n,t,r){let o=!1;for(let i=0,s=n.length;i<s;i++){let a=n[i],l=t&&t[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))o=Ja(e,a,l)||o;else if(c==="function")if(r){for(;typeof a=="function";)a=a();o=Ja(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||o}else e.push(a),o=!0;else{let u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return o}function Wu(e,n,t=null){for(let r=0,o=n.length;r<o;r++)e.insertBefore(n[r],t)}function Qr(e,n,t,r){if(t===void 0)return e.textContent="";let o=r||document.createTextNode("");if(n.length){let i=!1;for(let s=n.length-1;s>=0;s--){let a=n[s];if(o!==a){let l=a.parentNode===e;!i&&!s?l?e.replaceChild(o,a):e.insertBefore(o,t):l&&a.remove()}else i=!0}}else e.insertBefore(o,t);return[o]}function px(){return ve.getNextContextId()}var NP=Symbol();var fx="http://www.w3.org/2000/svg";function Gu(e,n=!1){return n?document.createElementNS(fx,e):document.createElement(e)}function Ki(e){let{useShadow:n}=e,t=document.createTextNode(""),r=()=>e.mount||document.body,o=Jr(),i,s=!!ve.context;return me(()=>{s&&(Jr().user=s=!1),i||(i=Nu(o,()=>R(()=>e.children)));let a=r();if(a instanceof HTMLHeadElement){let[l,c]=P(!1),u=()=>c(!0);vr(d=>x(a,()=>l()?d():i(),null)),le(u)}else{let l=Gu(e.isSVG?"g":"div",e.isSVG),c=n&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return t.parentNode},configurable:!0}),x(c,i),a.appendChild(l),e.ref&&e.ref(l),le(()=>a.removeChild(l))}},void 0,{render:!s}),t}function hx(e,n){let t=R(e);return R(()=>{let r=t();switch(typeof r){case"function":return tt(()=>r(n));case"string":let o=nx.has(r),i=ve.context?cx():Gu(r,o);return Se(i,n,o),i}})}function qu(e){let[,n]=qe(e,["component"]);return hx(()=>e.component,n)}function mx(e){let n=Object.keys(e),t={};for(let r=0;r<n.length;r++){let[o,i]=P(e[n[r]]);Object.defineProperty(t,n[r],{get:o,set(s){i(()=>s)}})}return t}function gx(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let n=e.parentNode;for(;n&&!n._$owner&&!(n.assignedSlot&&n.assignedSlot._$owner);)n=n.parentNode;return n&&n.assignedSlot?n.assignedSlot._$owner:e._$owner}function yx(e){return(n,t)=>{let{element:r}=t;return vr(o=>{let i=mx(n);r.addPropertyChangedCallback((a,l)=>i[a]=l),r.addReleaseCallback(()=>{r.renderRoot.textContent="",o()});let s=e(i,t);return x(r.renderRoot,s)},gx(r))}}function Yi(e,n,t){return arguments.length===2&&(t=n,n={}),Cu(e,n)(yx(t))}var Xi={id:void 0,typebot:void 0,onNewInputBlock:void 0,onAnswer:void 0,onEnd:void 0,onInit:void 0,onNewLogs:void 0,onChatStatePersisted:void 0,onScriptExecutionSuccess:void 0,font:void 0,progressBarRef:void 0,isPreview:void 0,startFrom:void 0,prefilledVariables:void 0,apiHost:void 0,wsHost:void 0,resultId:void 0,sessionId:void 0},Ku={...Xi,onClose:void 0,onOpen:void 0,theme:void 0,autoShowDelay:void 0,isOpen:void 0,defaultOpen:void 0},Yu={...Xi,onClose:void 0,onOpen:void 0,theme:void 0,previewMessage:void 0,onPreviewMessageClick:void 0,onPreviewMessageDismissed:void 0,autoShowDelay:void 0,inlineStyle:void 0};var Xu=e=>{sessionStorage.setItem("typebotPaymentInProgress",JSON.stringify(e))},to=()=>sessionStorage.getItem("typebotPaymentInProgress"),Zi=()=>{sessionStorage.removeItem("typebotPaymentInProgress")};var no=class extends Error{constructor(n){super("This bot can only be executed on "+n)}};var Qt=(e,n)=>{if(typeof window<"u")return window.__ENV?window.__ENV[e]??n:void 0;if(!(typeof process>"u"))return process.env[e]??n};var bx="https://typebot.io",Ot=({ignoreChatApiUrl:e}={ignoreChatApiUrl:!1})=>{let n=Qt("NEXT_PUBLIC_CHAT_API_URL"),t=Qt("NEXT_PUBLIC_USE_EXPERIMENTAL_CHAT_API_ON")?.split(",");if(!e&&n&&(!t||t.some(i=>i===window.location.href)))return n;let r=Qt("NEXT_PUBLIC_VIEWER_URL")?.split(",");return r?.find(i=>window.location.href.startsWith(i))??r?.[0]??bx};var Zu=async e=>{let n;try{let t=typeof e=="string"?e:e.url;n=await fetch(t,{method:typeof e=="string"?"GET":e.method,mode:"cors",headers:typeof e!="string"&&re(e.body)?{"Content-Type":"application/json"}:void 0,body:typeof e!="string"&&re(e.body)?JSON.stringify(e.body):void 0});let r=await n.json();if(!n.ok)throw"error"in r?r.error:r;return{data:r,response:n}}catch(t){return console.error(t),{error:t,response:n}}},re=e=>e!=null,Ye=e=>e==null,ze=e=>e==null||e==="",Ce=e=>e!=null&&e!=="";var Ju=e=>{e.split("</noscript>").forEach(t=>{let[r,o]=t.split("<noscript>"),i=document.createRange().createContextualFragment(r??"");if(document.head.append(i),Ye(o))return;let s=document.createElement("noscript"),a=document.createRange().createContextualFragment(o);s.append(a),document.head.append(s)})};var Nn=e=>e?.startsWith("data:image/svg")||e?.endsWith(".svg");var Xn=class extends Error{constructor(n,t,r){let o=n.status||n.status===0?n.status:"",i=n.statusText||"",s=`${o} ${i}`.trim(),a=s?`status code ${s}`:"an unknown error";super(`Request failed with ${a}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=n,this.request=t,this.options=r}};var ro=class extends Error{constructor(n){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=n}};var Go=e=>e!==null&&typeof e=="object";var qo=(...e)=>{for(let n of e)if((!Go(n)||Array.isArray(n))&&n!==void 0)throw new TypeError("The `options` argument must be an object");return Ji({},...e)},el=(e={},n={})=>{let t=new globalThis.Headers(e),r=n instanceof globalThis.Headers,o=new globalThis.Headers(n);for(let[i,s]of o.entries())r&&s==="undefined"||s===void 0?t.delete(i):t.set(i,s);return t},Ji=(...e)=>{let n={},t={};for(let r of e)if(Array.isArray(r))Array.isArray(n)||(n=[]),n=[...n,...r];else if(Go(r)){for(let[o,i]of Object.entries(r))Go(i)&&o in n&&(i=Ji(n[o],i)),n={...n,[o]:i};Go(r.headers)&&(t=el(t,r.headers),n.headers=t)}return n};var Qu=(()=>{let e=!1,n=!1,t=typeof globalThis.ReadableStream=="function",r=typeof globalThis.Request=="function";return t&&r&&(n=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")),e&&!n})(),ed=typeof globalThis.AbortController=="function",td=typeof globalThis.ReadableStream=="function",nd=typeof globalThis.FormData=="function",Qi=["get","post","put","patch","head","delete"],vx=()=>{};vx();var rd={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},es=2147483647,ts=Symbol("stop"),od={json:!0,parseJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},id={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0};var ad=e=>Qi.includes(e)?e.toUpperCase():e,xx=["get","put","head","delete","options","trace"],wx=[408,413,429,500,502,503,504],ld=[413,429,503],sd={limit:2,methods:xx,statusCodes:wx,afterStatusCodes:ld,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},cd=(e={})=>{if(typeof e=="number")return{...sd,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...sd,...e,afterStatusCodes:ld}};async function tl(e,n,t,r){return new Promise((o,i)=>{let s=setTimeout(()=>{t&&t.abort(),i(new ro(e))},r.timeout);r.fetch(e,n).then(o).catch(i).then(()=>{clearTimeout(s)})})}async function nl(e,{signal:n}){return new Promise((t,r)=>{n&&(n.throwIfAborted(),n.addEventListener("abort",o,{once:!0}));function o(){clearTimeout(i),r(n.reason)}let i=setTimeout(()=>{n?.removeEventListener("abort",o),t()},e)})}var ud=(e,n)=>{let t={};for(let r in n)!(r in id)&&!(r in od)&&!(r in e)&&(t[r]=n[r]);return t};var Ko=class e{static create(n,t){let r=new e(n,t),o=async()=>{if(typeof r._options.timeout=="number"&&r._options.timeout>es)throw new RangeError(`The \`timeout\` option cannot be greater than ${es}`);await Promise.resolve();let a=await r._fetch();for(let l of r._options.hooks.afterResponse){let c=await l(r.request,r._options,r._decorateResponse(a.clone()));c instanceof globalThis.Response&&(a=c)}if(r._decorateResponse(a),!a.ok&&r._options.throwHttpErrors){let l=new Xn(a,r.request,r._options);for(let c of r._options.hooks.beforeError)l=await c(l);throw l}if(r._options.onDownloadProgress){if(typeof r._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!td)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return r._stream(a.clone(),r._options.onDownloadProgress)}return a},s=r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(o):o();for(let[a,l]of Object.entries(rd))s[a]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||l);let u=(await s).clone();if(a==="json"){if(u.status===204||(await u.clone().arrayBuffer()).byteLength===0)return"";if(t.parseJson)return t.parseJson(await u.text())}return u[a]()};return s}constructor(n,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=n;let r=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...r&&{credentials:r},...t,headers:el(this._input.headers,t.headers),hooks:Ji({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:ad(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:cd(t.retry),throwHttpErrors:t.throwHttpErrors!==!1,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(ed){if(this.abortController=new globalThis.AbortController,this._options.signal){let o=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(o.reason)})}this._options.signal=this.abortController.signal}if(Qu&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let i="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),s=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,i);(nd&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(s,{...this.request}),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(n){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(n instanceof ro)){if(n instanceof Xn){if(!this._options.retry.statusCodes.includes(n.response.status))return 0;let r=n.response.headers.get("Retry-After");if(r&&this._options.retry.afterStatusCodes.includes(n.response.status)){let o=Number(r);return Number.isNaN(o)?o=Date.parse(r)-Date.now():o*=1e3,this._options.retry.maxRetryAfter!==void 0&&o>this._options.retry.maxRetryAfter?0:o}if(n.response.status===413)return 0}let t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(n){return this._options.parseJson&&(n.json=async()=>this._options.parseJson(await n.text())),n}async _retry(n){try{return await n()}catch(t){let r=Math.min(this._calculateRetryDelay(t),es);if(r!==0&&this._retryCount>0){await nl(r,{signal:this._options.signal});for(let o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===ts)return;return this._retry(n)}throw t}}async _fetch(){for(let t of this._options.hooks.beforeRequest){let r=await t(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}let n=ud(this.request,this._options);return this._options.timeout===!1?this._options.fetch(this.request.clone(),n):tl(this.request.clone(),n,this.abortController,this._options)}_stream(n,t){let r=Number(n.headers.get("content-length"))||0,o=0;return n.status===204?(t&&t({percent:1,totalBytes:r,transferredBytes:o},new Uint8Array),new globalThis.Response(null,{status:n.status,statusText:n.statusText,headers:n.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(i){let s=n.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array);async function a(){let{done:l,value:c}=await s.read();if(l){i.close();return}if(t){o+=c.byteLength;let u=r===0?0:o/r;t({percent:u,transferredBytes:o,totalBytes:r},c)}i.enqueue(c),await a()}await a()}}),{status:n.status,statusText:n.statusText,headers:n.headers})}};var rl=e=>{let n=(t,r)=>Ko.create(t,qo(e,r));for(let t of Qi)n[t]=(r,o)=>Ko.create(r,qo(e,o,{method:t}));return n.create=t=>rl(qo(t)),n.extend=t=>rl(qo(e,t)),n.stop=ts,n},Sx=rl(),Zn=Sx;async function dd({typebot:e,isPreview:n,apiHost:t,prefilledVariables:r,resultId:o,stripeRedirectStatus:i,startFrom:s,sessionId:a}){if(Ye(e))throw new Error("Typebot ID is required to get initial messages");let l=to()??void 0,c=l?JSON.parse(l):void 0;if(c)return Cx({apiHost:t,stripeRedirectStatus:i,paymentInProgressState:c});let u=typeof e=="string"?e:e.id;if(n)return Tx({apiHost:t,typebotId:u,startFrom:s,typebot:e,prefilledVariables:r,sessionId:a});try{let d=parent!==window&&Ce(document.referrer)?new URL(document.referrer).origin:void 0,p=await Zn.post(`${ol(t)}/api/v1/typebots/${u}/startChat`,{headers:{"x-typebot-iframe-referrer-origin":d},json:{isStreamEnabled:!0,prefilledVariables:r,resultId:o,isOnlyRegistering:!1},timeout:!1}),f=p.headers.get("access-control-allow-origin");if(d&&f&&f!=="*"&&!d.includes(f))throw new no(f);return{data:await p.json()}}catch(d){return{error:d}}}var Cx=async({apiHost:e,stripeRedirectStatus:n,paymentInProgressState:t})=>{Zi();try{return{data:{...await Zn.post(`${ol(e)}/api/v1/sessions/${t.sessionId}/continueChat`,{json:{message:n==="failed"?"fail":"Success"},timeout:!1}).json(),...t}}}catch(r){return{error:r}}},Tx=async({apiHost:e,typebotId:n,startFrom:t,typebot:r,prefilledVariables:o,sessionId:i})=>{try{return{data:await Zn.post(`${ol(e)}/api/v1/typebots/${n}/preview/startChat`,{json:{isStreamEnabled:!0,startFrom:t,typebot:r,prefilledVariables:o,sessionId:i},timeout:!1}).json()}}catch(s){return{error:s}}},ol=e=>Ce(e)?e:Ot();var[pd,fd]=P("100%");var[ns,hd]=P();var rs=(e,n)=>({host:e.chat?.hostAvatar&&n?.hostAvatarUrl?{...e.chat.hostAvatar,url:n.hostAvatarUrl}.url:e.chat?.hostAvatar?.url,guest:e.chat?.guestAvatar&&n?.guestAvatarUrl?{...e.chat.guestAvatar,url:n.guestAvatarUrl}.url:e.chat?.guestAvatar?.url}),md=(e,n)=>({...e,general:e.general?{...e.general,background:e.general.background?{...e.general.background,content:n?.backgroundUrl??e.general.background?.content}:void 0}:void 0,chat:{...e.chat,hostAvatar:e.chat?.hostAvatar&&n?.hostAvatarUrl?{...e.chat.hostAvatar,url:n.hostAvatarUrl}:e.chat?.hostAvatar,guestAvatar:e.chat?.guestAvatar&&n?.guestAvatarUrl?{...e.chat.guestAvatar,url:n?.guestAvatarUrl}:e.chat?.guestAvatar}});var Ne={blue:{light:{1:"#fcfdfe",2:"#f6f9ff",3:"#ebf2ff",4:"#ddeaff",5:"#ccdfff",6:"#b7d2ff",7:"#a0bfff",8:"#7fa5fd",9:"#3566fc",10:"#2f5be1",11:"#2c57dd",12:"#172c65"},dark:{1:"#070d1a",2:"#0f1627",3:"#12234e",4:"#162c6a",5:"#1d377e",6:"#25428f",7:"#2e4ea4",8:"#365bc1",9:"#3566fc",10:"#2a57ec",11:"#8db4ff",12:"#d1e2ff"}},orange:{light:{1:"#fefcfb",2:"#fff4f0",3:"#ffe8de",4:"#ffd6c7",5:"#ffc8b5",6:"#ffb8a0",7:"#ffa286",8:"#f98868",9:"#ff5924",10:"#f24905",11:"#dc3b00",12:"#5b2a1c"},dark:{1:"#120b09",2:"#1f1411",3:"#371810",4:"#4e1606",5:"#5e1e0b",6:"#6e2c18",7:"#873c26",8:"#ad4d31",9:"#ff5924",10:"#f14b0f",11:"#ff9776",12:"#ffd7ca"}},purple:{light:{1:"#fcfcff",2:"#f9f8ff",3:"#f2f0ff",4:"#e7e4ff",5:"#ddd8ff",6:"#d0c9ff",7:"#bdb3ff",8:"#a595ff",9:"#8055fd",10:"#7447ec",11:"#6841d3",12:"#321e6c"},dark:{1:"#0d0a1b",2:"#17132a",3:"#261b4f",4:"#321d6c",5:"#3b257c",6:"#46318b",7:"#543ea2",8:"#684cc7",9:"#8055fd",10:"#7446ee",11:"#b4a6ff",12:"#e0dcff"}},red:{light:{1:"#fffcfc",2:"#fff7f6",3:"#ffebe9",4:"#ffdad6",5:"#ffcbc6",6:"#ffbab5",7:"#fca5a0",8:"#f48984",9:"#f83b45",10:"#ea2638",11:"#d8062a",12:"#6a0d14"},dark:{1:"#130a0a",2:"#201211",3:"#3e0e0f",4:"#55050c",5:"#670b13",6:"#791b1f",7:"#932b2d",8:"#be3a3c",9:"#f83b45",10:"#e92939",11:"#ff8f89",12:"#ffd0cb"}},gray:{light:{1:"#ffffff",2:"#f1f1f1",3:"#f0f0f0",4:"#e8e8e8",5:"#e0e0e0",6:"#dfdfdf",7:"#cecece",8:"#bbbbbb",9:"#8d8d8d",10:"#838383",11:"#464646",12:"#202020"},dark:{1:"#0D0D0D",2:"#1D1D1D",3:"#222222",4:"#2a2a2a",5:"#313131",6:"#3a3a3a",7:"#484848",8:"#606060",9:"#6e6e6e",10:"#7b7b7b",11:"#b4b4b4",12:"#eeeeee"}}};var gd="Google",oo="Open Sans",io="Color",yd={6:"#FFFFFF","6.1":Ne.gray.light[2]};var bd={6:"#e0edff","6.1":Ne.orange.light[9]},vd={6:Ne.gray.light[3],"6.1":Ne.gray.light[9]},xd=4,os="absolute",wd="Top",wr="medium",Tt=1,Sd=0,Cd="800px",Td="100%",Yo="transparent";var Ed={6:"#F7F8FF","6.1":Ne.gray.light[1]},_d=Ne.gray.light[12],kd={6:0,"6.1":1},Pd=Ne.gray.light[6],Id={6:"#FF8E21","6.1":Ne.orange.light[9]},Ad=Ne.gray.light[1],Od={6:0,"6.1":1},Rd=Ne.orange.light[6],is={6:"#0042DA","6.1":Ne.orange.light[9]},Md=Ne.gray.light[1],Nd={6:0,"6.1":1},Dd=Ne.orange.light[8];var $d="#FFFFFF",Ld=Ne.gray.light[12],Bd="#9095A0",Fd={6:0,"6.1":1},Ud={6:void 0,"6.1":Ne.gray.light[7]},jd={6:"md","6.1":void 0},Dn=!0,Xo=!1,Vd="wrap",H={general:{bgImage:"--typebot-container-bg-image",bgColor:"--typebot-container-bg-color",fontFamily:"--typebot-container-font-family",progressBar:{position:"--typebot-progress-bar-position",color:"--typebot-progress-bar-color",colorRgb:"--typebot-progress-bar-bg-rgb",height:"--typebot-progress-bar-height",top:"--typebot-progress-bar-top",bottom:"--typebot-progress-bar-bottom"}},chat:{container:{maxWidth:"--typebot-chat-container-max-width",maxHeight:"--typebot-chat-container-max-height",bgColor:"--typebot-chat-container-bg-rgb",color:"--typebot-chat-container-color",borderRadius:"--typebot-chat-container-border-radius",borderWidth:"--typebot-chat-container-border-width",borderColor:"--typebot-chat-container-border-rgb",borderOpacity:"--typebot-chat-container-border-opacity",opacity:"--typebot-chat-container-opacity",blur:"--typebot-chat-container-blur",boxShadow:"--typebot-chat-container-box-shadow"},hostBubbles:{bgColor:"--typebot-host-bubble-bg-rgb",color:"--typebot-host-bubble-color",borderRadius:"--typebot-host-bubble-border-radius",borderWidth:"--typebot-host-bubble-border-width",borderColor:"--typebot-host-bubble-border-rgb",borderOpacity:"--typebot-host-bubble-border-opacity",opacity:"--typebot-host-bubble-opacity",blur:"--typebot-host-bubble-blur",boxShadow:"--typebot-host-bubble-box-shadow"},guestBubbles:{bgColor:"--typebot-guest-bubble-bg-rgb",color:"--typebot-guest-bubble-color",borderRadius:"--typebot-guest-bubble-border-radius",borderWidth:"--typebot-guest-bubble-border-width",borderColor:"--typebot-guest-bubble-border-rgb",borderOpacity:"--typebot-guest-bubble-border-opacity",opacity:"--typebot-guest-bubble-opacity",blur:"--typebot-guest-bubble-blur",boxShadow:"--typebot-guest-bubble-box-shadow"},inputs:{bgColor:"--typebot-input-bg-rgb",color:"--typebot-input-color",placeholderColor:"--typebot-input-placeholder-color",borderRadius:"--typebot-input-border-radius",borderWidth:"--typebot-input-border-width",borderColor:"--typebot-input-border-rgb",borderOpacity:"--typebot-input-border-opacity",opacity:"--typebot-input-opacity",blur:"--typebot-input-blur",boxShadow:"--typebot-input-box-shadow"},buttons:{bgRgb:"--typebot-button-bg-rgb",color:"--typebot-button-color",borderRadius:"--typebot-button-border-radius",borderWidth:"--typebot-button-border-width",borderColor:"--typebot-button-border-rgb",borderOpacity:"--typebot-button-border-opacity",opacity:"--typebot-button-opacity",blur:"--typebot-button-blur",boxShadow:"--typebot-button-box-shadow",flexDirection:"--typebot-buttons-input-flex-direction"},checkbox:{bgRgb:"--typebot-checkbox-bg-rgb",alphaRatio:"--selectable-alpha-ratio"}}};var Ex="https://fonts.bunny.net/css2",ss="typebot-font",il=e=>{let n=document.getElementById(ss);if(typeof e=="string"||e.type==="Google"){let t=(typeof e=="string"?e:e.family)??oo;if(n?.getAttribute("href")?.includes(t))return;n?.remove();let r=document.createElement("link");r.href=`${Ex}?family=${t}:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap`,r.rel="stylesheet",r.id=ss,document.head.appendChild(r);return}if(e.type==="Custom"){if(Ce(e.css)){if(n?.innerHTML===e.css)return;n?.remove();let t=document.createElement("style");t.innerHTML=e.css,t.id=ss,document.head.appendChild(t)}if(Ce(e.url)){if(n?.getAttribute("href")===e.url)return;n?.remove();let t=document.createElement("link");t.href=e.url,t.rel="stylesheet",t.id=ss,document.head.appendChild(t)}}};var[G,Hd]=P();var dt={general:{isInputPrefillEnabled:!1,isHideQueryParamsEnabled:!0,isNewResultOnRefreshEnabled:!0,rememberUser:{isEnabled:!1,storage:"session"},isBrandingEnabled:!1,isTypingEmulationEnabled:!0},typingEmulation:{enabled:!0,speed:400,maxDelay:3,delayBetweenBubbles:0,isDisabledOnFirstMessage:!0},metadata:{description:"Build beautiful conversational forms and embed them directly in your applications without a line of code. Triple your response rate and collect answers that has more value compared to a traditional form.",favIconUrl:e=>e+"/favicon.svg",imageUrl:e=>e+"/site-preview.png"}},Jn={invalidMessage:"Invalid message. Please, try again.",botClosed:"This bot is now closed",popupBlockedDescription:"Popup blocked",popupBlockedButtonLabel:"Continue in new tab",fileUploadError:"An error occured while uploading the files",fileUploadSizeError:"[[file]] is larger than [[limit]]MB",whatsAppPictureChoiceSelectLabel:"Select"};var sl=Symbol("store-raw"),ao=Symbol("store-node"),$n=Symbol("store-has"),zd=Symbol("store-self");function Wd(e){let n=e[jt];if(!n&&(Object.defineProperty(e,jt,{value:n=new Proxy(e,Px)}),!Array.isArray(e))){let t=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=t.length;o<i;o++){let s=t[o];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(n)})}}return n}function Qn(e){let n;return e!=null&&typeof e=="object"&&(e[jt]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function lo(e,n=new Set){let t,r,o,i;if(t=e!=null&&e[sl])return t;if(!Qn(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let s=0,a=e.length;s<a;s++)o=e[s],(r=lo(o,n))!==o&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);let s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=s.length;l<c;l++)i=s[l],!a[i].get&&(o=e[i],(r=lo(o,n))!==o&&(e[i]=r))}return e}function as(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function Jo(e,n,t){if(e[n])return e[n];let[r,o]=P(t,{equals:!1,internal:!0});return r.$=o,e[n]=r}function _x(e,n){let t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===jt||n===ao||(delete t.value,delete t.writable,t.get=()=>e[jt][n]),t}function Gd(e){Wi()&&Jo(as(e,ao),zd)()}function kx(e){return Gd(e),Reflect.ownKeys(e)}var Px={get(e,n,t){if(n===sl)return e;if(n===jt)return t;if(n===Hi)return Gd(e),t;let r=as(e,ao),o=r[n],i=o?o():e[n];if(n===ao||n===$n||n==="__proto__")return i;if(!o){let s=Object.getOwnPropertyDescriptor(e,n);Wi()&&(typeof i!="function"||e.hasOwnProperty(n))&&!(s&&s.get)&&(i=Jo(r,n,i)())}return Qn(i)?Wd(i):i},has(e,n){return n===sl||n===jt||n===Hi||n===ao||n===$n||n==="__proto__"?!0:(Wi()&&Jo(as(e,$n),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:kx,getOwnPropertyDescriptor:_x};function Ht(e,n,t,r=!1){if(!r&&e[n]===t)return;let o=e[n],i=e.length;t===void 0?(delete e[n],e[$n]&&e[$n][n]&&o!==void 0&&e[$n][n].$()):(e[n]=t,e[$n]&&e[$n][n]&&o===void 0&&e[$n][n].$());let s=as(e,ao),a;if((a=Jo(s,n,o))&&a.$(()=>t),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(a=s[l])&&a.$();(a=Jo(s,"length",i))&&a.$(e.length)}(a=s[zd])&&a.$()}function qd(e,n){let t=Object.keys(n);for(let r=0;r<t.length;r+=1){let o=t[r];Ht(e,o,n[o])}}function Ix(e,n){if(typeof n=="function"&&(n=n(e)),n=lo(n),Array.isArray(n)){if(e===n)return;let t=0,r=n.length;for(;t<r;t++){let o=n[t];e[t]!==o&&Ht(e,t,o)}Ht(e,"length",r)}else qd(e,n)}function Zo(e,n,t=[]){let r,o=e;if(n.length>1){r=n.shift();let s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Zo(e,[r[l]].concat(n),t);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Zo(e,[l].concat(n),t);return}else if(a&&s==="object"){let{from:l=0,to:c=e.length-1,by:u=1}=r;for(let d=l;d<=c;d+=u)Zo(e,[d].concat(n),t);return}else if(n.length>1){Zo(e[r],n,[r].concat(t));return}o=e[r],t=[r].concat(t)}let i=n[0];typeof i=="function"&&(i=i(o,t),i===o)||r===void 0&&i==null||(i=lo(i),r===void 0||Qn(o)&&Qn(i)&&!Array.isArray(i)?qd(o,i):Ht(e,r,i))}function Kd(...[e,n]){let t=lo(e||{}),r=Array.isArray(t),o=Wd(t);function i(...s){Mu(()=>{r&&s.length===1?Ix(t,s[0]):Zo(t,s)})}return[o,i]}var al=Symbol("store-root");function so(e,n,t,r,o){let i=n[t];if(e===i)return;let s=Array.isArray(e);if(t!==al&&(!Qn(e)||!Qn(i)||s!==Array.isArray(i)||o&&e[o]!==i[o])){Ht(n,t,e);return}if(s){if(e.length&&i.length&&(!r||o&&e[0]&&e[0][o]!=null)){let c,u,d,p,f,g,m,v;for(d=0,p=Math.min(i.length,e.length);d<p&&(i[d]===e[d]||o&&i[d]&&e[d]&&i[d][o]===e[d][o]);d++)so(e[d],i,d,r,o);let b=new Array(e.length),S=new Map;for(p=i.length-1,f=e.length-1;p>=d&&f>=d&&(i[p]===e[f]||o&&i[p]&&e[f]&&i[p][o]===e[f][o]);p--,f--)b[f]=i[p];if(d>f||d>p){for(u=d;u<=f;u++)Ht(i,u,e[u]);for(;u<e.length;u++)Ht(i,u,b[u]),so(e[u],i,u,r,o);i.length>e.length&&Ht(i,"length",e.length);return}for(m=new Array(f+1),u=f;u>=d;u--)g=e[u],v=o&&g?g[o]:g,c=S.get(v),m[u]=c===void 0?-1:c,S.set(v,u);for(c=d;c<=p;c++)g=i[c],v=o&&g?g[o]:g,u=S.get(v),u!==void 0&&u!==-1&&(b[u]=i[c],u=m[u],S.set(v,u));for(u=d;u<e.length;u++)u in b?(Ht(i,u,b[u]),so(e[u],i,u,r,o)):Ht(i,u,e[u])}else for(let c=0,u=e.length;c<u;c++)so(e[c],i,c,r,o);i.length>e.length&&Ht(i,"length",e.length);return}let a=Object.keys(e);for(let c=0,u=a.length;c<u;c++)so(e[a[c]],i,a[c],r,o);let l=Object.keys(i);for(let c=0,u=l.length;c<u;c++)e[l[c]]===void 0&&Ht(i,l[c],void 0)}function ls(e,n={}){let{merge:t,key:r="id"}=n,o=lo(e);return i=>{if(!Qn(i)||!Qn(o))return o;let s=so(o,{[al]:i},al,t,r);return s===void 0?i:s}}function zt(e,n){if(!n.storage)return[...e];let t=Ax(n.storage||dt.general.rememberUser.storage),r=a=>{let l=JSON.parse(JSON.stringify(a));return typeof l!="object"||("blobUrl"in l&&(l.blobUrl=void 0),"attachments"in l&&Array.isArray(l.attachments)&&l.attachments.forEach(c=>{c&&"blobUrl"in c&&(c.blobUrl=void 0)})),JSON.stringify(l)},o=JSON.parse.bind(JSON),i=t.getItem(n.key),s=typeof e[0]=="function"?a=>e[1](()=>o(a)):a=>e[1](ls(o(a)));return i&&(s(i),n.onRecovered?.()),[e[0],typeof e[0]=="function"?a=>{let l=e[1](a);return a?t.setItem(n.key,r(l)):t.removeItem(n.key),l}:(...a)=>{e[1](...a);let l=r(tt(()=>e[0]));t.setItem(n.key,l)}]}var Ax=e=>(e??dt.general.rememberUser.storage)==="session"?sessionStorage:localStorage;var at=e=>{let n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(n,(r,o,i,s)=>o+o+i+i+s+s);let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[Number.parseInt(t[1]??"",16),Number.parseInt(t[2]??"",16),Number.parseInt(t[3]??"",16)]:[0,0,0]},er=e=>(([n,t,r])=>(n*299+t*587+r*114)/1e3>155)(at(e));var co=({chatContainer:e,generalBackground:n})=>{let t=e?.backgroundColor??Yo;if((e?.opacity??Tt)<=.3||t==="transparent"||ze(t)){let o=n?.type??io,i=o==="Image"?"#000000":o==="Color"&&Ce(n?.content)?n.content:"#ffffff";return er(i)}return er(t)};var Xd=({theme:e,container:n,isPreview:t,typebotVersion:r})=>{if(!e)return;let o=n?.style;o&&(Ox({generalTheme:e.general,documentStyle:o,isPreview:t,typebotVersion:r}),Mx({chatTheme:e.chat,generalBackground:e.general?.background,documentStyle:o,typebotVersion:r}))},Ox=({generalTheme:e,documentStyle:n,isPreview:t,typebotVersion:r})=>{ll({background:e?.background,documentStyle:n,typebotVersion:r}),n.setProperty(H.general.fontFamily,(typeof e?.font=="string"?e.font:e?.font?.family)??oo),Rx({progressBar:e?.progressBar,documentStyle:n,isPreview:t,typebotVersion:r})},Rx=({progressBar:e,documentStyle:n,isPreview:t,typebotVersion:r})=>{let o=e?.position??os;n.setProperty(H.general.progressBar.position,o==="fixed"?t?"absolute":"fixed":o),n.setProperty(H.general.progressBar.color,e?.color??bd[r]),n.setProperty(H.general.progressBar.colorRgb,at(e?.backgroundColor??vd[r]).join(", ")),n.setProperty(H.general.progressBar.height,`${e?.thickness??xd}px`);let i=e?.placement??wd;n.setProperty(H.general.progressBar.top,i==="Top"?"0":"auto"),n.setProperty(H.general.progressBar.bottom,i==="Bottom"?"0":"auto")},Mx=({chatTheme:e,generalBackground:n,documentStyle:t,typebotVersion:r})=>{Nx({container:e?.container,generalBackground:n,documentStyle:t,legacyRoundness:e?.roundness,typebotVersion:r}),Dx({hostBubbles:e?.hostBubbles,documentStyle:t,legacyRoundness:e?.roundness,typebotVersion:r}),$x({guestBubbles:e?.guestBubbles,documentStyle:t,legacyRoundness:e?.roundness,typebotVersion:r}),Lx({buttons:e?.buttons,documentStyle:t,legacyRoundness:e?.roundness,typebotVersion:r}),Fx({inputs:e?.inputs,documentStyle:t,legacyRoundness:e?.roundness,typebotVersion:r}),Ux(e?.container,n,t),Bx({buttonsInput:e?.buttonsInput,documentStyle:t,typebotVersion:r})},Nx=({container:e,generalBackground:n,documentStyle:t,legacyRoundness:r})=>{let o=e?.backgroundColor??Yo,i=o==="transparent"||ze(o);t.setProperty(H.chat.container.bgColor,i?"0, 0, 0":at(o).join(", ")),t.setProperty(H.chat.container.color,at(e?.color??(co({chatContainer:e,generalBackground:n})?Ne.gray.light[12]:Ne.gray.dark[12])).join(", ")),t.setProperty(H.chat.container.maxWidth,e?.maxWidth??Cd),t.setProperty(H.chat.container.maxHeight,e?.maxHeight??Td);let s=i?"1":(e?.opacity??Tt).toString();t.setProperty(H.chat.container.opacity,i?"0":(e?.opacity??Tt).toString()),t.setProperty(H.chat.container.blur,s==="1"||i?"0xp":`${e?.blur??Sd}px`),ei(e?.shadow,t,H.chat.container.boxShadow),Qo(e?.border??{roundeness:r??wr},t,H.chat.container.borderRadius),t.setProperty(H.chat.container.borderWidth,re(e?.border?.thickness)?`${e?.border?.thickness}px`:"0"),t.setProperty(H.chat.container.borderOpacity,re(e?.border?.opacity)?e.border.opacity.toString():Tt.toString()),t.setProperty(H.chat.container.borderColor,at(e?.border?.color??"").join(", "))},Dx=({hostBubbles:e,documentStyle:n,legacyRoundness:t,typebotVersion:r})=>{n.setProperty(H.chat.hostBubbles.bgColor,at(e?.backgroundColor??Ed[r]).join(", ")),n.setProperty(H.chat.hostBubbles.color,e?.color??_d),Qo(e?.border??{roundeness:t??wr},n,H.chat.hostBubbles.borderRadius);let o=e?.border?.thickness??kd[r];re(o)&&n.setProperty(H.chat.hostBubbles.borderWidth,o+"px"),n.setProperty(H.chat.hostBubbles.borderColor,at(e?.border?.color??Pd).join(", ")),n.setProperty(H.chat.hostBubbles.opacity,e?.backgroundColor==="transparent"?"0":re(e?.opacity)?e.opacity.toString():Tt.toString()),n.setProperty(H.chat.hostBubbles.borderOpacity,re(e?.border?.opacity)?e.border.opacity.toString():Tt.toString()),n.setProperty(H.chat.hostBubbles.blur,re(e?.blur)?`${e.blur??0}px`:"none"),ei(e?.shadow,n,H.chat.hostBubbles.boxShadow)},$x=({guestBubbles:e,documentStyle:n,legacyRoundness:t,typebotVersion:r})=>{n.setProperty(H.chat.guestBubbles.bgColor,at(e?.backgroundColor??Id[r]).join(", ")),n.setProperty(H.chat.guestBubbles.color,e?.color??Ad),Qo(e?.border??{roundeness:t??wr},n,H.chat.guestBubbles.borderRadius);let o=e?.border?.thickness??Od[r];re(o)&&n.setProperty(H.chat.guestBubbles.borderWidth,o+"px"),n.setProperty(H.chat.guestBubbles.borderColor,at(e?.border?.color??Rd).join(", ")),n.setProperty(H.chat.guestBubbles.borderOpacity,re(e?.border?.opacity)?e.border.opacity.toString():Tt.toString()),n.setProperty(H.chat.guestBubbles.opacity,e?.backgroundColor==="transparent"?"0":re(e?.opacity)?e.opacity.toString():Tt.toString()),n.setProperty(H.chat.guestBubbles.blur,re(e?.blur)?`${e.blur??0}px`:"none"),ei(e?.shadow,n,H.chat.guestBubbles.boxShadow)},Lx=({buttons:e,documentStyle:n,legacyRoundness:t,typebotVersion:r})=>{let o=e?.backgroundColor??is[r];n.setProperty(H.chat.buttons.bgRgb,at(o).join(", ")),n.setProperty(H.chat.buttons.bgRgb,at(o).join(", ")),n.setProperty(H.chat.buttons.color,e?.color??Md),Qo(e?.border??{roundeness:t??wr},n,H.chat.buttons.borderRadius),n.setProperty(H.chat.buttons.borderWidth,re(e?.border?.thickness)?`${e?.border?.thickness}px`:`${Nd[r]}px`),n.setProperty(H.chat.buttons.borderColor,at(e?.border?.color??e?.backgroundColor??Dd).join(", ")),n.setProperty(H.chat.buttons.borderOpacity,re(e?.border?.opacity)?e.border.opacity.toString():Tt.toString()),n.setProperty(H.chat.buttons.opacity,e?.backgroundColor==="transparent"?"0":re(e?.opacity)?e.opacity.toString():Tt.toString()),n.setProperty(H.chat.buttons.blur,re(e?.blur)?`${e.blur??0}px`:"none"),ei(e?.shadow,n,H.chat.buttons.boxShadow)},Bx=({buttonsInput:e,documentStyle:n})=>{n.setProperty(H.chat.buttons.flexDirection,(e?.layout??Vd)==="vertical"?"column":"unset")},Fx=({inputs:e,documentStyle:n,legacyRoundness:t,typebotVersion:r})=>{n.setProperty(H.chat.inputs.bgColor,at(e?.backgroundColor??$d).join(", ")),n.setProperty(H.chat.inputs.color,e?.color??Ld),n.setProperty(H.chat.inputs.placeholderColor,e?.placeholderColor??Bd),Qo(e?.border??{roundeness:t??wr},n,H.chat.inputs.borderRadius),n.setProperty(H.chat.inputs.borderWidth,`${e?.border?.thickness??Fd[r]}px`);let o=e?.border?.color??Ud[r];re(o)&&n.setProperty(H.chat.inputs.borderColor,at(o).join(", ")),n.setProperty(H.chat.inputs.borderOpacity,re(e?.border?.opacity)?e.border.opacity.toString():Tt.toString()),n.setProperty(H.chat.inputs.opacity,e?.backgroundColor==="transparent"?"0":re(e?.opacity)?e.opacity.toString():Tt.toString()),n.setProperty(H.chat.inputs.blur,re(e?.blur)?`${e.blur??0}px`:"none"),ei(e?.shadow??jd[r],n,H.chat.inputs.boxShadow)},Ux=(e,n,t)=>{let r=e?.backgroundColor??Yo;if(r==="transparent"||ze(r)||(e?.opacity??Tt)<=.2){let i=n?.type??io;t.setProperty(H.chat.checkbox.bgRgb,i==="Image"?"rgba(255, 255, 255, 0.75)":at((i==="Color"?n?.content:"#ffffff")??"#ffffff").join(", ")),i==="Image"?t.setProperty(H.chat.checkbox.alphaRatio,"3"):t.setProperty(H.chat.checkbox.alphaRatio,n?.content&&er(n?.content)?"1":"2")}else t.setProperty(H.chat.checkbox.bgRgb,at(r).concat(e?.opacity??1).join(", ")),t.setProperty(H.chat.checkbox.alphaRatio,er(r)?"1":"2")},ll=({background:e,documentStyle:n,typebotVersion:t})=>{n.setProperty(H.general.bgImage,null),n.setProperty(H.general.bgColor,null),n.setProperty((e?.type??io)==="Image"?H.general.bgImage:H.general.bgColor,jx({type:e?.type??io,content:e?.content??yd[t]}))},jx=({type:e,content:n})=>{switch(e){case"None":return"transparent";case void 0:case"Color":return n;case"Image":return`url(${n})`}},Qo=(e,n,t)=>{switch(e?.roundeness??wr){case"none":{n.setProperty(t,"0");break}case"medium":{n.setProperty(t,"6px");break}case"large":{n.setProperty(t,"20px");break}case"custom":{n.setProperty(t,`${e.customRoundeness??6}px`);break}}},ei=(e,n,t)=>{if(e===void 0){n.setProperty(t,"0 0 #0000");return}switch(e){case"none":n.setProperty(t,"0 0 #0000");break;case"sm":n.setProperty(t,"0 1px 2px 0 rgb(0 0 0 / 0.05)");break;case"md":n.setProperty(t,"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)");break;case"lg":n.setProperty(t,"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)");break;case"xl":n.setProperty(t,"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)");break;case"2xl":n.setProperty(t,"0 25px 50px -12px rgb(0 0 0 / 0.25)");break}};var cl="resultId",Zd=e=>{if(e)try{return sessionStorage.getItem(`${cl}-${e}`)??localStorage.getItem(`${cl}-${e}`)??void 0}catch{}},Jd=(e="session")=>(n,t)=>{try{ep(e).setItem(`${cl}-${n}`,t)}catch{}},Qd=e=>{if(e)try{let n=sessionStorage.getItem(`typebot-${e}-initialChatReply`)??localStorage.getItem(`typebot-${e}-initialChatReply`);return n?JSON.parse(n):void 0}catch{}},ul=(e,{typebotId:n,storage:t})=>{try{let r=JSON.stringify(e);ep(t).setItem(`typebot-${n}-initialChatReply`,r)}catch{}},cs=()=>{try{sessionStorage.setItem("typebot-botOpened","true")}catch{}},us=()=>{try{sessionStorage.removeItem("typebot-botOpened")}catch{}},ds=()=>{try{return sessionStorage.getItem("typebot-botOpened")==="true"}catch{return!1}},ep=e=>(e??dt.general.rememberUser.storage)==="session"?sessionStorage:localStorage,ps=e=>{Object.keys(localStorage).forEach(n=>{n.startsWith(`typebot-${e}`)&&localStorage.removeItem(n)}),Object.keys(sessionStorage).forEach(n=>{n.startsWith(`typebot-${e}`)&&sessionStorage.removeItem(n)})};var mt=()=>(e,n)=>qe(e,n);var l1=Symbol(),Vx=Symbol();var tp=Object.getPrototypeOf,dl=new WeakMap,Hx=e=>e&&(dl.has(e)?dl.get(e):tp(e)===Object.prototype||tp(e)===Array.prototype);var np=e=>Hx(e)&&e[Vx]||null,pl=(e,n=!0)=>{dl.set(e,n)};function zx(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function op(e,n){let t=zx();return t?(t[e]||(t[e]=n()),t[e]):n()}var ti=op("__zag__refSet",()=>new WeakSet),Wx=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Gx=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,qx=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Kx=e=>Wx(e)||Gx(e)||qx(e),fl=e=>e!==null&&typeof e=="object",hl=e=>fl(e)&&!ti.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Kx(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),fs=()=>!1;function rp(e,n,t){typeof t.value=="object"&&!hl(t.value)&&(t.value=nt(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||n==="__proto__"?Object.defineProperty(e,n,t):e[n]=t.value}function nt(e){if(typeof e!="object")return e;var n=0,t,r,o,i=Object.prototype.toString.call(e);if(i==="[object Object]"?o=Object.create(Object.getPrototypeOf(e)||null):i==="[object Array]"?o=Array(e.length):i==="[object Set]"?(o=new Set,e.forEach(function(s){o.add(nt(s))})):i==="[object Map]"?(o=new Map,e.forEach(function(s,a){o.set(nt(a),nt(s))})):i==="[object Date]"?o=new Date(+e):i==="[object RegExp]"?o=new RegExp(e.source,e.flags):i==="[object DataView]"?o=new e.constructor(nt(e.buffer)):i==="[object ArrayBuffer]"?o=e.slice(0):i==="[object Blob]"?o=e.slice():i.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)rp(o,r[n],Object.getOwnPropertyDescriptor(e,r[n]));for(n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++)Object.hasOwnProperty.call(o,t=r[n])&&o[t]===e[t]||rp(o,t,Object.getOwnPropertyDescriptor(e,t))}return o||e}var Sr=op("__zag__proxyStateMap",()=>new WeakMap),Yx=(e=Object.is,n=(a,l)=>new Proxy(a,l),t=new WeakMap,r=(a,l)=>{let c=t.get(a);if(c?.[0]===l)return c[1];let u=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return pl(u,!0),t.set(a,[l,u]),Reflect.ownKeys(a).forEach(d=>{let p=Reflect.get(a,d);ti.has(p)?(pl(p,!1),u[d]=p):Sr.has(p)?u[d]=Pe(p):u[d]=p}),Object.freeze(u)},o=new WeakMap,i=[1,1],s=a=>{if(!fl(a))throw new Error("object required");let l=o.get(a);if(l)return l;let c=i[0],u=new Set,d=(_,M=++i[0])=>{c!==M&&(c=M,u.forEach(W=>W(_,M)))},p=i[1],f=(_=++i[1])=>(p!==_&&!u.size&&(p=_,m.forEach(([M])=>{let W=M[1](_);W>c&&(c=W)})),c),g=_=>(M,W)=>{let ue=[...M];ue[1]=[_,...ue[1]],d(ue,W)},m=new Map,v=(_,M)=>{if(fs()&&m.has(_))throw new Error("prop listener already exists");if(u.size){let W=M[3](g(_));m.set(_,[M,W])}else m.set(_,[M])},b=_=>{let M=m.get(_);M&&(m.delete(_),M[1]?.())},S=_=>(u.add(_),u.size===1&&m.forEach(([W,ue],Ee)=>{if(fs()&&ue)throw new Error("remove already exists");let z=W[3](g(Ee));m.set(Ee,[W,z])}),()=>{u.delete(_),u.size===0&&m.forEach(([W,ue],Ee)=>{ue&&(ue(),m.set(Ee,[W]))})}),E=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),k=n(E,{deleteProperty(_,M){let W=Reflect.get(_,M);b(M);let ue=Reflect.deleteProperty(_,M);return ue&&d(["delete",[M],W]),ue},set(_,M,W,ue){let Ee=Reflect.has(_,M),z=Reflect.get(_,M,ue);if(Ee&&(e(z,W)||o.has(W)&&e(z,o.get(W))))return!0;b(M),fl(W)&&(W=np(W)||W);let ge=W;if(!Object.getOwnPropertyDescriptor(_,M)?.set){!Sr.has(W)&&hl(W)&&(ge=Et(W));let te=!ti.has(ge)&&Sr.get(ge);te&&v(M,te)}return Reflect.set(_,M,ge,ue),d(["set",[M],W,z]),!0}});o.set(a,k);let L=[E,f,r,S];return Sr.set(k,L),Reflect.ownKeys(a).forEach(_=>{let M=Object.getOwnPropertyDescriptor(a,_);M.get||M.set?Object.defineProperty(E,_,M):k[_]=a[_]}),k})=>[s,Sr,ti,e,n,hl,t,r,o,i],[Xx]=Yx();function Et(e={}){return Xx(e)}function rt(e,n,t){let r=Sr.get(e);fs()&&!r&&console.warn("Please use proxy object");let o,i=[],s=r[3],a=!1,c=s(u=>{if(i.push(u),t){n(i.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,a&&n(i.splice(0))}))});return a=!0,()=>{a=!1,c()}}function Pe(e){let n=Sr.get(e);fs()&&!n&&console.warn("Please use proxy object");let[t,r,o]=n;return o(t,r())}function De(e){return ti.add(e),e}function vn(e,n){Object.keys(n).forEach(o=>{if(Object.getOwnPropertyDescriptor(e,o))throw new Error("object property already defined");let i=n[o],{get:s,set:a}=typeof i=="function"?{get:i}:i,l={};l.get=()=>s(Pe(r)),a&&(l.set=c=>a(r,c)),Object.defineProperty(e,o,l)});let r=Et(e);return r}var sp=e=>e[0],ap=e=>e[e.length-1];function en(e){for(;e.length>0;)e.pop();return e}var ip=e=>e?.constructor.name==="Array",Zx=(e,n)=>{if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!uo(e[t],n[t]))return!1;return!0},uo=(e,n)=>{if(Object.is(e,n))return!0;if(e==null&&n!=null||e!=null&&n==null)return!1;if(typeof e?.isEqual=="function"&&typeof n?.isEqual=="function")return e.isEqual(n);if(typeof e=="function"&&typeof n=="function")return e.toString()===n.toString();if(ip(e)&&ip(n))return Zx(Array.from(e),Array.from(n));if(typeof e!="object"||typeof n!="object")return!1;let t=Object.keys(n??Object.create(null)),r=t.length;for(let o=0;o<r;o++)if(!Reflect.has(e,t[o]))return!1;for(let o=0;o<r;o++){let i=t[o];if(!uo(e[i],n[i]))return!1}return!0},Xe=(e,...n)=>(typeof e=="function"?e(...n):e)??void 0,ae=e=>e,Lt=()=>{},tn=(...e)=>(...n)=>{e.forEach(function(t){t?.(...n)})},pt=(()=>{let e=0;return()=>(e++,e.toString(36))})();var nn=()=>!1,Ze=e=>Array.isArray(e);var lp=e=>e!=null&&typeof e=="object",Le=e=>lp(e)&&!Ze(e),Rt=e=>typeof e=="number"&&!Number.isNaN(e),Q=e=>typeof e=="string",Be=e=>typeof e=="function",cp=e=>e==null,Wt=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),Jx=e=>Object.prototype.toString.call(e),up=Function.prototype.toString,Qx=up.call(Object),Fe=e=>{if(!lp(e)||Jx(e)!="[object Object]")return!1;let n=Object.getPrototypeOf(e);if(n===null)return!0;let t=Wt(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&up.call(t)==Qx},{floor:p1,abs:f1,round:h1,min:m1,max:g1,pow:y1,sign:b1}=Math;function Me(e){if(!ew(e)||e===void 0)return e;let n=Reflect.ownKeys(e).filter(r=>typeof r=="string"),t={};for(let r of n){let o=e[r];o!==void 0&&(t[r]=Me(o))}return t}var ew=e=>e&&typeof e=="object"&&e.constructor===Object;function tw(e,n){let t={},r={},o=new Set(n);for(let i in e)o.has(i)?r[i]=e[i]:t[i]=e[i];return[r,t]}var xn=e=>function(t){return tw(t,e)};function Ue(...e){let n=e.length===1?e[0]:e[1],t=e.length===2?e[0]:!0}function je(...e){let n=e.length===1?e[0]:e[1],t=e.length===2?e[0]:!0}var nw=(...e)=>e.map(n=>n?.trim?.()).filter(Boolean).join(" "),rw=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,dp=e=>{let n={},t;for(;t=rw.exec(e);)n[t[1]]=t[2];return n},ow=(e,n)=>{if(Q(e)){if(Q(n))return`${e};${n}`;e=dp(e)}else Q(n)&&(n=dp(n));return Object.assign({},e??{},n??{})};function pp(...e){let n={};for(let t of e){for(let r in n){if(r.startsWith("on")&&typeof n[r]=="function"&&typeof t[r]=="function"){n[r]=tn(t[r],n[r]);continue}if(r==="className"||r==="class"){n[r]=nw(n[r],t[r]);continue}if(r==="style"){n[r]=ow(n[r],t[r]);continue}n[r]=t[r]!==void 0?t[r]:n[r]}for(let r in t)n[r]===void 0&&(n[r]=t[r])}return n}function fp(e){return new Proxy({},{get(){return e}})}var Gt=()=>e=>Array.from(new Set(e));function oe(...e){let n={};for(let t=0;t<e.length;t++){let r=e[t];if(typeof r=="function"&&(r=r()),r){let o=Object.getOwnPropertyDescriptors(r);for(let i in o)i in n||Object.defineProperty(n,i,{enumerable:!0,get(){let s={};if(i==="style"||i==="class"||i==="className"||i.startsWith("on")){for(let a=0;a<e.length;a++){let l=e[a];typeof l=="function"&&(l=l()),s=pp(s,{[i]:(l||{})[i]})}return s[i]}for(let a=e.length-1;a>=0;a--){let l,c=e[a];if(typeof c=="function"&&(c=c()),l=(c||{})[i],l!==void 0)return l}}})}}return n}var iw=e=>Array.isArray(e),sw=e=>e!=null&&typeof e=="object",aw=e=>sw(e)&&!iw(e),lw=e=>typeof e=="number"&&!Number.isNaN(e),mp=e=>typeof e=="string",cw=Function.prototype.toString;cw.call(Object);var hp={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},uw=e=>e.startsWith("--")?e:gw(e);function dw(e){return e in hp?hp[e]:e}var qt=fp(e=>{let n={};for(let t in e){let r=e[t];if(!(t==="readOnly"&&r===!1)){if(t==="style"&&aw(r)){n.style=pw(r);continue}if(t==="children"){mp(r)&&(n.textContent=r);continue}n[dw(t)]=r}}return n});function pw(e){let n={};for(let t in e){let r=e[t];!mp(r)&&!lw(r)||(n[uw(t)]=r)}return n}var fw=/[A-Z]/g,hw=/^ms-/;function mw(e){return"-"+e.toLowerCase()}var ml={};function gw(e){if(ml.hasOwnProperty(e))return ml[e];var n=e.replace(fw,mw);return ml[e]=hw.test(n)?"-"+n:n}function gp(e,n){let{actions:t,context:r}=n??{},[o,i]=Kd(e.getState());return se(()=>{let s=e.subscribe(a=>{i(ls(a))});le(()=>{s()})}),me(()=>{let s=typeof r=="function"?r():r;e.setContext(s)}),me(()=>{e.setOptions({actions:t})}),o}function yp(e){return[gp(e),e.send]}function yw(e,n){let{state:t,context:r}=n??{},o=(()=>{let i=typeof e=="function"?e():e,s=typeof r=="function"?r():r;return s&&i.setContext(s),i._created(),i})();return se(()=>{o.start(t),le(()=>{o.stop()})}),o}function wn(e,n){let t=yw(e,n);return[gp(t,n),t.send,t]}var gl=e=>t=>{let[r,o]=qe(t,["asChild"]);if(r.asChild){let i=s=>{let[,a]=qe(o,["ref"]);return oe(a,s)};return r.asChild(i)}return h(qu,we({component:e},o))};function bw(){let e=new Map;return new Proxy(gl,{apply(n,t,r){return gl(r[0])},get(n,t){let r=t;return e.has(r)||e.set(r,gl(r)),e.get(r)}})}var he=bw();var vw=e=>typeof e=="function",bp=(e,...n)=>vw(e)?e(...n):e;function xw(e,n){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${n}`}function Qe(e={}){let{strict:n=!0,hookName:t="useContext",providerName:r="Provider",errorMessage:o,defaultValue:i}=e,s=Du(i);function a(){let l=Xa(s);if(!l&&n){let c=new Error(o??xw(t,r));throw c.name="ContextError",Error.captureStackTrace?.(c,a),c}return l}return[s.Provider,a,s]}var ww=(e,n)=>e.map((t,r)=>e[(Math.max(n,0)+r)%e.length]);var ms=e=>typeof e=="object"&&e!==null,xp=2147483647,Mt=e=>e?"":void 0;var Sw=1,Cw=9,Tw=11,et=e=>ms(e)&&e.nodeType===Sw&&typeof e.nodeName=="string",gs=e=>ms(e)&&e.nodeType===Cw,Ew=e=>ms(e)&&e===e.window;var wp=e=>et(e)?e.localName||"":"#document";function _w(e){return["html","body","#document"].includes(wp(e))}var kw=e=>ms(e)&&e.nodeType!==void 0,hs=e=>kw(e)&&e.nodeType===Tw&&"host"in e,Pw=e=>et(e)&&e.localName==="input",Sp=e=>!!e?.matches("a[href]"),Iw=e=>et(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1,Aw=/(textarea|select)/;function ys(e){if(e==null||!et(e))return!1;try{return Pw(e)&&e.selectionStart!=null||Aw.test(e.localName)||e.isContentEditable||e.getAttribute("contenteditable")==="true"||e.getAttribute("contenteditable")===""}catch{return!1}}function rn(e,n){if(!e||!n||!et(e)||!et(n))return!1;let t=n.getRootNode?.();if(e===n||e.contains(n))return!0;if(t&&hs(t)){let r=n;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Bt(e){return gs(e)?e:Ew(e)?e.document:e?.ownerDocument??document}function Ow(e){return Bt(e).documentElement}function Cn(e){return hs(e)?Cn(e.host):gs(e)?e.defaultView??window:et(e)?e.ownerDocument?.defaultView??window:window}function vl(e){let n=e.activeElement;for(;n?.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Rw(e){if(wp(e)==="html")return e;let n=e.assignedSlot||e.parentNode||hs(e)&&e.host||Ow(e);return hs(n)?n.host:n}var yl=new WeakMap;function bs(e){return yl.has(e)||yl.set(e,Cn(e).getComputedStyle(e)),yl.get(e)}var Cp=()=>typeof document<"u";function Mw(){return navigator.userAgentData?.platform??navigator.platform}function Nw(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:n,version:t})=>`${n}/${t}`).join(" "):navigator.userAgent}var xl=e=>Cp()&&e.test(Mw()),Dw=e=>Cp()&&e.test(Nw());var $w=()=>xl(/^Mac/);var Lw=()=>Dw(/firefox\//i),Bw=()=>xl(/mac|iphone|ipad|ipod/i),Tp=()=>xl(/iP(hone|ad|od)|iOS/);function Fw(e){return e.composedPath?.()??e.nativeEvent?.composedPath?.()}function Nt(e){return Fw(e)?.[0]??e.target}var Ep=e=>rn(e.currentTarget,Nt(e));function wl(e){let n=e.currentTarget;if(!n)return!1;let t=Bw();if(t&&!e.metaKey||!t&&!e.ctrlKey)return!1;let r=n.localName;return r==="a"||r==="button"&&n.type==="submit"||r==="input"&&n.type==="submit"}function Sl(e){let n=e.currentTarget;if(!n)return!1;let t=n.localName;return e.altKey?t==="a"||t==="button"&&n.type==="submit"||t==="input"&&n.type==="submit":!1}function _p(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var vs=e=>e.button===2||$w()&&e.ctrlKey&&e.button===0,kp=e=>e.ctrlKey||e.altKey||e.metaKey,Uw=e=>"touches"in e&&e.touches.length>0,jw={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},vp={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Cl(e,n={}){let{dir:t="ltr",orientation:r="horizontal"}=n,o=e.key;return o=jw[o]??o,t==="rtl"&&r==="horizontal"&&o in vp&&(o=vp[o]),o}function xs(e,n="client"){let t=Uw(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t[`${n}X`],y:t[`${n}Y`]}}var ft=(e,n,t,r)=>{let o=typeof e=="function"?e():e;return o?.addEventListener(n,t,r),()=>{o?.removeEventListener(n,t,r)}};function Vw(e,n){let{type:t="HTMLInputElement",property:r="value"}=n,o=Cn(e)[t].prototype;return Object.getOwnPropertyDescriptor(o,r)??{}}function Hw(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function zw(e,n,t="value"){let r=Hw(e);r&&Vw(e,{type:r,property:t}).set?.call(e,n),e.setAttribute(t,n)}var Pp=e=>et(e)&&e.tagName==="IFRAME",Ww=e=>!Number.isNaN(parseInt(e.getAttribute("tabindex")||"0",10)),Gw=e=>parseInt(e.getAttribute("tabindex")||"0",10)<0,Tl="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",El=(e,n=!1)=>{if(!e)return[];let t=Array.from(e.querySelectorAll(Tl));(n==!0||n=="if-empty"&&t.length===0)&&et(e)&&Sn(e)&&t.unshift(e);let o=t.filter(Sn);return o.forEach((i,s)=>{if(Pp(i)&&i.contentDocument){let a=i.contentDocument.body;o.splice(s,1,...El(a))}}),o};function Sn(e){return!e||e.closest("[inert]")?!1:e.matches(Tl)&&Iw(e)}function ni(e,n){if(!e)return[];let t=Array.from(e.querySelectorAll(Tl)),r=t.filter(Ln);return n&&Ln(e)&&r.unshift(e),r.forEach((o,i)=>{if(Pp(o)&&o.contentDocument){let s=o.contentDocument.body,a=ni(s);r.splice(i,1,...a)}}),!r.length&&n?t:r}function Ln(e){return e!=null&&e.tabIndex>0?!0:Sn(e)&&!Gw(e)}function qw(e,n){let t=ni(e,n),r=t[0]||null,o=t[t.length-1]||null;return[r,o]}function po(e){return e.tabIndex<0&&(/^(audio|video|details)$/.test(e.localName)||ys(e))&&!Ww(e)?0:e.tabIndex}function Ip(e){let{root:n,getInitialEl:t,filter:r,enabled:o=!0}=e;if(!o)return;let i=null;if(i||(i=typeof t=="function"?t():t),i||(i=n?.querySelector("[data-autofocus],[autofocus]")),!i){let s=ni(n);i=r?s.filter(r)[0]:s[0]}return i||n||void 0}function Ap(e){let n=e.currentTarget;if(!n)return!1;let[t,r]=qw(n),o=n.ownerDocument||document;return!(o.activeElement===t&&e.shiftKey||o.activeElement===r&&!e.shiftKey||!t&&!r)}function We(e){let n=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(n)}}function Kw(e,n,t){let r=We(()=>{e.removeEventListener(n,o,!0),t()}),o=()=>{r(),t()};return e.addEventListener(n,o,{once:!0,capture:!0}),r}function Yw(e,n){if(!e)return;let{attributes:t,callback:r}=n,o=e.ownerDocument.defaultView||window,i=new o.MutationObserver(s=>{for(let a of s)a.type==="attributes"&&a.attributeName&&t.includes(a.attributeName)&&r(a)});return i.observe(e,{attributes:!0,attributeFilter:t}),()=>i.disconnect()}function Op(e,n){let{defer:t}=n,r=t?We:i=>i(),o=[];return o.push(r(()=>{let i=typeof e=="function"?e():e;o.push(Yw(i,n))})),()=>{o.forEach(i=>i?.())}}function Rp(e){let n=()=>e.click();Lw()?Kw(e,"keyup",n):queueMicrotask(n)}function ws(e){let n=Rw(e);return _w(n)?Bt(n).body:et(n)&&Mp(n)?n:ws(n)}var Xw=/auto|scroll|overlay|hidden|clip/;function Mp(e){let n=Cn(e),{overflow:t,overflowX:r,overflowY:o,display:i}=n.getComputedStyle(e);return Xw.test(t+o+r)&&!["inline","contents"].includes(i)}function Zw(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Np(e,n){let{rootEl:t,...r}=n||{};!e||!t||!Mp(t)||!Zw(t)||e.scrollIntoView(r)}function Ss(e,n){return Array.from(e?.querySelectorAll(n)??[])}var _l=e=>e.id;function Jw(e,n,t=_l){return e.find(r=>t(r)===n)}function kl(e,n,t=_l){let r=Jw(e,n,t);return r?e.indexOf(r):-1}function Dp(e,n,t=!0){let r=kl(e,n);return r=t?(r+1)%e.length:Math.min(r+1,e.length-1),e[r]}function $p(e,n,t=!0){let r=kl(e,n);return r===-1?t?e[e.length-1]:null:(r=t?(r-1+e.length)%e.length:Math.max(0,r-1),e[r])}function tr(e){let n={getRootNode:t=>t.getRootNode?.()??document,getDoc:t=>Bt(n.getRootNode(t)),getWin:t=>n.getDoc(t).defaultView??window,getActiveElement:t=>vl(n.getRootNode(t)),isActiveElement:(t,r)=>r===n.getActiveElement(t),getById:(t,r)=>n.getRootNode(t).getElementById(r),setValue:(t,r)=>{t==null||r==null||zw(t,r.toString())}};return{...n,...e}}var Qw=e=>e.split("").map(n=>{let t=n.charCodeAt(0);return t>0&&t<128?n:t>=128&&t<=255?`/x${t.toString(16)}`.replace("/","\\"):""}).join("").trim(),e0=e=>Qw(e.dataset?.valuetext??e.textContent??""),t0=(e,n)=>e.trim().toLowerCase().startsWith(n.toLowerCase());function n0(e,n,t,r=_l){let o=t?kl(e,t,r):-1,i=t?ww(e,o):e;return n.length===1&&(i=i.filter(a=>r(a)!==t)),i.find(a=>t0(e0(a),n))}var bl=new WeakMap;function r0(e,n,t){bl.has(e)||bl.set(e,new Map);let r=bl.get(e),o=r.get(n);if(!o)return r.set(n,t()),()=>{r.get(n)?.(),r.delete(n)};let i=t(),s=()=>{i(),o(),r.delete(n)};return r.set(n,s),()=>{r.get(n)===s&&(i(),r.set(n,o))}}function Lp(e,n){return e?r0(e,"style",()=>{let r=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=r}}):()=>{}}function o0(e,n){let{state:t,activeId:r,key:o,timeout:i=350,itemToId:s}=n,a=t.keysSoFar+o,c=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=e.slice(),d=n0(u,c,r,s);function p(){clearTimeout(t.timer),t.timer=-1}function f(g){t.keysSoFar=g,p(),g!==""&&(t.timer=+setTimeout(()=>{f(""),p()},i))}return f(a),d}var Pl=Object.assign(o0,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:i0});function i0(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}var s0=1e3/60;function a0(e,n){let t=e();if(et(t)&&t.isConnected)return n(t),()=>{};{let r=setInterval(()=>{let o=e();et(o)&&o.isConnected&&(n(o),clearInterval(r))},s0);return()=>clearInterval(r)}}function Bp(e,n){let t=[];return e?.forEach(r=>{let o=a0(r,n);t.push(o)}),()=>{t.forEach(r=>r())}}var[l0,Cr]=Qe({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:()=>({getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window})}),c0=w("<span hidden>"),Tr=e=>{let[n,t]=P(),r=()=>bp(e.value)??n()?.ownerDocument??document,o=R(()=>({getRootNode:r,getDocument:()=>Bt(r()),getWindow:()=>Cn(r())}));return h(l0,{value:o,get children(){return[R(()=>e.children),h(B,{get when(){return!e.value},get children(){var i=c0();return pe(t,i),i}})]}})};var[H1,fo]=Qe({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:()=>({dir:"ltr",locale:"en-US"})});var u0=Object.defineProperty,nr=(e,n)=>{for(var t in n)u0(e,t,{get:n[t],enumerable:!0})};var on=(e,n=[])=>({parts:(...t)=>{if(d0(n))return on(e,t);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...t)=>on(e,[...n,...t]),rename:t=>on(t,n),keys:()=>n,build:()=>[...new Set(n)].reduce((t,r)=>Object.assign(t,{[r]:{selector:[`&[data-scope="${ho(e)}"][data-part="${ho(r)}"]`,`& [data-scope="${ho(e)}"][data-part="${ho(r)}"]`].join(", "),attrs:{"data-scope":ho(e),"data-part":ho(r)}}}),{})}),ho=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),d0=e=>e.length===0;var[Il,Fp]=Qe({hookName:"useRenderStrategyContext",providerName:"<RenderStrategyProvider />"}),ri=e=>mt()(e,["lazyMount","unmountOnExit"]);var p0=Object.defineProperty,f0=(e,n,t)=>n in e?p0(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,K=(e,n,t)=>f0(e,typeof n!="symbol"?n+"":n,t);function Up(e,...n){if(!Fe(e))throw new TypeError("Source argument must be a plain object");for(let t of n){if(!Fe(t))continue;let r=Me(t);for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o)||o==="__proto__"||o==="constructor"||o==="prototype")continue;let i=e[o],s=t[o];Fe(s)?e[o]=Fe(i)?Up(i,s):{...s}:e[o]=s}}return e}function sn(e){return Q(e)?{type:e}:e}function rr(e){return e?Ze(e)?e.slice():[e]:[]}function jp(e){return Le(e)&&e.predicate!=null}var h0=()=>!0;function Vp(e,n){return e=e??h0,(t,r,o)=>{if(Q(e)){let i=n[e];return Be(i)?i(t,r,o):i}return jp(e)?e.predicate(n)(t,r,o):e?.(t,r,o)}}function Al(e,n){return(t,r,o)=>jp(e)?e.predicate(n)(t,r,o):e}function m0(e){let n=e.computed??ae({}),t=e.context??ae({}),r=e.initial?e.states?.[e.initial]?.tags:[],o=Et({value:e.initial??"",previousValue:"",event:ae({}),previousEvent:ae({}),context:vn(t,n),done:!1,tags:r??[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return ae(this).nextEvents.includes(i)},get nextEvents(){let i=e.states?.[this.value]?.on??{},s=e?.on??{};return Object.keys({...i,...s})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ae(o)}function oi(e,n){return(t,r)=>{if(Rt(e))return e;if(Be(e))return e(t,r);if(Q(e)){let o=Number.parseFloat(e);if(!Number.isNaN(o))return o;if(n){let i=n?.[e];return je(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Be(i)?i(t,r):i}}}}function g0(e){return Q(e)?{target:e}:e}function y0(e,n){return(t,r,o)=>rr(e).map(g0).find(i=>Vp(i.guard,n)(t,r,o)??i.target??i.actions)}var b0=class{constructor(e,n){K(this,"status","Not Started"),K(this,"state"),K(this,"initialState"),K(this,"initialContext"),K(this,"id"),K(this,"type","machine"),K(this,"activityEvents",new Map),K(this,"delayedEvents",new Map),K(this,"stateListeners",new Set),K(this,"doneListeners",new Set),K(this,"contextWatchers",new Set),K(this,"removeStateListener",Lt),K(this,"parent"),K(this,"children",new Map),K(this,"guardMap"),K(this,"actionMap"),K(this,"delayMap"),K(this,"activityMap"),K(this,"sync"),K(this,"options"),K(this,"config"),K(this,"_created",()=>{if(!this.config.created)return;let t=sn("machine.created");this.executeActions(this.config.created,t)}),K(this,"start",t=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=rt(this.state,()=>{this.stateListeners.forEach(l=>{l(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(sn("machine.start"),rr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,sn("machine.start"));let r=sn("machine.init"),o=Le(t)?t.value:t,i=Le(t)?t.context:void 0;i&&this.setContext(i);let s={target:o??this.config.initial},a=this.getNextStateInfo(s,r);return this.initialState=a,this.performStateChangeEffects(this.state.value,a,r),this}),K(this,"setupContextWatchers",()=>{let{watch:t}=this.config;if(!t)return;let r=Pe(this.state.context),o=rt(this.state.context,()=>{let i=Pe(this.state.context);for(let[s,a]of Object.entries(t))(this.options.compareFns?.[s]??Object.is)(r[s],i[s])||this.executeActions(a,this.state.event);r=i});this.contextWatchers.add(o)}),K(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,sn("machine.stop")),this.executeActions(this.config.exit,sn("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),K(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),K(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(t=>t()),this.contextWatchers.clear()}),K(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(t=>{t.forEach(r=>r())}),this.delayedEvents.clear()}),K(this,"stopActivities",t=>{t?(this.activityEvents.get(t)?.forEach(r=>r()),this.activityEvents.get(t)?.clear(),this.activityEvents.delete(t)):(this.activityEvents.forEach(r=>{r.forEach(o=>o()),r.clear()}),this.activityEvents.clear())}),K(this,"sendChild",(t,r)=>{let o=sn(t),i=Xe(r,this.contextSnapshot),s=this.children.get(i);s||je(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),s.send(o)}),K(this,"stopChild",t=>{this.children.has(t)||je(`[@zag-js/core > stop-child] Cannot stop unknown child ${t}`),this.children.get(t).stop(),this.children.delete(t)}),K(this,"removeChild",t=>{this.children.delete(t)}),K(this,"stopChildren",()=>{this.children.forEach(t=>t.stop()),this.children.clear()}),K(this,"setParent",t=>{this.parent=t}),K(this,"spawn",(t,r)=>{let o=Xe(t);return r&&(o.id=r),o.type="machine.actor",o.setParent(this),this.children.set(o.id,ae(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),ae(De(o))}),K(this,"stopActivity",t=>{if(!this.state.value)return;let r=this.activityEvents.get(this.state.value);r?.get(t)?.(),r?.delete(t)}),K(this,"addActivityCleanup",(t,r,o)=>{t&&(this.activityEvents.has(t)?this.activityEvents.get(t)?.set(r,o):this.activityEvents.set(t,new Map([[r,o]])))}),K(this,"setState",t=>{this.state.previousValue=this.state.value,this.state.value=t;let r=this.getStateNode(t);t==null?en(this.state.tags):this.state.tags=rr(r?.tags)}),K(this,"setContext",t=>{t&&Up(this.state.context,t)}),K(this,"setOptions",t=>{let r=Me(t);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),K(this,"getStateNode",t=>{if(t)return this.config.states?.[t]}),K(this,"getNextStateInfo",(t,r)=>{let o=this.determineTransition(t,r),i=!o?.target,s=o?.target??this.state.value,a=this.state.value!==s,l=this.getStateNode(s),u={reenter:!i&&!a&&!o?.internal,transition:o,stateNode:l,target:s,changed:a};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",u.target),u}),K(this,"getAfterActions",(t,r)=>{let o,i=this.state.value;return{entry:()=>{o=globalThis.setTimeout(()=>{let s=this.getNextStateInfo(t,this.state.event);this.performStateChangeEffects(i,s,this.state.event)},r)},exit:()=>{globalThis.clearTimeout(o)}}}),K(this,"getDelayedEventActions",t=>{let r=this.getStateNode(t),o=this.state.event;if(!r||!r.after)return;let i=[],s=[];if(Ze(r.after)){let a=this.determineTransition(r.after,o);if(!a)return;if(!Wt(a,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(a)}`);let c=oi(a.delay,this.delayMap)(this.contextSnapshot,o),u=this.getAfterActions(a,c);return i.push(u.entry),s.push(u.exit),{entries:i,exits:s}}if(Le(r.after))for(let a in r.after){let l=r.after[a],u=oi(a,this.delayMap)(this.contextSnapshot,o),d=this.getAfterActions(l,u);i.push(d.entry),s.push(d.exit)}return{entries:i,exits:s}}),K(this,"executeActions",(t,r)=>{let o=Al(t,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(let i of rr(o)){let s=Q(i)?this.actionMap?.[i]:i;Ue(Q(i)&&!s,`[@zag-js/core > execute-actions] No implementation found for action: \`${i}\``),s?.(this.state.context,r,this.meta)}}),K(this,"executeActivities",(t,r,o)=>{for(let i of r){let s=Q(i)?this.activityMap?.[i]:i;if(!s){Ue(`[@zag-js/core > execute-activity] No implementation found for activity: \`${i}\``);continue}let a=s(this.state.context,t,this.meta);if(a){let l=Q(i)?i:i.name||pt();this.addActivityCleanup(o??this.state.value,l,a)}}}),K(this,"createEveryActivities",(t,r)=>{if(t)if(Ze(t)){let o=rr(t).find(l=>{let c=l.delay,d=oi(c,this.delayMap)(this.contextSnapshot,this.state.event);return Vp(l.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??d!=null});if(!o)return;let s=oi(o.delay,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let l=globalThis.setInterval(()=>{this.executeActions(o.actions,this.state.event)},s);return()=>{globalThis.clearInterval(l)}})}else for(let o in t){let i=t?.[o],a=oi(o,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let c=globalThis.setInterval(()=>{this.executeActions(i,this.state.event)},a);return()=>{globalThis.clearInterval(c)}})}}),K(this,"setEvent",t=>{this.state.previousEvent=this.state.event,this.state.event=De(sn(t))}),K(this,"performExitEffects",(t,r)=>{let o=this.state.value;if(o==="")return;let i=t?this.getStateNode(t):void 0;this.stopActivities(o);let s=Al(i?.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=rr(s),l=this.delayedEvents.get(o);l&&a.push(...l),this.executeActions(a,r),this.delayedEvents.delete(o)}),K(this,"performEntryEffects",(t,r)=>{let o=this.getStateNode(t),i=rr(o?.activities);this.createEveryActivities(o?.every,c=>{i.unshift(c)}),i.length>0&&this.executeActivities(r,i);let s=Al(o?.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=rr(s),l=this.getDelayedEventActions(t);o?.after&&l&&(this.delayedEvents.set(t,l?.exits),a.push(...l.entries)),this.executeActions(a,r),o?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(c=>{c(this.stateSnapshot)}),this.stop())}),K(this,"performTransitionEffects",(t,r)=>{let o=this.determineTransition(t,r);this.executeActions(o?.actions,r)}),K(this,"performStateChangeEffects",(t,r,o)=>{this.setEvent(o);let i=r.changed||r.reenter;i&&this.performExitEffects(t,o),this.performTransitionEffects(r.transition,o),this.setState(r.target),i&&this.performEntryEffects(r.target,o)}),K(this,"determineTransition",(t,r)=>y0(t,this.guardMap)?.(this.contextSnapshot,r,this.guardMeta)),K(this,"sendParent",t=>{this.parent||je("[@zag-js/core > send-parent] Cannot send event to an unknown parent");let r=sn(t);this.parent?.send(r)}),K(this,"log",(...t)=>{nn()&&this.options.debug&&console.log(...t)}),K(this,"send",t=>{let r=sn(t);this.transition(this.state.value,r)}),K(this,"transition",(t,r)=>{let o=Q(t)?this.getStateNode(t):t?.stateNode,i=sn(r);if(!o&&!this.config.on){let l=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${t}, \`event\`: ${i.type}`;Ue(l);return}let s=o?.on?.[i.type]??this.config.on?.[i.type],a=this.getNextStateInfo(s,i);return this.performStateChangeEffects(this.state.value,a,i),a.stateNode}),K(this,"subscribe",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),()=>{this.stateListeners.delete(t)})),K(this,"onDone",t=>(this.doneListeners.add(t),this)),K(this,"onTransition",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),this)),this.config=nt(e),this.options=nt(n??{}),this.id=this.config.id??`machine-${pt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=m0(this.config),this.initialContext=Pe(this.state.context)}get stateSnapshot(){return ae(Pe(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){let e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){return e.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){let e=this.getState();return{value:e.value,tags:e.tags}}},Hp=(e,n)=>new b0(e,n);function Wp(e,n,t){let r=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&r,present:r,setNode(o){o&&n({type:"NODE.SET",node:o})},unmount(){n({type:"UNMOUNT"})}}}function Gp(e){return Hp({initial:e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...e},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(n){return zp(n.styles?.animationDuration)+zp(n.styles?.animationDelay)+v0}},actions:{setInitial(n){n.initial=!0},clearInitial(n){n.initial=!1},cleanupNode(n){n.node=null,n.styles=null},invokeOnExitComplete(n){n.onExitComplete?.()},setNode(n,t){n.node=De(t.node)},setStyles(n,t){let r=t.node.ownerDocument.defaultView||window;n.styles=De(r.getComputedStyle(t.node))},syncPresence(n,t,{send:r}){if(n.present){r({type:"MOUNT",src:"presence.changed"});return}if(!n.present&&n.node?.ownerDocument.visibilityState==="hidden"){r({type:"UNMOUNT",src:"visibilitychange"});return}let o=Cs(n.styles);(n.immediate?queueMicrotask:requestAnimationFrame)(()=>{n.unmountAnimationName=o,o==="none"||o===n.prevAnimationName||n.styles?.display==="none"||n.styles?.animationDuration==="0s"?r({type:"UNMOUNT",src:"presence.changed"}):r({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(n){(n.immediate?queueMicrotask:requestAnimationFrame)(()=>{n.prevAnimationName=Cs(n.styles)})},clearPrevAnimationName(n){n.prevAnimationName=null}},activities:{trackAnimationEvents(n,t,{send:r}){let o=n.node;if(!o)return;let i=a=>{(a.composedPath?.()?.[0]??a.target)===o&&(n.prevAnimationName=Cs(n.styles))},s=a=>{let l=Cs(n.styles);(a.composedPath?.()?.[0]??a.target)===o&&l===n.unmountAnimationName&&r({type:"UNMOUNT",src:"animationend"})};return o.addEventListener("animationstart",i),o.addEventListener("animationcancel",s),o.addEventListener("animationend",s),()=>{o.removeEventListener("animationstart",i),o.removeEventListener("animationcancel",s),o.removeEventListener("animationend",s)}}}})}function Cs(e){return e?.animationName||"none"}function zp(e){return parseFloat(e||"0")*1e3}var v0=16.667,rA=Gt()(["onExitComplete","present","immediate"]);var mo=e=>mt()(e,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]),Er=e=>{let[n,t]=ri(e),[r,o]=P(!1),[i,s]=wn(Gp(t),{context:t}),a=R(()=>Wp(i,s,qt));return me(()=>{a().present&&o(!0)}),R(()=>({unmounted:!a().present&&!r()&&n.lazyMount||n.unmountOnExit&&!a().present&&r(),present:a().present,presenceProps:{ref:a().setNode,hidden:!a().present,"data-state":t.present?"open":"closed"}}))};var[go,or]=Qe({hookName:"usePresenceContext",providerName:"<PresenceProvider />"});var qp=["top","right","bottom","left"];var Tn=Math.min,_t=Math.max,si=Math.round,ai=Math.floor,an=e=>({x:e,y:e}),w0={left:"right",right:"left",bottom:"top",top:"bottom"},S0={start:"end",end:"start"};function Es(e,n,t){return _t(e,Tn(n,t))}function En(e,n){return typeof e=="function"?e(n):e}function _n(e){return e.split("-")[0]}function _r(e){return e.split("-")[1]}function _s(e){return e==="x"?"y":"x"}function ks(e){return e==="y"?"height":"width"}function Bn(e){return["top","bottom"].includes(_n(e))?"y":"x"}function Ps(e){return _s(Bn(e))}function Kp(e,n,t){t===void 0&&(t=!1);let r=_r(e),o=Ps(e),i=ks(o),s=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(s=ii(s)),[s,ii(s)]}function Yp(e){let n=ii(e);return[Ts(e),n,Ts(n)]}function Ts(e){return e.replace(/start|end/g,n=>S0[n])}function C0(e,n,t){let r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return t?n?o:r:n?r:o;case"left":case"right":return n?i:s;default:return[]}}function Xp(e,n,t,r){let o=_r(e),i=C0(_n(e),t==="start",r);return o&&(i=i.map(s=>s+"-"+o),n&&(i=i.concat(i.map(Ts)))),i}function ii(e){return e.replace(/left|right|bottom|top/g,n=>w0[n])}function T0(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ol(e){return typeof e!="number"?T0(e):{top:e,right:e,bottom:e,left:e}}function kr(e){let{x:n,y:t,width:r,height:o}=e;return{width:r,height:o,top:t,left:n,right:n+r,bottom:t+o,x:n,y:t}}function Zp(e,n,t){let{reference:r,floating:o}=e,i=Bn(n),s=Ps(n),a=ks(s),l=_n(n),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2,f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-o.width,y:d};break;default:f={x:r.x,y:r.y}}switch(_r(n)){case"start":f[s]-=p*(t&&c?-1:1);break;case"end":f[s]+=p*(t&&c?-1:1);break}return f}var ef=async(e,n,t)=>{let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=t,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(n)),c=await s.getElementRects({reference:e,floating:n,strategy:o}),{x:u,y:d}=Zp(c,r,l),p=r,f={},g=0;for(let m=0;m<a.length;m++){let{name:v,fn:b}=a[m],{x:S,y:E,data:T,reset:k}=await b({x:u,y:d,initialPlacement:r,placement:p,strategy:o,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:n}});u=S??u,d=E??d,f={...f,[v]:{...f[v],...T}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(c=k.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:o}):k.rects),{x:u,y:d}=Zp(c,p,l)),m=-1)}return{x:u,y:d,placement:p,strategy:o,middlewareData:f}};async function yo(e,n){var t;n===void 0&&(n={});let{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=En(n,e),g=Ol(f),v=a[p?d==="floating"?"reference":"floating":d],b=kr(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(v)))==null||t?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),S=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},k=kr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:l}):S);return{top:(b.top-k.top+g.top)/T.y,bottom:(k.bottom-b.bottom+g.bottom)/T.y,left:(b.left-k.left+g.left)/T.x,right:(k.right-b.right+g.right)/T.x}}var tf=e=>({name:"arrow",options:e,async fn(n){let{x:t,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=n,{element:c,padding:u=0}=En(e,n)||{};if(c==null)return{};let d=Ol(u),p={x:t,y:r},f=Ps(o),g=ks(f),m=await s.getDimensions(c),v=f==="y",b=v?"top":"left",S=v?"bottom":"right",E=v?"clientHeight":"clientWidth",T=i.reference[g]+i.reference[f]-p[f]-i.floating[g],k=p[f]-i.reference[f],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c)),_=L?L[E]:0;(!_||!await(s.isElement==null?void 0:s.isElement(L)))&&(_=a.floating[E]||i.floating[g]);let M=T/2-k/2,W=_/2-m[g]/2-1,ue=Tn(d[b],W),Ee=Tn(d[S],W),z=ue,ge=_-m[g]-Ee,te=_/2-m[g]/2+M,A=Es(z,te,ge),O=!l.arrow&&_r(o)!=null&&te!==A&&i.reference[g]/2-(te<z?ue:Ee)-m[g]/2<0,N=O?te<z?te-z:te-ge:0;return{[f]:p[f]+N,data:{[f]:A,centerOffset:te-A-N,...O&&{alignmentOffset:N}},reset:O}}});var nf=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;let{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=n,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=En(e,n);if((t=i.arrow)!=null&&t.alignmentOffset)return{};let b=_n(o),S=Bn(a),E=_n(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=p||(E||!m?[ii(a)]:Yp(a)),L=g!=="none";!p&&L&&k.push(...Xp(a,m,g,T));let _=[a,...k],M=await yo(n,v),W=[],ue=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&W.push(M[b]),d){let te=Kp(o,s,T);W.push(M[te[0]],M[te[1]])}if(ue=[...ue,{placement:o,overflows:W}],!W.every(te=>te<=0)){var Ee,z;let te=(((Ee=i.flip)==null?void 0:Ee.index)||0)+1,A=_[te];if(A)return{data:{index:te,overflows:ue},reset:{placement:A}};let O=(z=ue.filter(N=>N.overflows[0]<=0).sort((N,de)=>N.overflows[1]-de.overflows[1])[0])==null?void 0:z.placement;if(!O)switch(f){case"bestFit":{var ge;let N=(ge=ue.filter(de=>{if(L){let it=Bn(de.placement);return it===S||it==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(it=>it>0).reduce((it,Pt)=>it+Pt,0)]).sort((de,it)=>de[1]-it[1])[0])==null?void 0:ge[0];N&&(O=N);break}case"initialPlacement":O=a;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function Jp(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Qp(e){return qp.some(n=>e[n]>=0)}var rf=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){let{rects:t}=n,{strategy:r="referenceHidden",...o}=En(e,n);switch(r){case"referenceHidden":{let i=await yo(n,{...o,elementContext:"reference"}),s=Jp(i,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Qp(s)}}}case"escaped":{let i=await yo(n,{...o,altBoundary:!0}),s=Jp(i,t.floating);return{data:{escapedOffsets:s,escaped:Qp(s)}}}default:return{}}}}};async function E0(e,n){let{placement:t,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=_n(t),a=_r(t),l=Bn(t)==="y",c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,d=En(n,e),{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}var of=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;let{x:o,y:i,placement:s,middlewareData:a}=n,l=await E0(n,e);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},sf=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){let{x:t,y:r,placement:o}=n,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:b,y:S}=v;return{x:b,y:S}}},...l}=En(e,n),c={x:t,y:r},u=await yo(n,l),d=Bn(_n(o)),p=_s(d),f=c[p],g=c[d];if(i){let v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",S=f+u[v],E=f-u[b];f=Es(S,f,E)}if(s){let v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",S=g+u[v],E=g-u[b];g=Es(S,g,E)}let m=a.fn({...n,[p]:f,[d]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[p]:i,[d]:s}}}}}},af=function(e){return e===void 0&&(e={}),{options:e,fn(n){let{x:t,y:r,placement:o,rects:i,middlewareData:s}=n,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=En(e,n),u={x:t,y:r},d=Bn(o),p=_s(d),f=u[p],g=u[d],m=En(a,n),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){let E=p==="y"?"height":"width",T=i.reference[p]-i.floating[E]+v.mainAxis,k=i.reference[p]+i.reference[E]-v.mainAxis;f<T?f=T:f>k&&(f=k)}if(c){var b,S;let E=p==="y"?"width":"height",T=["top","left"].includes(_n(o)),k=i.reference[d]-i.floating[E]+(T&&((b=s.offset)==null?void 0:b[d])||0)+(T?0:v.crossAxis),L=i.reference[d]+i.reference[E]+(T?0:((S=s.offset)==null?void 0:S[d])||0)-(T?v.crossAxis:0);g<k?g=k:g>L&&(g=L)}return{[p]:f,[d]:g}}}},lf=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var t,r;let{placement:o,rects:i,platform:s,elements:a}=n,{apply:l=()=>{},...c}=En(e,n),u=await yo(n,c),d=_n(o),p=_r(o),f=Bn(o)==="y",{width:g,height:m}=i.floating,v,b;d==="top"||d==="bottom"?(v=d,b=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,v=p==="end"?"top":"bottom");let S=m-u.top-u.bottom,E=g-u.left-u.right,T=Tn(m-u[v],S),k=Tn(g-u[b],E),L=!n.middlewareData.shift,_=T,M=k;if((t=n.middlewareData.shift)!=null&&t.enabled.x&&(M=E),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(_=S),L&&!p){let ue=_t(u.left,0),Ee=_t(u.right,0),z=_t(u.top,0),ge=_t(u.bottom,0);f?M=g-2*(ue!==0||Ee!==0?ue+Ee:_t(u.left,u.right)):_=m-2*(z!==0||ge!==0?z+ge:_t(u.top,u.bottom))}await l({...n,availableWidth:M,availableHeight:_});let W=await s.getDimensions(a.floating);return g!==W.width||m!==W.height?{reset:{rects:!0}}:{}}}};function Is(){return typeof window<"u"}function Pr(e){return uf(e)?(e.nodeName||"").toLowerCase():"#document"}function Dt(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ln(e){var n;return(n=(uf(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function uf(e){return Is()?e instanceof Node||e instanceof Dt(e).Node:!1}function Kt(e){return Is()?e instanceof Element||e instanceof Dt(e).Element:!1}function cn(e){return Is()?e instanceof HTMLElement||e instanceof Dt(e).HTMLElement:!1}function cf(e){return!Is()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dt(e).ShadowRoot}function vo(e){let{overflow:n,overflowX:t,overflowY:r,display:o}=Yt(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!["inline","contents"].includes(o)}function df(e){return["table","td","th"].includes(Pr(e))}function li(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function As(e){let n=Os(),t=Kt(e)?Yt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function pf(e){let n=Fn(e);for(;cn(n)&&!Ir(n);){if(As(n))return n;if(li(n))return null;n=Fn(n)}return null}function Os(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ir(e){return["html","body","#document"].includes(Pr(e))}function Yt(e){return Dt(e).getComputedStyle(e)}function ci(e){return Kt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fn(e){if(Pr(e)==="html")return e;let n=e.assignedSlot||e.parentNode||cf(e)&&e.host||ln(e);return cf(n)?n.host:n}function ff(e){let n=Fn(e);return Ir(n)?e.ownerDocument?e.ownerDocument.body:e.body:cn(n)&&vo(n)?n:ff(n)}function bo(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);let o=ff(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Dt(o);if(i){let a=Rs(s);return n.concat(s,s.visualViewport||[],vo(o)?o:[],a&&t?bo(a):[])}return n.concat(o,bo(o,[],t))}function Rs(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gf(e){let n=Yt(e),t=parseFloat(n.width)||0,r=parseFloat(n.height)||0,o=cn(e),i=o?e.offsetWidth:t,s=o?e.offsetHeight:r,a=si(t)!==i||si(r)!==s;return a&&(t=i,r=s),{width:t,height:r,$:a}}function Ml(e){return Kt(e)?e:e.contextElement}function xo(e){let n=Ml(e);if(!cn(n))return an(1);let t=n.getBoundingClientRect(),{width:r,height:o,$:i}=gf(n),s=(i?si(t.width):t.width)/r,a=(i?si(t.height):t.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}var _0=an(0);function yf(e){let n=Dt(e);return!Os()||!n.visualViewport?_0:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function k0(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Dt(e)?!1:n}function Ar(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);let o=e.getBoundingClientRect(),i=Ml(e),s=an(1);n&&(r?Kt(r)&&(s=xo(r)):s=xo(e));let a=k0(i,t,r)?yf(i):an(0),l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){let p=Dt(i),f=r&&Kt(r)?Dt(r):r,g=p,m=Rs(g);for(;m&&r&&f!==g;){let v=xo(m),b=m.getBoundingClientRect(),S=Yt(m),E=b.left+(m.clientLeft+parseFloat(S.paddingLeft))*v.x,T=b.top+(m.clientTop+parseFloat(S.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=E,c+=T,g=Dt(m),m=Rs(g)}}return kr({width:u,height:d,x:l,y:c})}function Nl(e,n){let t=ci(e).scrollLeft;return n?n.left+t:Ar(ln(e)).left+t}function bf(e,n,t){t===void 0&&(t=!1);let r=e.getBoundingClientRect(),o=r.left+n.scrollLeft-(t?0:Nl(e,r)),i=r.top+n.scrollTop;return{x:o,y:i}}function P0(e){let{elements:n,rect:t,offsetParent:r,strategy:o}=e,i=o==="fixed",s=ln(r),a=n?li(n.floating):!1;if(r===s||a&&i)return t;let l={scrollLeft:0,scrollTop:0},c=an(1),u=an(0),d=cn(r);if((d||!d&&!i)&&((Pr(r)!=="body"||vo(s))&&(l=ci(r)),cn(r))){let f=Ar(r);c=xo(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}let p=s&&!d&&!i?bf(s,l,!0):an(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function I0(e){return Array.from(e.getClientRects())}function A0(e){let n=ln(e),t=ci(e),r=e.ownerDocument.body,o=_t(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),i=_t(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight),s=-t.scrollLeft+Nl(e),a=-t.scrollTop;return Yt(r).direction==="rtl"&&(s+=_t(n.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function O0(e,n){let t=Dt(e),r=ln(e),o=t.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;let c=Os();(!c||c&&n==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function R0(e,n){let t=Ar(e,!0,n==="fixed"),r=t.top+e.clientTop,o=t.left+e.clientLeft,i=cn(e)?xo(e):an(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function hf(e,n,t){let r;if(n==="viewport")r=O0(e,t);else if(n==="document")r=A0(ln(e));else if(Kt(n))r=R0(n,t);else{let o=yf(e);r={x:n.x-o.x,y:n.y-o.y,width:n.width,height:n.height}}return kr(r)}function vf(e,n){let t=Fn(e);return t===n||!Kt(t)||Ir(t)?!1:Yt(t).position==="fixed"||vf(t,n)}function M0(e,n){let t=n.get(e);if(t)return t;let r=bo(e,[],!1).filter(a=>Kt(a)&&Pr(a)!=="body"),o=null,i=Yt(e).position==="fixed",s=i?Fn(e):e;for(;Kt(s)&&!Ir(s);){let a=Yt(s),l=As(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||vo(s)&&!l&&vf(e,s))?r=r.filter(u=>u!==s):o=a,s=Fn(s)}return n.set(e,r),r}function N0(e){let{element:n,boundary:t,rootBoundary:r,strategy:o}=e,s=[...t==="clippingAncestors"?li(n)?[]:M0(n,this._c):[].concat(t),r],a=s[0],l=s.reduce((c,u)=>{let d=hf(n,u,o);return c.top=_t(d.top,c.top),c.right=Tn(d.right,c.right),c.bottom=Tn(d.bottom,c.bottom),c.left=_t(d.left,c.left),c},hf(n,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function D0(e){let{width:n,height:t}=gf(e);return{width:n,height:t}}function $0(e,n,t){let r=cn(n),o=ln(n),i=t==="fixed",s=Ar(e,!0,i,n),a={scrollLeft:0,scrollTop:0},l=an(0);if(r||!r&&!i)if((Pr(n)!=="body"||vo(o))&&(a=ci(n)),r){let p=Ar(n,!0,i,n);l.x=p.x+n.clientLeft,l.y=p.y+n.clientTop}else o&&(l.x=Nl(o));let c=o&&!r&&!i?bf(o,a):an(0),u=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:s.width,height:s.height}}function Rl(e){return Yt(e).position==="static"}function mf(e,n){if(!cn(e)||Yt(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return ln(e)===t&&(t=t.ownerDocument.body),t}function xf(e,n){let t=Dt(e);if(li(e))return t;if(!cn(e)){let o=Fn(e);for(;o&&!Ir(o);){if(Kt(o)&&!Rl(o))return o;o=Fn(o)}return t}let r=mf(e,n);for(;r&&df(r)&&Rl(r);)r=mf(r,n);return r&&Ir(r)&&Rl(r)&&!As(r)?t:r||pf(e)||t}var L0=async function(e){let n=this.getOffsetParent||xf,t=this.getDimensions,r=await t(e.floating);return{reference:$0(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B0(e){return Yt(e).direction==="rtl"}var F0={convertOffsetParentRelativeRectToViewportRelativeRect:P0,getDocumentElement:ln,getClippingRect:N0,getOffsetParent:xf,getElementRects:L0,getClientRects:I0,getDimensions:D0,getScale:xo,isElement:Kt,isRTL:B0};function wf(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function U0(e,n){let t=null,r,o=ln(e);function i(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();let c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=c;if(a||n(),!p||!f)return;let g=ai(d),m=ai(o.clientWidth-(u+p)),v=ai(o.clientHeight-(d+f)),b=ai(u),E={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:_t(0,Tn(1,l))||1},T=!0;function k(L){let _=L[0].intersectionRatio;if(_!==l){if(!T)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!wf(c,e.getBoundingClientRect())&&s(),T=!1}try{t=new IntersectionObserver(k,{...E,root:o.ownerDocument})}catch{t=new IntersectionObserver(k,E)}t.observe(e)}return s(!0),i}function Sf(e,n,t,r){r===void 0&&(r={});let{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ml(e),u=o||i?[...c?bo(c):[],...bo(n)]:[];u.forEach(b=>{o&&b.addEventListener("scroll",t,{passive:!0}),i&&b.addEventListener("resize",t)});let d=c&&a?U0(c,t):null,p=-1,f=null;s&&(f=new ResizeObserver(b=>{let[S]=b;S&&S.target===c&&f&&(f.unobserve(n),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(n)})),t()}),c&&!l&&f.observe(c),f.observe(n));let g,m=l?Ar(e):null;l&&v();function v(){let b=Ar(e);m&&!wf(m,b)&&t(),m=b,g=requestAnimationFrame(v)}return t(),()=>{var b;u.forEach(S=>{o&&S.removeEventListener("scroll",t),i&&S.removeEventListener("resize",t)}),d?.(),(b=f)==null||b.disconnect(),f=null,l&&cancelAnimationFrame(g)}}var Cf=of;var Tf=sf,Ef=nf,_f=lf,kf=rf,Pf=tf;var If=af,Af=(e,n,t)=>{let r=new Map,o={platform:F0,...t},i={...o.platform,_c:r};return ef(e,n,{...o,platform:i})};function Of(e=0,n=0,t=0,r=0){if(typeof DOMRect=="function")return new DOMRect(e,n,t,r);let o={x:e,y:n,width:t,height:r,top:n,right:e+t,bottom:n+r,left:e};return{...o,toJSON:()=>o}}function j0(e){if(!e)return Of();let{x:n,y:t,width:r,height:o}=e;return Of(n,t,r,o)}function V0(e,n){return{contextElement:et(e)?e:void 0,getBoundingClientRect:()=>{let t=e,r=n?.(t);return r||!t?j0(r):t.getBoundingClientRect()}}}var ui=e=>({variable:e,reference:`var(${e})`}),Un={arrowSize:ui("--arrow-size"),arrowSizeHalf:ui("--arrow-size-half"),arrowBg:ui("--arrow-background"),transformOrigin:ui("--transform-origin"),arrowOffset:ui("--arrow-offset")},H0=e=>({top:"bottom center","top-start":e?`${e.x}px bottom`:"left bottom","top-end":e?`${e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":e?`${e.x}px top`:"top left","bottom-end":e?`${e.x}px top`:"top right",left:"right center","left-start":e?`right ${e.y}px`:"right top","left-end":e?`right ${e.y}px`:"right bottom",right:"left center","right-start":e?`left ${e.y}px`:"left top","right-end":e?`left ${e.y}px`:"left bottom"}),z0={name:"transformOrigin",fn({placement:e,elements:n,middlewareData:t}){let{arrow:r}=t,o=H0(r)[e],{floating:i}=n;return i.style.setProperty(Un.transformOrigin.variable,o),{data:{transformOrigin:o}}}},W0={name:"rects",fn({rects:e}){return{data:e}}},G0=e=>{if(e)return{name:"shiftArrow",fn({placement:n,middlewareData:t}){if(!t.arrow)return{};let{x:r,y:o}=t.arrow,i=n.split("-")[0];return Object.assign(e.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:"",[i]:`calc(100% + ${Un.arrowOffset.reference})`}),{}}}};function q0(e){let[n,t]=e.split("-");return{side:n,align:t,hasAlign:t!=null}}function Mf(e){return e.split("-")[0]}var K0={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Rf(e,n){let t=e.devicePixelRatio||1;return Math.round(n*t)/t}function Nf(e){return Xe(e.boundary)}function Y0(e,n){if(e)return Pf({element:e,padding:n.arrowPadding})}function X0(e,n){if(!cp(n.offset??n.gutter))return Cf(({placement:t})=>{let r=(e?.clientHeight||0)/2,o=n.offset?.mainAxis??n.gutter,i=typeof o=="number"?o+r:o??r,{hasAlign:s}=q0(t),a=s?void 0:n.shift,l=n.offset?.crossAxis??a;return Me({crossAxis:l,mainAxis:i,alignmentAxis:n.shift})})}function Z0(e){if(e.flip)return Ef({boundary:Nf(e),padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function J0(e){if(!(!e.slide&&!e.overlap))return Tf({boundary:Nf(e),mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:If()})}function Q0(e){return _f({padding:e.overflowPadding,apply({elements:n,rects:t,availableHeight:r,availableWidth:o}){let i=n.floating,s=Math.round(t.reference.width);o=Math.floor(o),r=Math.floor(r),i.style.setProperty("--reference-width",`${s}px`),i.style.setProperty("--available-width",`${o}px`),i.style.setProperty("--available-height",`${r}px`)}})}function eS(e){if(e.hideWhenDetached)return kf({strategy:"referenceHidden",boundary:e.boundary?.()??"clippingAncestors"})}function tS(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function nS(e,n,t={}){let r=V0(e,t.getAnchorRect);if(!n||!r)return;let o=Object.assign({},K0,t),i=n.querySelector("[data-part=arrow]"),s=[X0(i,o),Z0(o),J0(o),Y0(i,o),G0(i),z0,Q0(o),eS(o),W0],{placement:a,strategy:l,onComplete:c,onPositioned:u}=o,d=async()=>{if(!r||!n)return;let m=await Af(r,n,{placement:a,middleware:s,strategy:l});c?.(m),u?.({placed:!0});let v=Cn(n),b=Rf(v,m.x),S=Rf(v,m.y);n.style.setProperty("--x",`${b}px`),n.style.setProperty("--y",`${S}px`),o.hideWhenDetached&&(m.middlewareData.hide?.referenceHidden?(n.style.setProperty("visibility","hidden"),n.style.setProperty("pointer-events","none")):(n.style.removeProperty("visibility"),n.style.removeProperty("pointer-events")));let E=n.firstElementChild;if(E){let T=bs(E);n.style.setProperty("--z-index",T.zIndex)}},p=async()=>{t.updatePosition?(await t.updatePosition({updatePosition:d}),u?.({placed:!0})):await d()},f=tS(o.listeners),g=o.listeners?Sf(r,n,p,f):Lt;return p(),()=>{g?.(),u?.({placed:!1})}}function Dl(e,n,t={}){let{defer:r,...o}=t,i=r?We:a=>a(),s=[];return s.push(i(()=>{let a=typeof e=="function"?e():e,l=typeof n=="function"?n():n;s.push(nS(a,l,o))})),()=>{s.forEach(a=>a?.())}}var rS={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Df(e={}){let{placement:n,sameWidth:t,fitViewport:r,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:Un.arrowSize.reference,height:Un.arrowSize.reference,[Un.arrowSizeHalf.variable]:`calc(${Un.arrowSize.reference} / 2)`,[Un.arrowOffset.variable]:`calc(${Un.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:n?rS[n.split("-")[0]]:void 0,background:Un.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:t?void 0:"max-content",width:t?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,top:"0px",left:"0px",transform:n?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function oS(e){let n={each(t){for(let r=0;r<e.frames?.length;r+=1){let o=e.frames[r];o&&t(o)}},addEventListener(t,r,o){return n.each(i=>{try{i.document.addEventListener(t,r,o)}catch{}}),()=>{try{n.removeEventListener(t,r,o)}catch{}}},removeEventListener(t,r,o){n.each(i=>{try{i.document.removeEventListener(t,r,o)}catch{}})}};return n}function iS(e){let n=e.frameElement!=null?e.parent:null;return{addEventListener:(t,r,o)=>{try{n?.addEventListener(t,r,o)}catch{}return()=>{try{n?.removeEventListener(t,r,o)}catch{}}},removeEventListener:(t,r,o)=>{try{n?.removeEventListener(t,r,o)}catch{}}}}var $f="pointerdown.outside",Lf="focus.outside";function sS(e){for(let n of e)if(et(n)&&Sn(n))return!0;return!1}var Uf=e=>"clientY"in e;function aS(e,n){if(!Uf(n)||!e)return!1;let t=e.getBoundingClientRect();return t.width===0||t.height===0?!1:t.top<=n.clientY&&n.clientY<=t.top+t.height&&t.left<=n.clientX&&n.clientX<=t.left+t.width}function lS(e,n){return e.y<=n.y&&n.y<=e.y+e.height&&e.x<=n.x&&n.x<=e.x+e.width}function Bf(e,n){if(!n||!Uf(e))return!1;let t=n.scrollHeight>n.clientHeight,r=t&&e.clientX>n.offsetLeft+n.clientWidth,o=n.scrollWidth>n.clientWidth,i=o&&e.clientY>n.offsetTop+n.clientHeight,s={x:n.offsetLeft,y:n.offsetTop,width:n.clientWidth+(t?16:0),height:n.clientHeight+(o?16:0)},a={x:e.clientX,y:e.clientY};return lS(s,a)?r||i:!1}function cS(e,n){let{exclude:t,onFocusOutside:r,onPointerDownOutside:o,onInteractOutside:i,defer:s}=n;if(!e)return;let a=Bt(e),l=Cn(e),c=oS(l),u=iS(l);function d(b){let S=Nt(b);if(!et(S)||!S.isConnected||rn(e,S)||aS(e,b))return!1;let E=a.querySelector(`[aria-controls="${e.id}"]`);if(E){let k=ws(E);if(Bf(b,k))return!1}let T=ws(e);return Bf(b,T)?!1:!t?.(S)}let p=new Set;function f(b){function S(){let E=s?We:k=>k(),T=b.composedPath?.()??[b.target];E(()=>{if(!(!e||!d(b))){if(o||i){let k=tn(o,i);e.addEventListener($f,k,{once:!0})}Ff(e,$f,{bubbles:!1,cancelable:!0,detail:{originalEvent:b,contextmenu:vs(b),focusable:sS(T)}})}})}b.pointerType==="touch"?(p.forEach(E=>E()),p.add(ft(a,"click",S,{once:!0})),p.add(u.addEventListener("click",S,{once:!0})),p.add(c.addEventListener("click",S,{once:!0}))):S()}let g=new Set,m=setTimeout(()=>{g.add(ft(a,"pointerdown",f,!0)),g.add(u.addEventListener("pointerdown",f,!0)),g.add(c.addEventListener("pointerdown",f,!0))},0);function v(b){(s?We:E=>E())(()=>{if(!(!e||!d(b))){if(r||i){let E=tn(r,i);e.addEventListener(Lf,E,{once:!0})}Ff(e,Lf,{bubbles:!1,cancelable:!0,detail:{originalEvent:b,contextmenu:!1,focusable:Sn(Nt(b))}})}})}return g.add(ft(a,"focusin",v,!0)),g.add(u.addEventListener("focusin",v,!0)),g.add(c.addEventListener("focusin",v,!0)),()=>{clearTimeout(m),p.forEach(b=>b()),g.forEach(b=>b())}}function jf(e,n){let{defer:t}=n,r=t?We:i=>i(),o=[];return o.push(r(()=>{let i=typeof e=="function"?e():e;o.push(cS(i,n))})),()=>{o.forEach(i=>i?.())}}function Ff(e,n,t){let r=e.ownerDocument.defaultView||window,o=new r.CustomEvent(n,t);return e.dispatchEvent(o)}function uS(e,n){let t=r=>{r.key==="Escape"&&(r.isComposing||n?.(r))};return ft(Bt(e),"keydown",t,{capture:!0})}var Ft={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){let n=this.indexOf(e),t=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return n<t},isTopMost(e){return this.layers[this.count()-1]?.node===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},isInNestedLayer(e,n){return this.getNestedLayers(e).some(t=>rn(t.node,n))},isInBranch(e){return Array.from(this.branches).some(n=>rn(n,e))},add(e){let n=this.layers.push(e);e.node.style.setProperty("--layer-index",`${n}`)},addBranch(e){this.branches.push(e)},remove(e){let n=this.indexOf(e);n<0||(n<this.count()-1&&this.getNestedLayers(e).forEach(r=>r.dismiss()),this.layers.splice(n,1),e.style.removeProperty("--layer-index"))},removeBranch(e){let n=this.branches.indexOf(e);n>=0&&this.branches.splice(n,1)},indexOf(e){return this.layers.findIndex(n=>n.node===e)},dismiss(e){this.layers[this.indexOf(e)]?.dismiss()},clear(){this.remove(this.layers[0].node)}},Vf;function Hf(){Ft.layers.forEach(({node:e})=>{e.style.pointerEvents=Ft.isBelowPointerBlockingLayer(e)?"none":"auto"})}function dS(e){e.style.pointerEvents=""}function pS(e,n){let t=Bt(e),r=[];if(Ft.hasPointerBlockingLayer()&&!t.body.hasAttribute("data-inert")&&(Vf=document.body.style.pointerEvents,queueMicrotask(()=>{t.body.style.pointerEvents="none",t.body.setAttribute("data-inert","")})),n){let o=Bp(n,i=>{r.push(Lp(i,{pointerEvents:"auto"}))});r.push(o)}return()=>{Ft.hasPointerBlockingLayer()||(queueMicrotask(()=>{t.body.style.pointerEvents=Vf,t.body.removeAttribute("data-inert"),t.body.style.length===0&&t.body.removeAttribute("style")}),r.forEach(o=>o()))}}function fS(e,n){if(!e){Ue("[@zag-js/dismissable] node is `null` or `undefined`");return}let{onDismiss:t,pointerBlocking:r,exclude:o,debug:i}=n,s={dismiss:t,node:e,pointerBlocking:r};Ft.add(s),Hf();function a(p){let f=Nt(p.detail.originalEvent);Ft.isBelowPointerBlockingLayer(e)||Ft.isInBranch(f)||(n.onPointerDownOutside?.(p),n.onInteractOutside?.(p),!p.defaultPrevented&&(i&&console.log("onPointerDownOutside:",p.detail.originalEvent),t?.()))}function l(p){let f=Nt(p.detail.originalEvent);Ft.isInBranch(f)||(n.onFocusOutside?.(p),n.onInteractOutside?.(p),!p.defaultPrevented&&(i&&console.log("onFocusOutside:",p.detail.originalEvent),t?.()))}function c(p){Ft.isTopMost(e)&&(n.onEscapeKeyDown?.(p),!p.defaultPrevented&&t&&(p.preventDefault(),t()))}function u(p){if(!e)return!1;let f=typeof o=="function"?o():o,g=Array.isArray(f)?f:[f],m=n.persistentElements?.map(v=>v()).filter(et);return m&&g.push(...m),g.some(v=>rn(v,p))||Ft.isInNestedLayer(e,p)}let d=[r?pS(e,n.persistentElements):void 0,uS(e,c),jf(e,{exclude:u,onFocusOutside:l,onPointerDownOutside:a,defer:n.defer})];return()=>{Ft.remove(e),Hf(),dS(e),d.forEach(p=>p?.())}}function Ms(e,n){let{defer:t}=n,r=t?We:i=>i(),o=[];return o.push(r(()=>{let i=Be(e)?e():e;o.push(fS(i,n))})),()=>{o.forEach(i=>i?.())}}function zf(e,n={}){let{defer:t}=n,r=t?We:i=>i(),o=[];return o.push(r(()=>{let i=Be(e)?e():e;if(!i){Ue("[@zag-js/dismissable] branch node is `null` or `undefined`");return}Ft.addBranch(i),o.push(()=>{Ft.removeBranch(i)})})),()=>{o.forEach(i=>i?.())}}var hS=Object.defineProperty,mS=(e,n,t)=>n in e?hS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ke=(e,n,t)=>mS(e,typeof n!="symbol"?n+"":n,t),Wf={activateTrap(e,n){if(e.length>0){let r=e[e.length-1];r!==n&&r.pause()}let t=e.indexOf(n);t===-1||e.splice(t,1),e.push(n)},deactivateTrap(e,n){let t=e.indexOf(n);t!==-1&&e.splice(t,1),e.length>0&&e[e.length-1].unpause()}},gS=[],yS=class{constructor(e,n){Ke(this,"trapStack"),Ke(this,"config"),Ke(this,"doc"),Ke(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Ke(this,"listenerCleanups",[]),Ke(this,"handleFocus",r=>{let o=Nt(r),i=this.findContainerIndex(o,r)>=0;if(i||gs(o))i&&(this.state.mostRecentlyFocusedNode=o);else{r.stopImmediatePropagation();let s,a=!0;if(this.state.mostRecentlyFocusedNode)if(po(this.state.mostRecentlyFocusedNode)>0){let l=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[l];if(c.length>0){let u=c.findIndex(d=>d===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<c.length&&(s=c[u+1],a=!1):u-1>=0&&(s=c[u-1],a=!1))}}else this.state.containerGroups.some(l=>l.tabbableNodes.some(c=>po(c)>0))||(a=!1);else a=!1;a&&(s=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),s?this.tryFocus(s):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Ke(this,"handlePointerDown",r=>{let o=Nt(r);if(!(this.findContainerIndex(o,r)>=0)){if(pi(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}pi(this.config.allowOutsideClick,r)||r.preventDefault()}}),Ke(this,"handleClick",r=>{let o=Nt(r);this.findContainerIndex(o,r)>=0||pi(this.config.clickOutsideDeactivates,r)||pi(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Ke(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;let o=this.config.isKeyBackward(r),i=this.findNextNavNode({event:r,isBackward:o});if(!i)return;di(r)&&r.preventDefault(),this.tryFocus(i)}}),Ke(this,"handleEscapeKey",r=>{bS(r)&&pi(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Ke(this,"_mutationObserver"),Ke(this,"setupMutationObserver",()=>{let r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(o=>{o.some(s=>Array.from(s.removedNodes).some(l=>l===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Ke(this,"updateObservedNodes",()=>{this._mutationObserver?.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(r=>{this._mutationObserver?.observe(r,{subtree:!0,childList:!0})})}),Ke(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!Sn(r))if(this.findContainerIndex(this.doc.activeElement)>=0)r=this.doc.activeElement;else{let o=this.state.tabbableGroups[0];r=o&&o.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Ke(this,"tryFocus",r=>{if(r!==!1&&r!==vl(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,vS(r)&&r.select()}}),Ke(this,"deactivate",r=>{if(!this.state.active)return this;let o={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),Wf.deactivateTrap(this.trapStack,this);let i=this.getOption(o,"onDeactivate"),s=this.getOption(o,"onPostDeactivate"),a=this.getOption(o,"checkCanReturnFocus"),l=this.getOption(o,"returnFocus","returnFocusOnDeactivate");i?.();let c=()=>{Gf(()=>{if(l){let u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}s?.()})};if(l&&a){let u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return a(u).then(c,c),this}return c(),this}),Ke(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;let o=this.getOption(r,"onPause"),i=this.getOption(r,"onPostPause");return this.state.paused=!0,o?.(),this.removeListeners(),this.updateObservedNodes(),i?.(),this}),Ke(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;let o=this.getOption(r,"onUnpause"),i=this.getOption(r,"onPostUnpause");return this.state.paused=!1,o?.(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),i?.(),this}),Ke(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Ke(this,"getReturnFocusNode",r=>{let o=this.getNodeForOption("setReturnFocus",{params:[r]});return o||(o===!1?!1:r)}),Ke(this,"getOption",(r,o,i)=>r&&r[o]!==void 0?r[o]:this.config[i||o]),Ke(this,"getNodeForOption",(r,{hasFallback:o=!1,params:i=[]}={})=>{let s=this.config[r];if(typeof s=="function"&&(s=s(...i)),s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let a=s;if(typeof s=="string"){try{a=this.doc.querySelector(s)}catch(l){throw new Error(`\`${r}\` appears to be an invalid selector; error="${l.message}"`)}if(!a&&!o)throw new Error(`\`${r}\` as selector refers to no known node`)}return a}),Ke(this,"findNextNavNode",r=>{let{event:o,isBackward:i=!1}=r,s=r.target||Nt(o);this.updateTabbableNodes();let a=null;if(this.state.tabbableGroups.length>0){let l=this.findContainerIndex(s,o),c=l>=0?this.state.containerGroups[l]:void 0;if(l<0)i?a=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:a=this.state.tabbableGroups[0].firstTabbableNode;else if(i){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:d})=>s===d);if(u<0&&(c?.container===s||Sn(s)&&!Ln(s)&&!c?.nextTabbableNode(s,!1))&&(u=l),u>=0){let d=u===0?this.state.tabbableGroups.length-1:u-1,p=this.state.tabbableGroups[d];a=po(s)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else di(o)||(a=c?.nextTabbableNode(s,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:d})=>s===d);if(u<0&&(c?.container===s||Sn(s)&&!Ln(s)&&!c?.nextTabbableNode(s))&&(u=l),u>=0){let d=u===this.state.tabbableGroups.length-1?0:u+1,p=this.state.tabbableGroups[d];a=po(s)>=0?p.firstTabbableNode:p.firstDomTabbableNode}else di(o)||(a=c?.nextTabbableNode(s))}}else a=this.getNodeForOption("fallbackFocus");return a}),this.trapStack=n.trapStack||gS;let t={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return di(r)&&!r.shiftKey},isKeyBackward(r){return di(r)&&r.shiftKey},...n};this.doc=t.document||Bt(Array.isArray(e)?e[0]:e),this.config=t,this.updateContainerElements(e),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,n){let t=typeof n?.composedPath=="function"?n.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:o})=>r.contains(e)||t?.includes(r)||o.find(i=>i===e))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{let n=ni(e),t=El(e),r=n.length>0?n[0]:void 0,o=n.length>0?n[n.length-1]:void 0,i=t.find(c=>Ln(c)),s=t.slice().reverse().find(c=>Ln(c)),a=!!n.find(c=>po(c)>0);function l(c,u=!0){let d=n.indexOf(c);return d<0?u?t.slice(t.indexOf(c)+1).find(p=>Ln(p)):t.slice(0,t.indexOf(c)).reverse().find(p=>Ln(p)):n[d+(u?1:-1)]}return{container:e,tabbableNodes:n,focusableNodes:t,posTabIndexesFound:a,firstTabbableNode:r,lastTabbableNode:o,firstDomTabbableNode:i,lastDomTabbableNode:s,nextTabbableNode:l}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return Wf.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?Gf(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(ft(this.doc,"focusin",this.handleFocus,!0),ft(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),ft(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),ft(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),ft(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),ft(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;let n=this.getOption(e,"onActivate"),t=this.getOption(e,"onPostActivate"),r=this.getOption(e,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,n?.();let o=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),t?.()};return r?(r(this.state.containers.concat()).then(o,o),this):(o(),this)}},di=e=>e.key==="Tab",pi=(e,...n)=>typeof e=="function"?e(...n):e,bS=e=>!e.isComposing&&e.key==="Escape",Gf=e=>setTimeout(e,0),vS=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function qf(e,n={}){let t,r=We(()=>{let o=typeof e=="function"?e():e;if(o){t=new yS(o,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:o,...n,document:Bt(o)});try{t.activate()}catch{}}});return function(){t?.deactivate(),r()}}var xS=Object.defineProperty,wS=(e,n,t)=>n in e?xS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Y=(e,n,t)=>wS(e,typeof n!="symbol"?n+"":n,t);function Kf(e,...n){if(!Fe(e))throw new TypeError("Source argument must be a plain object");for(let t of n){if(!Fe(t))continue;let r=Me(t);for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o)||o==="__proto__"||o==="constructor"||o==="prototype")continue;let i=e[o],s=t[o];Fe(s)?e[o]=Fe(i)?Kf(i,s):{...s}:e[o]=s}}return e}function un(e){return Q(e)?{type:e}:e}function ir(e){return e?Ze(e)?e.slice():[e]:[]}function Yf(e){return Le(e)&&e.predicate!=null}var SS=()=>!0;function Ll(e,n,t,r){return o=>Q(o)?!!e[o]?.(n,t,r):Be(o)?o(n,t,r):o.predicate(e)(n,t,r)}function CS(...e){return{predicate:n=>(t,r,o)=>e.map(Ll(n,t,r,o)).some(Boolean)}}function TS(...e){return{predicate:n=>(t,r,o)=>e.map(Ll(n,t,r,o)).every(Boolean)}}function ES(e){return{predicate:n=>(t,r,o)=>!Ll(n,t,r,o)(e)}}function _S(...e){return(n,t,r)=>r.state.matches(...e)}var Xf={or:CS,and:TS,not:ES,stateIn:_S};function Zf(e,n){return e=e??SS,(t,r,o)=>{if(Q(e)){let i=n[e];return Be(i)?i(t,r,o):i}return Yf(e)?e.predicate(n)(t,r,o):e?.(t,r,o)}}function $l(e,n){return(t,r,o)=>Yf(e)?e.predicate(n)(t,r,o):e}function kS(e){let n=e.computed??ae({}),t=e.context??ae({}),r=e.initial?e.states?.[e.initial]?.tags:[],o=Et({value:e.initial??"",previousValue:"",event:ae({}),previousEvent:ae({}),context:vn(t,n),done:!1,tags:r??[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return ae(this).nextEvents.includes(i)},get nextEvents(){let i=e.states?.[this.value]?.on??{},s=e?.on??{};return Object.keys({...i,...s})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ae(o)}function fi(e,n){return(t,r)=>{if(Rt(e))return e;if(Be(e))return e(t,r);if(Q(e)){let o=Number.parseFloat(e);if(!Number.isNaN(o))return o;if(n){let i=n?.[e];return je(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Be(i)?i(t,r):i}}}}function PS(e){return Q(e)?{target:e}:e}function IS(e,n){return(t,r,o)=>ir(e).map(PS).find(i=>Zf(i.guard,n)(t,r,o)??i.target??i.actions)}var Jf=class{constructor(e,n){Y(this,"status","Not Started"),Y(this,"state"),Y(this,"initialState"),Y(this,"initialContext"),Y(this,"id"),Y(this,"type","machine"),Y(this,"activityEvents",new Map),Y(this,"delayedEvents",new Map),Y(this,"stateListeners",new Set),Y(this,"doneListeners",new Set),Y(this,"contextWatchers",new Set),Y(this,"removeStateListener",Lt),Y(this,"parent"),Y(this,"children",new Map),Y(this,"guardMap"),Y(this,"actionMap"),Y(this,"delayMap"),Y(this,"activityMap"),Y(this,"sync"),Y(this,"options"),Y(this,"config"),Y(this,"_created",()=>{if(!this.config.created)return;let t=un("machine.created");this.executeActions(this.config.created,t)}),Y(this,"start",t=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=rt(this.state,()=>{this.stateListeners.forEach(l=>{l(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(un("machine.start"),ir(this.config.activities),"machine.start"),this.executeActions(this.config.entry,un("machine.start"));let r=un("machine.init"),o=Le(t)?t.value:t,i=Le(t)?t.context:void 0;i&&this.setContext(i);let s={target:o??this.config.initial},a=this.getNextStateInfo(s,r);return this.initialState=a,this.performStateChangeEffects(this.state.value,a,r),this}),Y(this,"setupContextWatchers",()=>{let{watch:t}=this.config;if(!t)return;let r=Pe(this.state.context),o=rt(this.state.context,()=>{let i=Pe(this.state.context);for(let[s,a]of Object.entries(t))(this.options.compareFns?.[s]??Object.is)(r[s],i[s])||this.executeActions(a,this.state.event);r=i});this.contextWatchers.add(o)}),Y(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,un("machine.stop")),this.executeActions(this.config.exit,un("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Y(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Y(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(t=>t()),this.contextWatchers.clear()}),Y(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(t=>{t.forEach(r=>r())}),this.delayedEvents.clear()}),Y(this,"stopActivities",t=>{t?(this.activityEvents.get(t)?.forEach(r=>r()),this.activityEvents.get(t)?.clear(),this.activityEvents.delete(t)):(this.activityEvents.forEach(r=>{r.forEach(o=>o()),r.clear()}),this.activityEvents.clear())}),Y(this,"sendChild",(t,r)=>{let o=un(t),i=Xe(r,this.contextSnapshot),s=this.children.get(i);s||je(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),s.send(o)}),Y(this,"stopChild",t=>{this.children.has(t)||je(`[@zag-js/core > stop-child] Cannot stop unknown child ${t}`),this.children.get(t).stop(),this.children.delete(t)}),Y(this,"removeChild",t=>{this.children.delete(t)}),Y(this,"stopChildren",()=>{this.children.forEach(t=>t.stop()),this.children.clear()}),Y(this,"setParent",t=>{this.parent=t}),Y(this,"spawn",(t,r)=>{let o=Xe(t);return r&&(o.id=r),o.type="machine.actor",o.setParent(this),this.children.set(o.id,ae(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),ae(De(o))}),Y(this,"stopActivity",t=>{if(!this.state.value)return;let r=this.activityEvents.get(this.state.value);r?.get(t)?.(),r?.delete(t)}),Y(this,"addActivityCleanup",(t,r,o)=>{t&&(this.activityEvents.has(t)?this.activityEvents.get(t)?.set(r,o):this.activityEvents.set(t,new Map([[r,o]])))}),Y(this,"setState",t=>{this.state.previousValue=this.state.value,this.state.value=t;let r=this.getStateNode(t);t==null?en(this.state.tags):this.state.tags=ir(r?.tags)}),Y(this,"setContext",t=>{t&&Kf(this.state.context,t)}),Y(this,"setOptions",t=>{let r=Me(t);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),Y(this,"getStateNode",t=>{if(t)return this.config.states?.[t]}),Y(this,"getNextStateInfo",(t,r)=>{let o=this.determineTransition(t,r),i=!o?.target,s=o?.target??this.state.value,a=this.state.value!==s,l=this.getStateNode(s),u={reenter:!i&&!a&&!o?.internal,transition:o,stateNode:l,target:s,changed:a};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",u.target),u}),Y(this,"getAfterActions",(t,r)=>{let o,i=this.state.value;return{entry:()=>{o=globalThis.setTimeout(()=>{let s=this.getNextStateInfo(t,this.state.event);this.performStateChangeEffects(i,s,this.state.event)},r)},exit:()=>{globalThis.clearTimeout(o)}}}),Y(this,"getDelayedEventActions",t=>{let r=this.getStateNode(t),o=this.state.event;if(!r||!r.after)return;let i=[],s=[];if(Ze(r.after)){let a=this.determineTransition(r.after,o);if(!a)return;if(!Wt(a,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(a)}`);let c=fi(a.delay,this.delayMap)(this.contextSnapshot,o),u=this.getAfterActions(a,c);return i.push(u.entry),s.push(u.exit),{entries:i,exits:s}}if(Le(r.after))for(let a in r.after){let l=r.after[a],u=fi(a,this.delayMap)(this.contextSnapshot,o),d=this.getAfterActions(l,u);i.push(d.entry),s.push(d.exit)}return{entries:i,exits:s}}),Y(this,"executeActions",(t,r)=>{let o=$l(t,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(let i of ir(o)){let s=Q(i)?this.actionMap?.[i]:i;Ue(Q(i)&&!s,`[@zag-js/core > execute-actions] No implementation found for action: \`${i}\``),s?.(this.state.context,r,this.meta)}}),Y(this,"executeActivities",(t,r,o)=>{for(let i of r){let s=Q(i)?this.activityMap?.[i]:i;if(!s){Ue(`[@zag-js/core > execute-activity] No implementation found for activity: \`${i}\``);continue}let a=s(this.state.context,t,this.meta);if(a){let l=Q(i)?i:i.name||pt();this.addActivityCleanup(o??this.state.value,l,a)}}}),Y(this,"createEveryActivities",(t,r)=>{if(t)if(Ze(t)){let o=ir(t).find(l=>{let c=l.delay,d=fi(c,this.delayMap)(this.contextSnapshot,this.state.event);return Zf(l.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??d!=null});if(!o)return;let s=fi(o.delay,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let l=globalThis.setInterval(()=>{this.executeActions(o.actions,this.state.event)},s);return()=>{globalThis.clearInterval(l)}})}else for(let o in t){let i=t?.[o],a=fi(o,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let c=globalThis.setInterval(()=>{this.executeActions(i,this.state.event)},a);return()=>{globalThis.clearInterval(c)}})}}),Y(this,"setEvent",t=>{this.state.previousEvent=this.state.event,this.state.event=De(un(t))}),Y(this,"performExitEffects",(t,r)=>{let o=this.state.value;if(o==="")return;let i=t?this.getStateNode(t):void 0;this.stopActivities(o);let s=$l(i?.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=ir(s),l=this.delayedEvents.get(o);l&&a.push(...l),this.executeActions(a,r),this.delayedEvents.delete(o)}),Y(this,"performEntryEffects",(t,r)=>{let o=this.getStateNode(t),i=ir(o?.activities);this.createEveryActivities(o?.every,c=>{i.unshift(c)}),i.length>0&&this.executeActivities(r,i);let s=$l(o?.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=ir(s),l=this.getDelayedEventActions(t);o?.after&&l&&(this.delayedEvents.set(t,l?.exits),a.push(...l.entries)),this.executeActions(a,r),o?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(c=>{c(this.stateSnapshot)}),this.stop())}),Y(this,"performTransitionEffects",(t,r)=>{let o=this.determineTransition(t,r);this.executeActions(o?.actions,r)}),Y(this,"performStateChangeEffects",(t,r,o)=>{this.setEvent(o);let i=r.changed||r.reenter;i&&this.performExitEffects(t,o),this.performTransitionEffects(r.transition,o),this.setState(r.target),i&&this.performEntryEffects(r.target,o)}),Y(this,"determineTransition",(t,r)=>IS(t,this.guardMap)?.(this.contextSnapshot,r,this.guardMeta)),Y(this,"sendParent",t=>{this.parent||je("[@zag-js/core > send-parent] Cannot send event to an unknown parent");let r=un(t);this.parent?.send(r)}),Y(this,"log",(...t)=>{nn()&&this.options.debug&&console.log(...t)}),Y(this,"send",t=>{let r=un(t);this.transition(this.state.value,r)}),Y(this,"transition",(t,r)=>{let o=Q(t)?this.getStateNode(t):t?.stateNode,i=un(r);if(!o&&!this.config.on){let l=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${t}, \`event\`: ${i.type}`;Ue(l);return}let s=o?.on?.[i.type]??this.config.on?.[i.type],a=this.getNextStateInfo(s,i);return this.performStateChangeEffects(this.state.value,a,i),a.stateNode}),Y(this,"subscribe",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),()=>{this.stateListeners.delete(t)})),Y(this,"onDone",t=>(this.doneListeners.add(t),this)),Y(this,"onTransition",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),this)),this.config=nt(e),this.options=nt(n??{}),this.id=this.config.id??`machine-${pt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=kS(this.config),this.initialContext=Pe(this.state.context)}get stateSnapshot(){return ae(Pe(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){let e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){return e.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){let e=this.getState();return{value:e.value,tags:e.tags}}},Bl=(e,n)=>new Jf(e,n),Qf=e=>e instanceof Jf||e?.type==="machine";var nh=on("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),wo=nh.build(),wt=tr({getRegionId:e=>`toast-group:${e}`,getRegionEl:(e,n)=>wt.getById(e,`toast-group:${n}`),getRootId:e=>`toast:${e.id}`,getRootEl:e=>wt.getById(e,wt.getRootId(e)),getTitleId:e=>`toast:${e.id}:title`,getDescriptionId:e=>`toast:${e.id}:description`,getCloseTriggerId:e=>`toast${e.id}:close`});function Fl(e,n){return e.filter(t=>t.state.context.placement===n)}var eh={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function th(e,n){return e??eh[n]??eh.DEFAULT}function AS(e,n){let t=e.offsets,r=typeof t=="string"?{left:t,right:t,bottom:t,top:t}:t,o=e.dir==="rtl",i=n.replace("-start",o?"-right":"-left").replace("-end",o?"-left":"-right"),s=i.includes("right"),a=i.includes("left"),l={position:"fixed",pointerEvents:e.count>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${e.gap}px`,"--first-height":`${e.heights[0]?.height||0}px`,zIndex:xp},c="center";if(s&&(c="flex-end"),a&&(c="flex-start"),l.alignItems=c,i.includes("top")){let u=r.top;l.top=`max(env(safe-area-inset-top, 0px), ${u})`}if(i.includes("bottom")){let u=r.bottom;l.bottom=`max(env(safe-area-inset-bottom, 0px), ${u})`}if(!i.includes("left")){let u=r.right;l.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${u})`}if(!i.includes("right")){let u=r.left;l.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${u})`}return l}function OS(e,n){let[t]=e.placement.split("-"),r=!e.frontmost,o=!e.stacked,i={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${e.removeDelay}ms`,"--duration":`${e.type==="loading"?Number.MAX_SAFE_INTEGER:e.duration}ms`,"--initial-height":`${e.height}px`,"--offset":`${e.offset}px`,"--index":e.index,"--z-index":e.zIndex,"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},s=a=>Object.assign(i,a);return t==="top"?s({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):t==="bottom"&&s({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),e.mounted&&(s({"--y":"0","--opacity":"1"}),e.stacked&&s({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),n||s({"--opacity":"0",pointerEvents:"none"}),r&&o&&(s({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),n||s({"--y":"calc(var(--sign) * 40%)"})),r&&e.stacked&&!n&&s({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),e.frontmost&&!n&&s({"--y":"calc(var(--lift) * -100%)"}),i}function RS(e,n){let t={position:"absolute",inset:"0",scale:"1 2",pointerEvents:n?"none":"auto"},r=o=>Object.assign(t,o);return e.frontmost&&!n&&r({height:"calc(var(--initial-height) + 80%)"}),t}function MS(e,n){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function NS(e,n,t){function r(){return Qf(e)?e.getState():e}function o(u){return Fl(r().context.toasts,u)}function i(u){let d=r().context.toasts;return d.length?!!d.find(p=>p.id==u):!1}function s(u){let d=`toast:${pt()}`,p=u.id?u.id:d;return i(p)||n({type:"ADD_TOAST",toast:{...u,id:p}}),p}function a(u,d){return i(u)&&n({type:"UPDATE_TOAST",id:u,toast:d}),u}function l(u){let{id:d}=u;return(d?i(d):!1)&&d!=null?a(d,u):s(u)}function c(u){u==null?n("DISMISS_ALL"):i(u)&&n({type:"DISMISS_TOAST",id:u})}return{getCount(){return r().context.count},getPlacements(){let d=r().context.toasts.map(p=>p.state.context.placement);return Array.from(new Set(d))},getToastsByPlacement:o,isVisible:i,create:s,update:a,upsert:l,dismiss:c,remove(u){u==null?n("REMOVE_ALL"):i(u)&&n({type:"REMOVE_TOAST",id:u})},dismissByPlacement(u){o(u).forEach(p=>c(p.id))},loading(u){return l({...u,type:"loading"})},success(u){return l({...u,type:"success"})},error(u){return l({...u,type:"error"})},promise(u,d,p={}){let f=l({...p,...d.loading,type:"loading"});return Xe(u).then(g=>{let m=Xe(d.success,g);l({...p,...m,id:f,type:"success"})}).catch(g=>{let m=Xe(d.error,g);l({...p,...m,id:f,type:"error"})}).finally(()=>{d.finally?.()}),f},pause(u){u==null?n("PAUSE_ALL"):i(u)&&n({type:"PAUSE_TOAST",id:u})},resume(u){u==null?n("RESUME_ALL"):i(u)&&n({type:"RESUME_TOAST",id:u})},getGroupProps(u){let{placement:d,label:p="Notifications"}=u,f=r(),g=f.context.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),[m,v="center"]=d.split("-");return t.element({...wo.group.attrs,dir:f.context.dir,tabIndex:-1,"aria-label":`${d} ${p} ${g}`,id:wt.getRegionId(d),"data-placement":d,"data-side":m,"data-align":v,"aria-live":"polite",role:"region",style:AS(f.context,d),onMouseMove(){n({type:"REGION.POINTER_ENTER",placement:d})},onMouseLeave(){n({type:"REGION.POINTER_LEAVE",placement:d})},onFocus(b){n({type:"REGION.FOCUS",target:b.relatedTarget})},onBlur(b){f.context.isFocusWithin&&!rn(b.currentTarget,b.relatedTarget)&&n({type:"REGION.BLUR"})}})},subscribe(u){let d=r();return rt(d.context.toasts,()=>{let f=o(d.context.placement).map(g=>g.getState().context);u(f)})}}}var{not:DS,and:$S,or:LS}=Xf;function BS(e){let{type:n="info",duration:t,id:r="1",placement:o="bottom",removeDelay:i=200,...s}=e,a=Me(s),l=th(t,n);return Bl({id:r,context:{id:r,type:n,remaining:l,duration:l,removeDelay:i,createdAt:Date.now(),placement:o,...a,height:0,offset:0,frontmost:!1,mounted:!1,index:-1,zIndex:0},initial:n==="loading"?"visible:persist":"visible",on:{UPDATE:[{guard:$S("hasTypeChanged","isChangingToLoading"),target:"visible:persist",actions:["setContext"]},{guard:LS("hasDurationChanged","hasTypeChanged"),target:"visible:updating",actions:["setContext"]},{actions:["setContext"]}],MEASURE:{actions:["measureHeight"]}},entry:["invokeOnVisible"],activities:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],after:{0:"visible"}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:DS("isLoadingType"),target:"visible",actions:["setCreatedAt"]},DISMISS:"dismissing"}},visible:{tags:["visible"],after:{VISIBLE_DURATION:"dismissing"},on:{DISMISS:"dismissing",PAUSE:{target:"visible:persist",actions:"setRemainingDuration"}}},dismissing:{entry:"invokeOnDismiss",after:{REMOVE_DELAY:{target:"unmounted",actions:"notifyParentToRemove"}}},unmounted:{entry:"invokeOnUnmount",type:"final"}}},{activities:{trackHeight(c,u,{self:d}){let p;return We(()=>{let f=wt.getRootEl(c);if(!f)return;c.mounted=!0;let g=Ss(f,"[data-ghost]");Ue(g.length!==2,"[toast] No ghost element found in toast. Render the `ghostBefore` and `ghostAfter` elements");let m=()=>{let S=f.style.height;f.style.height="auto";let E=f.getBoundingClientRect().height;f.style.height=S,c.height=E,d.sendParent({type:"UPDATE_HEIGHT",id:d.id,height:E,placement:c.placement})};m();let v=wt.getWin(c),b=new v.MutationObserver(m);b.observe(f,{childList:!0,subtree:!0,characterData:!0}),p=()=>b.disconnect()}),()=>p?.()}},guards:{isChangingToLoading:(c,u)=>u.toast?.type==="loading",isLoadingType:c=>c.type==="loading",hasTypeChanged:(c,u)=>u.toast?.type!=null&&u.toast.type!==c.type,hasDurationChanged:(c,u)=>u.toast?.duration!=null&&u.toast.duration!==c.duration},delays:{VISIBLE_DURATION:c=>c.remaining,REMOVE_DELAY:c=>c.removeDelay},actions:{measureHeight(c,u,{self:d}){We(()=>{let p=wt.getRootEl(c);if(!p)return;c.mounted=!0;let f=p.style.height;p.style.height="auto";let g=p.getBoundingClientRect().height;p.style.height=f,c.height=g,d.sendParent({type:"UPDATE_HEIGHT",id:d.id,height:g,placement:c.placement})})},setRemainingDuration(c){c.remaining-=Date.now()-c.createdAt},setCreatedAt(c){c.createdAt=Date.now()},notifyParentToRemove(c,u,{self:d}){d.sendParent({type:"REMOVE_TOAST",id:d.id})},invokeOnDismiss(c){c.onStatusChange?.({status:"dismissing"})},invokeOnUnmount(c){c.onStatusChange?.({status:"unmounted"})},invokeOnVisible(c){c.onStatusChange?.({status:"visible"})},setContext(c,u){let d=u.toast?.duration,p=u.toast?.type??c.type,f=th(d,p);Object.assign(c,{...u.toast,duration:f,remaining:f})}}})}function FS(e){let n=Me(e);return Bl({id:"toaster",initial:n.overlap?"overlap":"stack",context:{dir:"ltr",max:Number.MAX_SAFE_INTEGER,gap:16,pauseOnPageIdle:!1,hotkey:["altKey","KeyT"],offsets:"1rem",placement:"bottom",removeDelay:200,...n,toasts:[],lastFocusedEl:null,isFocusWithin:!1,heights:[]},computed:{count:t=>t.toasts.length},activities:["trackDocumentVisibility","trackHotKeyPress"],watch:{toasts:["collapsedIfEmpty","setDismissableBranch"]},exit:["removeToasts","clearDismissableBranch","clearLastFocusedEl"],on:{PAUSE_TOAST:{actions:["pauseToast"]},PAUSE_ALL:{actions:["pauseToasts"]},RESUME_TOAST:{actions:["resumeToast"]},RESUME_ALL:{actions:["resumeToasts"]},ADD_TOAST:{guard:"isWithinRange",actions:["createToast","syncToastIndex"]},UPDATE_TOAST:{actions:["updateToast"]},DISMISS_TOAST:{actions:["dismissToast"]},DISMISS_ALL:{actions:["dismissToasts"]},REMOVE_TOAST:{actions:["removeToast","syncToastIndex","syncToastOffset"]},REMOVE_ALL:{actions:["removeToasts"]},UPDATE_HEIGHT:{actions:["syncHeights","syncToastOffset"]},"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","restoreLastFocusedEl"]},{actions:["resumeToasts","restoreLastFocusedEl"]}]},states:{stack:{entry:["expandToasts"],on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap"},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{entry:["collapseToasts"],on:{"REGION.STACK":{target:"stack"},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts"]}}}}},{guards:{isWithinRange:t=>t.toasts.length<t.max,isOverlapping:t=>!!t.overlap},activities:{trackHotKeyPress(t,r,{send:o}){return ft(document,"keydown",s=>{t.hotkey.every(l=>s[l]||s.code===l)&&o({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility(t,r,{send:o}){if(!t.pauseOnPageIdle)return;let i=wt.getDoc(t);return ft(i,"visibilitychange",()=>{o(i.visibilityState==="hidden"?"PAUSE_ALL":"RESUME_ALL")})}},actions:{setDismissableBranch(t){let o=Fl(t.toasts,t.placement).length>0;if(!o){t._cleanup?.();return}if(o&&t._cleanup)return;let i=()=>wt.getRegionEl(t,t.placement);t._cleanup=zf(i,{defer:!0})},clearDismissableBranch(t){t._cleanup?.()},focusRegionEl(t){queueMicrotask(()=>{wt.getRegionEl(t,t.placement)?.focus()})},expandToasts(t){Ns(t,r=>{r.state.context.stacked=!0})},collapseToasts(t){Ns(t,r=>{r.state.context.stacked=!1})},collapsedIfEmpty(t,r,{send:o}){!t.overlap||t.toasts.length>1||o("REGION.OVERLAP")},pauseToast(t,r,{self:o}){o.sendChild("PAUSE",r.id)},pauseToasts(t){t.toasts.forEach(r=>r.send("PAUSE"))},resumeToast(t,r,{self:o}){o.sendChild("RESUME",r.id)},resumeToasts(t){t.toasts.forEach(r=>r.send("RESUME"))},measureToasts(t){t.toasts.forEach(r=>r.send("MEASURE"))},createToast(t,r,{self:o,getState:i}){let s={placement:t.placement,duration:t.duration,removeDelay:t.removeDelay,...r.toast,dir:t.dir,getRootNode:t.getRootNode,stacked:i().matches("stack")},a=BS(s),l=o.spawn(a);t.toasts=[l,...t.toasts]},updateToast(t,r,{self:o}){o.sendChild({type:"UPDATE",toast:r.toast},r.id)},dismissToast(t,r,{self:o}){o.sendChild("DISMISS",r.id)},dismissToasts(t){t.toasts.forEach(r=>r.send("DISMISS"))},removeToast(t,r,{self:o}){o.stopChild(r.id),t.toasts=t.toasts.filter(i=>i.id!==r.id),t.heights=t.heights.filter(i=>i.id!==r.id)},removeToasts(t,r,{self:o}){t.toasts.forEach(i=>o.stopChild(i.id)),t.toasts=[],t.heights=[]},syncHeights(t,r){let o=t.heights.find(i=>i.id===r.id);if(o)o.height=r.height,o.placement=r.placement;else{let i={id:r.id,height:r.height,placement:r.placement};t.heights=[i,...t.heights]}},syncToastIndex(t){Ns(t,(r,o,i)=>{r.state.context.index=o,r.state.context.frontmost=o===0,r.state.context.zIndex=i.length-o})},syncToastOffset(t,r){let o=r.placement??t.placement;Ns({...t,placement:o},i=>{let s=Math.max(t.heights.findIndex(l=>l.id===i.id),0),a=t.heights.reduce((l,c,u)=>u>=s?l:l+c.height,0);i.state.context.offset=s*t.gap+a})},setLastFocusedEl(t,r){t.isFocusWithin||!r.target||(t.isFocusWithin=!0,t.lastFocusedEl=De(r.target))},restoreLastFocusedEl(t){t.isFocusWithin=!1,t.lastFocusedEl&&(t.lastFocusedEl.focus({preventScroll:!0}),t.lastFocusedEl=null)},clearLastFocusedEl(t){t.lastFocusedEl&&(t.lastFocusedEl.focus({preventScroll:!0}),t.lastFocusedEl=null,t.isFocusWithin=!1)}}})}function Ns(e,n){Fl(e.toasts,e.placement).forEach(n)}function rh(e,n,t){let r=e.hasTag("visible"),o=e.hasTag("paused"),i=e.context.placement,s=e.context.type,[a,l="center"]=i.split("-");return{type:s,title:e.context.title,description:e.context.description,placement:i,visible:r,paused:o,pause(){n("PAUSE")},resume(){n("RESUME")},dismiss(){n("DISMISS")},getRootProps(){return t.element({...wo.root.attrs,dir:e.context.dir,id:wt.getRootId(e.context),"data-state":r?"open":"closed","data-type":s,"data-placement":i,"data-align":l,"data-side":a,"data-mounted":Mt(e.context.mounted),"data-paused":Mt(o),"data-first":Mt(e.context.frontmost),"data-sibling":Mt(!e.context.frontmost),"data-stack":Mt(e.context.stacked),"data-overlap":Mt(!e.context.stacked),role:"status","aria-atomic":"true","aria-describedby":e.context.description?wt.getDescriptionId(e.context):void 0,"aria-labelledby":e.context.title?wt.getTitleId(e.context):void 0,tabIndex:0,style:OS(e.context,r),onKeyDown(c){c.defaultPrevented||c.key=="Escape"&&(n("DISMISS"),c.preventDefault())}})},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:RS(e.context,r)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:MS()})},getTitleProps(){return t.element({...wo.title.attrs,id:wt.getTitleId(e.context)})},getDescriptionProps(){return t.element({...wo.description.attrs,id:wt.getDescriptionId(e.context)})},getActionTriggerProps(){return t.button({...wo.actionTrigger.attrs,type:"button",onClick(c){c.defaultPrevented||(e.context.action?.onClick?.(),n("DISMISS"))}})},getCloseTriggerProps(){return t.button({id:wt.getCloseTriggerId(e.context),...wo.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(c){c.defaultPrevented||n("DISMISS")}})}}}var Ds={connect:NS,machine:FS};var Ul=e=>{let n=Ds.machine({id:"1",...e});return{...Ds.connect(n,n.send,qt),machine:n}},[jS,Or]=Qe({hookName:"useToastContext",providerName:"<ToastProvider />"}),oh=e=>{let n=Or(),t=oe(()=>n().getActionTriggerProps(),e);return h(he.button,t)},ih=e=>{let n=Or(),t=oe(()=>n().getCloseTriggerProps(),e);return h(he.button,t)},sh=e=>e.children(Or()),ah=e=>{let n=Or(),t=oe(()=>n().getDescriptionProps(),e);return h(he.div,t)},VS=w("<div><div></div><div>"),lh=e=>{let n=Or(),t=oe(()=>n().getRootProps(),e);return(()=>{var r=VS(),o=r.firstChild,i=o.nextSibling;return Se(r,t,!1,!0),Se(o,we(()=>n().getGhostBeforeProps()),!1,!1),x(r,()=>e.children,i),Se(i,we(()=>n().getGhostAfterProps()),!1,!1),r})()},ch=e=>{let n=Or(),t=oe(()=>n().getTitleProps(),e);return h(he.div,t)},jl=e=>{let[n,t]=qe(e,["toaster","children"]),[r,o]=wn(n.toaster.machine),i=r.context.placement,s=R(()=>Ds.connect(r,o,qt)),a=R(()=>s().getToastsByPlacement(i)),l=oe(s().getGroupProps({placement:i}),t);return h(he.div,we(l,{get children(){return h(ye,{get each(){return a()},children:c=>h(HS,{value:c,children:u=>n.children(u)})})}}))},HS=e=>{let[n,t]=yp(e.value),r=R(()=>rh(n,t,qt)),o=R(()=>n.context);return h(jS,{value:r,get children(){return e.children(o)}})},Rr={};nr(Rr,{ActionTrigger:()=>oh,CloseTrigger:()=>ih,Context:()=>sh,Description:()=>ah,Root:()=>lh,Title:()=>ch});var zS=Object.defineProperty,WS=(e,n,t)=>n in e?zS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,X=(e,n,t)=>WS(e,typeof n!="symbol"?n+"":n,t);function dh(e,...n){if(!Fe(e))throw new TypeError("Source argument must be a plain object");for(let t of n){if(!Fe(t))continue;let r=Me(t);for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o)||o==="__proto__"||o==="constructor"||o==="prototype")continue;let i=e[o],s=t[o];Fe(s)?e[o]=Fe(i)?dh(i,s):{...s}:e[o]=s}}return e}function dn(e){return Q(e)?{type:e}:e}function sr(e){return e?Ze(e)?e.slice():[e]:[]}function ph(e){return Le(e)&&e.predicate!=null}var GS=()=>!0;function Hl(e,n,t,r){return o=>Q(o)?!!e[o]?.(n,t,r):Be(o)?o(n,t,r):o.predicate(e)(n,t,r)}function qS(...e){return{predicate:n=>(t,r,o)=>e.map(Hl(n,t,r,o)).some(Boolean)}}function KS(...e){return{predicate:n=>(t,r,o)=>e.map(Hl(n,t,r,o)).every(Boolean)}}function YS(e){return{predicate:n=>(t,r,o)=>!Hl(n,t,r,o)(e)}}function XS(...e){return(n,t,r)=>r.state.matches(...e)}var fh={or:qS,and:KS,not:YS,stateIn:XS};function hh(e,n){return e=e??GS,(t,r,o)=>{if(Q(e)){let i=n[e];return Be(i)?i(t,r,o):i}return ph(e)?e.predicate(n)(t,r,o):e?.(t,r,o)}}function Vl(e,n){return(t,r,o)=>ph(e)?e.predicate(n)(t,r,o):e}function ZS(e){let n=e.computed??ae({}),t=e.context??ae({}),r=e.initial?e.states?.[e.initial]?.tags:[],o=Et({value:e.initial??"",previousValue:"",event:ae({}),previousEvent:ae({}),context:vn(t,n),done:!1,tags:r??[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return ae(this).nextEvents.includes(i)},get nextEvents(){let i=e.states?.[this.value]?.on??{},s=e?.on??{};return Object.keys({...i,...s})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ae(o)}function hi(e,n){return(t,r)=>{if(Rt(e))return e;if(Be(e))return e(t,r);if(Q(e)){let o=Number.parseFloat(e);if(!Number.isNaN(o))return o;if(n){let i=n?.[e];return je(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Be(i)?i(t,r):i}}}}function JS(e){return Q(e)?{target:e}:e}function QS(e,n){return(t,r,o)=>sr(e).map(JS).find(i=>hh(i.guard,n)(t,r,o)??i.target??i.actions)}var eC=class{constructor(e,n){X(this,"status","Not Started"),X(this,"state"),X(this,"initialState"),X(this,"initialContext"),X(this,"id"),X(this,"type","machine"),X(this,"activityEvents",new Map),X(this,"delayedEvents",new Map),X(this,"stateListeners",new Set),X(this,"doneListeners",new Set),X(this,"contextWatchers",new Set),X(this,"removeStateListener",Lt),X(this,"parent"),X(this,"children",new Map),X(this,"guardMap"),X(this,"actionMap"),X(this,"delayMap"),X(this,"activityMap"),X(this,"sync"),X(this,"options"),X(this,"config"),X(this,"_created",()=>{if(!this.config.created)return;let t=dn("machine.created");this.executeActions(this.config.created,t)}),X(this,"start",t=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=rt(this.state,()=>{this.stateListeners.forEach(l=>{l(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(dn("machine.start"),sr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,dn("machine.start"));let r=dn("machine.init"),o=Le(t)?t.value:t,i=Le(t)?t.context:void 0;i&&this.setContext(i);let s={target:o??this.config.initial},a=this.getNextStateInfo(s,r);return this.initialState=a,this.performStateChangeEffects(this.state.value,a,r),this}),X(this,"setupContextWatchers",()=>{let{watch:t}=this.config;if(!t)return;let r=Pe(this.state.context),o=rt(this.state.context,()=>{let i=Pe(this.state.context);for(let[s,a]of Object.entries(t))(this.options.compareFns?.[s]??Object.is)(r[s],i[s])||this.executeActions(a,this.state.event);r=i});this.contextWatchers.add(o)}),X(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,dn("machine.stop")),this.executeActions(this.config.exit,dn("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),X(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),X(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(t=>t()),this.contextWatchers.clear()}),X(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(t=>{t.forEach(r=>r())}),this.delayedEvents.clear()}),X(this,"stopActivities",t=>{t?(this.activityEvents.get(t)?.forEach(r=>r()),this.activityEvents.get(t)?.clear(),this.activityEvents.delete(t)):(this.activityEvents.forEach(r=>{r.forEach(o=>o()),r.clear()}),this.activityEvents.clear())}),X(this,"sendChild",(t,r)=>{let o=dn(t),i=Xe(r,this.contextSnapshot),s=this.children.get(i);s||je(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),s.send(o)}),X(this,"stopChild",t=>{this.children.has(t)||je(`[@zag-js/core > stop-child] Cannot stop unknown child ${t}`),this.children.get(t).stop(),this.children.delete(t)}),X(this,"removeChild",t=>{this.children.delete(t)}),X(this,"stopChildren",()=>{this.children.forEach(t=>t.stop()),this.children.clear()}),X(this,"setParent",t=>{this.parent=t}),X(this,"spawn",(t,r)=>{let o=Xe(t);return r&&(o.id=r),o.type="machine.actor",o.setParent(this),this.children.set(o.id,ae(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),ae(De(o))}),X(this,"stopActivity",t=>{if(!this.state.value)return;let r=this.activityEvents.get(this.state.value);r?.get(t)?.(),r?.delete(t)}),X(this,"addActivityCleanup",(t,r,o)=>{t&&(this.activityEvents.has(t)?this.activityEvents.get(t)?.set(r,o):this.activityEvents.set(t,new Map([[r,o]])))}),X(this,"setState",t=>{this.state.previousValue=this.state.value,this.state.value=t;let r=this.getStateNode(t);t==null?en(this.state.tags):this.state.tags=sr(r?.tags)}),X(this,"setContext",t=>{t&&dh(this.state.context,t)}),X(this,"setOptions",t=>{let r=Me(t);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),X(this,"getStateNode",t=>{if(t)return this.config.states?.[t]}),X(this,"getNextStateInfo",(t,r)=>{let o=this.determineTransition(t,r),i=!o?.target,s=o?.target??this.state.value,a=this.state.value!==s,l=this.getStateNode(s),u={reenter:!i&&!a&&!o?.internal,transition:o,stateNode:l,target:s,changed:a};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",u.target),u}),X(this,"getAfterActions",(t,r)=>{let o,i=this.state.value;return{entry:()=>{o=globalThis.setTimeout(()=>{let s=this.getNextStateInfo(t,this.state.event);this.performStateChangeEffects(i,s,this.state.event)},r)},exit:()=>{globalThis.clearTimeout(o)}}}),X(this,"getDelayedEventActions",t=>{let r=this.getStateNode(t),o=this.state.event;if(!r||!r.after)return;let i=[],s=[];if(Ze(r.after)){let a=this.determineTransition(r.after,o);if(!a)return;if(!Wt(a,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(a)}`);let c=hi(a.delay,this.delayMap)(this.contextSnapshot,o),u=this.getAfterActions(a,c);return i.push(u.entry),s.push(u.exit),{entries:i,exits:s}}if(Le(r.after))for(let a in r.after){let l=r.after[a],u=hi(a,this.delayMap)(this.contextSnapshot,o),d=this.getAfterActions(l,u);i.push(d.entry),s.push(d.exit)}return{entries:i,exits:s}}),X(this,"executeActions",(t,r)=>{let o=Vl(t,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(let i of sr(o)){let s=Q(i)?this.actionMap?.[i]:i;Ue(Q(i)&&!s,`[@zag-js/core > execute-actions] No implementation found for action: \`${i}\``),s?.(this.state.context,r,this.meta)}}),X(this,"executeActivities",(t,r,o)=>{for(let i of r){let s=Q(i)?this.activityMap?.[i]:i;if(!s){Ue(`[@zag-js/core > execute-activity] No implementation found for activity: \`${i}\``);continue}let a=s(this.state.context,t,this.meta);if(a){let l=Q(i)?i:i.name||pt();this.addActivityCleanup(o??this.state.value,l,a)}}}),X(this,"createEveryActivities",(t,r)=>{if(t)if(Ze(t)){let o=sr(t).find(l=>{let c=l.delay,d=hi(c,this.delayMap)(this.contextSnapshot,this.state.event);return hh(l.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??d!=null});if(!o)return;let s=hi(o.delay,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let l=globalThis.setInterval(()=>{this.executeActions(o.actions,this.state.event)},s);return()=>{globalThis.clearInterval(l)}})}else for(let o in t){let i=t?.[o],a=hi(o,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let c=globalThis.setInterval(()=>{this.executeActions(i,this.state.event)},a);return()=>{globalThis.clearInterval(c)}})}}),X(this,"setEvent",t=>{this.state.previousEvent=this.state.event,this.state.event=De(dn(t))}),X(this,"performExitEffects",(t,r)=>{let o=this.state.value;if(o==="")return;let i=t?this.getStateNode(t):void 0;this.stopActivities(o);let s=Vl(i?.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=sr(s),l=this.delayedEvents.get(o);l&&a.push(...l),this.executeActions(a,r),this.delayedEvents.delete(o)}),X(this,"performEntryEffects",(t,r)=>{let o=this.getStateNode(t),i=sr(o?.activities);this.createEveryActivities(o?.every,c=>{i.unshift(c)}),i.length>0&&this.executeActivities(r,i);let s=Vl(o?.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=sr(s),l=this.getDelayedEventActions(t);o?.after&&l&&(this.delayedEvents.set(t,l?.exits),a.push(...l.entries)),this.executeActions(a,r),o?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(c=>{c(this.stateSnapshot)}),this.stop())}),X(this,"performTransitionEffects",(t,r)=>{let o=this.determineTransition(t,r);this.executeActions(o?.actions,r)}),X(this,"performStateChangeEffects",(t,r,o)=>{this.setEvent(o);let i=r.changed||r.reenter;i&&this.performExitEffects(t,o),this.performTransitionEffects(r.transition,o),this.setState(r.target),i&&this.performEntryEffects(r.target,o)}),X(this,"determineTransition",(t,r)=>QS(t,this.guardMap)?.(this.contextSnapshot,r,this.guardMeta)),X(this,"sendParent",t=>{this.parent||je("[@zag-js/core > send-parent] Cannot send event to an unknown parent");let r=dn(t);this.parent?.send(r)}),X(this,"log",(...t)=>{nn()&&this.options.debug&&console.log(...t)}),X(this,"send",t=>{let r=dn(t);this.transition(this.state.value,r)}),X(this,"transition",(t,r)=>{let o=Q(t)?this.getStateNode(t):t?.stateNode,i=dn(r);if(!o&&!this.config.on){let l=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${t}, \`event\`: ${i.type}`;Ue(l);return}let s=o?.on?.[i.type]??this.config.on?.[i.type],a=this.getNextStateInfo(s,i);return this.performStateChangeEffects(this.state.value,a,i),a.stateNode}),X(this,"subscribe",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),()=>{this.stateListeners.delete(t)})),X(this,"onDone",t=>(this.doneListeners.add(t),this)),X(this,"onTransition",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),this)),this.config=nt(e),this.options=nt(n??{}),this.id=this.config.id??`machine-${pt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=ZS(this.config),this.initialContext=Pe(this.state.context)}get stateSnapshot(){return ae(Pe(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){let e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){return e.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){let e=this.getState();return{value:e.value,tags:e.tags}}},mh=(e,n)=>new eC(e,n);var tC=(...e)=>e.map(n=>n?.trim?.()).filter(Boolean).join(" "),nC=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,uh=e=>{let n={},t;for(;t=nC.exec(e);)n[t[1]]=t[2];return n},rC=(e,n)=>{if(Q(e)){if(Q(n))return`${e};${n}`;e=uh(e)}else Q(n)&&(n=uh(n));return Object.assign({},e??{},n??{})};function gh(...e){let n={};for(let t of e){for(let r in n){if(r.startsWith("on")&&typeof n[r]=="function"&&typeof t[r]=="function"){n[r]=tn(t[r],n[r]);continue}if(r==="className"||r==="class"){n[r]=tC(n[r],t[r]);continue}if(r==="style"){n[r]=rC(n[r],t[r]);continue}n[r]=t[r]!==void 0?t[r]:n[r]}for(let r in t)n[r]===void 0&&(n[r]=t[r])}return n}var mi=(e,n)=>({x:e,y:n});function oC(e){let{x:n,y:t,width:r,height:o}=e,i=n+r/2,s=t+o/2;return{x:n,y:t,width:r,height:o,minX:n,minY:t,maxX:n+r,maxY:t+o,midX:i,midY:s,center:mi(i,s)}}function iC(e){let n=mi(e.minX,e.minY),t=mi(e.maxX,e.minY),r=mi(e.maxX,e.maxY),o=mi(e.minX,e.maxY);return{top:n,right:t,bottom:r,left:o}}var{min:oO,max:iO}=Math;function yh(e,n){let t=oC(e),{top:r,right:o,left:i,bottom:s}=iC(t),[a]=n.split("-");return{top:[i,r,o,s],right:[r,o,s,i],bottom:[r,i,s,o],left:[o,r,i,s]}[a]}function bh(e,n){let{x:t,y:r}=n,o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){let a=e[i].x,l=e[i].y,c=e[s].x,u=e[s].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(o=!o)}return o}var{sign:sO,abs:aO,min:lO}=Math;var xh=on("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),kt=xh.build(),ee=tr({getTriggerId:e=>e.ids?.trigger??`menu:${e.id}:trigger`,getContextTriggerId:e=>e.ids?.contextTrigger??`menu:${e.id}:ctx-trigger`,getContentId:e=>e.ids?.content??`menu:${e.id}:content`,getArrowId:e=>e.ids?.arrow??`menu:${e.id}:arrow`,getPositionerId:e=>e.ids?.positioner??`menu:${e.id}:popper`,getGroupId:(e,n)=>e.ids?.group?.(n)??`menu:${e.id}:group:${n}`,getGroupLabelId:(e,n)=>e.ids?.groupLabel?.(n)??`menu:${e.id}:group-label:${n}`,getContentEl:e=>ee.getById(e,ee.getContentId(e)),getPositionerEl:e=>ee.getById(e,ee.getPositionerId(e)),getTriggerEl:e=>ee.getById(e,ee.getTriggerId(e)),getHighlightedItemEl:e=>e.highlightedValue?ee.getById(e,e.highlightedValue):null,getArrowEl:e=>ee.getById(e,ee.getArrowId(e)),getElements:e=>{let t=`[role^="menuitem"][data-ownedby=${CSS.escape(ee.getContentId(e))}]:not([data-disabled])`;return Ss(ee.getContentEl(e),t)},getFirstEl:e=>sp(ee.getElements(e)),getLastEl:e=>ap(ee.getElements(e)),getNextEl:(e,n)=>Dp(ee.getElements(e),e.highlightedValue,n??e.loopFocus),getPrevEl:(e,n)=>$p(ee.getElements(e),e.highlightedValue,n??e.loopFocus),getElemByKey:(e,n)=>Pl(ee.getElements(e),{state:e.typeaheadState,key:n,activeId:e.highlightedValue}),isTargetDisabled:e=>et(e)&&(e.dataset.disabled===""||e.hasAttribute("disabled")),isTriggerItem:e=>!!e?.getAttribute("role")?.startsWith("menuitem")&&!!e?.hasAttribute("aria-controls"),getOptionFromItemEl(e){return{id:e.id,name:e.dataset.name,value:e.dataset.value,valueText:e.dataset.valueText,type:e.dataset.type}}});function wh(e,n,t){let r=e.context.isSubmenu,o=e.context.isTypingAhead,i=e.context.composite,s=e.hasTag("open"),a=Df({...e.context.positioning,placement:e.context.anchorPoint?"bottom":e.context.currentPlacement});function l(p){return{disabled:!!p.disabled,highlighted:e.context.highlightedValue===p.value}}function c(p){let f=p.valueText??p.value;return{...p,id:p.value,valueText:f}}function u(p){return{...l(c(p)),checked:!!p.checked}}function d(p){let{value:f,closeOnSelect:g,valueText:m}=p,v=l(p);return t.element({...kt.item.attrs,id:f,role:"menuitem","aria-disabled":v.disabled,"data-disabled":Mt(v.disabled),"data-ownedby":ee.getContentId(e.context),"data-highlighted":Mt(v.highlighted),"data-valuetext":m,onDragStart(b){b.currentTarget.matches("a[href]")&&b.preventDefault()},onPointerMove(b){if(v.disabled||b.pointerType!=="mouse")return;let S=b.currentTarget;v.highlighted||n({type:"ITEM_POINTERMOVE",id:f,target:S,closeOnSelect:g})},onPointerLeave(b){if(v.disabled||b.pointerType!=="mouse"||!e.previousEvent.type.includes("POINTER"))return;let E=b.currentTarget;n({type:"ITEM_POINTERLEAVE",id:f,target:E,closeOnSelect:g})},onPointerDown(b){if(v.disabled)return;let S=b.currentTarget;n({type:"ITEM_POINTERDOWN",target:S,id:f,closeOnSelect:g})},onClick(b){if(Sl(b)||wl(b)||v.disabled)return;let S=b.currentTarget;n({type:"ITEM_CLICK",target:S,id:f,closeOnSelect:g})}})}return{highlightedValue:e.context.highlightedValue,open:s,setOpen(p){p!==s&&n(p?"OPEN":"CLOSE")},setHighlightedValue(p){n({type:"HIGHLIGHTED.SET",id:p})},setParent(p){n({type:"PARENT.SET",value:p,id:p.state.context.id})},setChild(p){n({type:"CHILD.SET",value:p,id:p.state.context.id})},reposition(p={}){n({type:"POSITIONING.SET",options:p})},getContextTriggerProps(){return t.element({...kt.contextTrigger.attrs,dir:e.context.dir,id:ee.getContextTriggerId(e.context),onPointerDown(p){if(p.pointerType==="mouse")return;let f=xs(p);n({type:"CONTEXT_MENU_START",point:f})},onPointerCancel(p){p.pointerType!=="mouse"&&n("CONTEXT_MENU_CANCEL")},onPointerMove(p){p.pointerType!=="mouse"&&n("CONTEXT_MENU_CANCEL")},onPointerUp(p){p.pointerType!=="mouse"&&n("CONTEXT_MENU_CANCEL")},onContextMenu(p){let f=xs(p);n({type:"CONTEXT_MENU",point:f}),p.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(p){return gh(d({value:p.getTriggerProps().id}),p.getTriggerProps())},getTriggerProps(){return t.button({...r?kt.triggerItem.attrs:kt.trigger.attrs,"data-placement":e.context.currentPlacement,type:"button",dir:e.context.dir,id:ee.getTriggerId(e.context),"data-uid":e.context.id,"aria-haspopup":i?"menu":"dialog","aria-controls":ee.getContentId(e.context),"aria-expanded":s||void 0,"data-state":s?"open":"closed",onPointerMove(p){p.pointerType!=="mouse"||ee.isTargetDisabled(p.currentTarget)||!r||n({type:"TRIGGER_POINTERMOVE",target:p.currentTarget})},onPointerLeave(p){if(ee.isTargetDisabled(p.currentTarget)||p.pointerType!=="mouse"||!r)return;let f=xs(p);n({type:"TRIGGER_POINTERLEAVE",target:p.currentTarget,point:f})},onPointerDown(p){ee.isTargetDisabled(p.currentTarget)||vs(p)||p.preventDefault()},onClick(p){p.defaultPrevented||ee.isTargetDisabled(p.currentTarget)||n({type:"TRIGGER_CLICK",target:p.currentTarget})},onBlur(){n("TRIGGER_BLUR")},onFocus(){n("TRIGGER_FOCUS")},onKeyDown(p){if(p.defaultPrevented)return;let f={ArrowDown(){n("ARROW_DOWN")},ArrowUp(){n("ARROW_UP")},Enter(){n({type:"ARROW_DOWN",src:"enter"})},Space(){n({type:"ARROW_DOWN",src:"space"})}},g=Cl(p,e.context),m=f[g];m&&(p.preventDefault(),m(p))}})},getIndicatorProps(){return t.element({...kt.indicator.attrs,dir:e.context.dir,"data-state":s?"open":"closed"})},getPositionerProps(){return t.element({...kt.positioner.attrs,dir:e.context.dir,id:ee.getPositionerId(e.context),style:a.floating})},getArrowProps(){return t.element({id:ee.getArrowId(e.context),...kt.arrow.attrs,dir:e.context.dir,style:a.arrow})},getArrowTipProps(){return t.element({...kt.arrowTip.attrs,dir:e.context.dir,style:a.arrowTip})},getContentProps(){return t.element({...kt.content.attrs,id:ee.getContentId(e.context),"aria-label":e.context["aria-label"],hidden:!s,"data-state":s?"open":"closed",role:i?"menu":"dialog",tabIndex:0,dir:e.context.dir,"aria-activedescendant":e.context.highlightedValue??void 0,"aria-labelledby":ee.getTriggerId(e.context),"data-placement":e.context.currentPlacement,onPointerEnter(p){p.pointerType==="mouse"&&n("MENU_POINTERENTER")},onKeyDown(p){if(p.defaultPrevented||!Ep(p))return;let f=Nt(p);if(!(f?.closest("[role=menu]")===p.currentTarget||f===p.currentTarget))return;if(p.key==="Tab"&&!Ap(p)){p.preventDefault();return}let m=ee.getHighlightedItemEl(e.context),v={ArrowDown(){n("ARROW_DOWN")},ArrowUp(){n("ARROW_UP")},ArrowLeft(){n("ARROW_LEFT")},ArrowRight(){n("ARROW_RIGHT")},Enter(){n("ENTER"),Sp(m)&&e.context.navigate({value:e.context.highlightedValue,node:m})},Space(E){o?n({type:"TYPEAHEAD",key:E.key}):v.Enter?.(E)},Home(){n("HOME")},End(){n("END")}},b=Cl(p,{dir:e.context.dir}),S=v[b];if(S){S(p),p.stopPropagation(),p.preventDefault();return}e.context.typeahead&&_p(p)&&(kp(p)||ys(f)||(n({type:"TYPEAHEAD",key:p.key}),p.preventDefault()))}})},getSeparatorProps(){return t.element({...kt.separator.attrs,role:"separator",dir:e.context.dir,"aria-orientation":"horizontal"})},getItemState:l,getItemProps:d,getOptionItemState:u,getOptionItemProps(p){let{type:f,disabled:g,onCheckedChange:m,closeOnSelect:v}=p,b=c(p),S=u(p);return{...d(b),...t.element({"data-type":f,...kt.item.attrs,dir:e.context.dir,"data-value":b.value,role:`menuitem${f}`,"aria-checked":!!S.checked,"data-state":S.checked?"checked":"unchecked",onClick(E){if(g||Sl(E)||wl(E))return;let T=E.currentTarget;n({type:"ITEM_CLICK",target:T,option:b,closeOnSelect:v}),m?.(!S.checked)}})}},getItemIndicatorProps(p){let f=u(p);return t.element({...kt.itemIndicator.attrs,dir:e.context.dir,"data-disabled":Mt(f.disabled),"data-highlighted":Mt(f.highlighted),"data-state":f.checked?"checked":"unchecked",hidden:!f.checked})},getItemTextProps(p){let f=u(p);return t.element({...kt.itemText.attrs,dir:e.context.dir,"data-disabled":Mt(f.disabled),"data-highlighted":Mt(f.highlighted),"data-state":f.checked?"checked":"unchecked"})},getItemGroupLabelProps(p){return t.element({id:ee.getGroupLabelId(e.context,p.htmlFor),dir:e.context.dir,...kt.itemGroupLabel.attrs})},getItemGroupProps(p){return t.element({id:ee.getGroupId(e.context,p.id),...kt.itemGroup.attrs,dir:e.context.dir,"aria-labelledby":ee.getGroupLabelId(e.context,p.id),role:"group"})}}}var{not:Xt,and:So,or:sC}=fh;function Sh(e){let n=Me(e);return mh({id:"menu",initial:n.open?"open":"idle",context:{highlightedValue:null,loopFocus:!1,anchorPoint:null,closeOnSelect:!0,typeahead:!0,composite:!0,navigate(t){Rp(t.node)},...n,positioning:{placement:"bottom-start",gutter:8,...n.positioning},intentPolygon:null,parent:null,lastHighlightedValue:null,children:ae(De({})),suspendPointer:!1,typeaheadState:Pl.defaultOptions},computed:{isSubmenu:t=>t.parent!==null,isRtl:t=>t.dir==="rtl",isTypingAhead:t=>t.typeaheadState.keysSoFar!==""},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"reposition",open:"toggleVisibility"},on:{"PARENT.SET":{actions:"setParentMenu"},"CHILD.SET":{actions:"setChildMenu"},OPEN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{internal:!0,target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],"HIGHLIGHTED.RESTORE":{actions:"restoreHighlightedItem"},"HIGHLIGHTED.SET":{actions:"setHighlightedItem"}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_FOCUS:{guard:Xt("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],after:{LONG_PRESS_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},opening:{tags:["closed"],after:{SUBMENU_OPEN_DELAY:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",BLUR:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:"invokeOnClose"}]}},closing:{tags:["open"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:sC("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:"highlightFirstItem"},{guard:"isArrowUpEvent",target:"open",actions:"highlightLastItem"},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:"invokeOnOpen"}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:"invokeOnOpen"},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],activities:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:So(Xt("isTriggerItem"),"isOpenControlled"),actions:"invokeOnClose"},{guard:Xt("isTriggerItem"),target:"closed",actions:"invokeOnClose"}],ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:So("isSubmenu","isOpenControlled"),actions:"invokeOnClose"},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemHighlighted",actions:"openSubmenu"},{actions:"clickHighlightedItem"}],ITEM_POINTERMOVE:[{guard:Xt("suspendPointer"),actions:["setHighlightedItem","focusMenu"]},{actions:"setLastHighlightedItem"}],ITEM_POINTERLEAVE:{guard:So(Xt("suspendPointer"),Xt("isTriggerItem")),actions:"clearHighlightedItem"},ITEM_CLICK:[{guard:So(Xt("isTriggerItemHighlighted"),Xt("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:So(Xt("isTriggerItemHighlighted"),Xt("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:So(Xt("isTriggerItemHighlighted"),Xt("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:"setHighlightedItem"}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:"setHighlightedItem"},TYPEAHEAD:{actions:"highlightMatchedItem"},FOCUS_MENU:{actions:"focusMenu"},"POSITIONING.SET":{actions:"reposition"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(t,r)=>!!(r?.closeOnSelect??t.closeOnSelect),isTriggerItem:(t,r)=>ee.isTriggerItem(r.target),isTriggerItemHighlighted:(t,r)=>!!(r.target??ee.getHighlightedItemEl(t))?.hasAttribute("aria-controls"),isSubmenu:t=>t.isSubmenu,suspendPointer:t=>t.suspendPointer,isHighlightedItemEditable:t=>ys(ee.getHighlightedItemEl(t)),isWithinPolygon:(t,r)=>t.intentPolygon?bh(t.intentPolygon,r.point):!1,isOpenControlled:t=>!!t["open.controlled"],isArrowLeftEvent:(t,r)=>r.previousEvent?.type==="ARROW_LEFT",isArrowUpEvent:(t,r)=>r.previousEvent?.type==="ARROW_UP",isArrowDownEvent:(t,r)=>r.previousEvent?.type==="ARROW_DOWN",isOpenAutoFocusEvent:(t,r)=>r.previousEvent?.type==="OPEN_AUTOFOCUS"},activities:{trackPositioning(t){if(t.anchorPoint)return;t.currentPlacement=t.positioning.placement;let r=()=>ee.getPositionerEl(t);return Dl(ee.getTriggerEl(t),r,{...t.positioning,defer:!0,onComplete(o){t.currentPlacement=o.placement}})},trackInteractOutside(t,r,{send:o}){let i=()=>ee.getContentEl(t),s=!0;return Ms(i,{defer:!0,exclude:[ee.getTriggerEl(t)],onInteractOutside:t.onInteractOutside,onFocusOutside:t.onFocusOutside,onEscapeKeyDown(a){t.onEscapeKeyDown?.(a),t.isSubmenu&&a.preventDefault(),vh(t)},onPointerDownOutside(a){s=!a.detail.focusable,t.onPointerDownOutside?.(a)},onDismiss(){o({type:"CLOSE",src:"interact-outside",restoreFocus:s})}})},trackPointerMove(t,r,{guards:o,send:i}){let{isWithinPolygon:s}=o;t.parent.state.context.suspendPointer=!0;let a=ee.getDoc(t);return ft(a,"pointermove",l=>{let c={x:l.clientX,y:l.clientY};s(t,{point:c})||(i("POINTER_MOVED_AWAY_FROM_SUBMENU"),t.parent.state.context.suspendPointer=!1)})},scrollToHighlightedItem(t,r,{getState:o}){let i=()=>{if(o().event.type.startsWith("ITEM_POINTER"))return;let l=ee.getHighlightedItemEl(t),c=ee.getContentEl(t);Np(l,{rootEl:c,block:"nearest"})};return We(()=>i()),Op(()=>ee.getContentEl(t),{defer:!0,attributes:["aria-activedescendant"],callback:i})}},actions:{setAnchorPoint(t,r){t.anchorPoint=r.point},setSubmenuPlacement(t){t.isSubmenu&&(t.positioning.placement=t.isRtl?"left-start":"right-start",t.positioning.gutter=0)},reposition(t,r){let o=()=>ee.getPositionerEl(t),i=t.anchorPoint?()=>({width:0,height:0,...t.anchorPoint}):void 0;Dl(ee.getTriggerEl(t),o,{...t.positioning,defer:!0,getAnchorRect:i,...r.options??{},listeners:!1,onComplete(s){t.currentPlacement=s.placement}})},setOptionState(t,r){if(!r.option)return;let{checked:o,onCheckedChange:i,type:s}=r.option;s==="radio"?i?.(!0):s==="checkbox"&&i?.(!o)},clickHighlightedItem(t,r){let o=ee.getHighlightedItemEl(t);!o||o.dataset.disabled||queueMicrotask(()=>o.click())},setIntentPolygon(t,r){let o=ee.getContentEl(t),i=t.currentPlacement;if(!o||!i)return;let s=o.getBoundingClientRect(),a=yh(s,i);if(!a)return;let c=Mf(i)==="right"?-5:5;t.intentPolygon=[{...r.point,x:r.point.x+c},...a]},clearIntentPolygon(t){t.intentPolygon=null},resumePointer(t){t.parent&&(t.parent.state.context.suspendPointer=!1)},setHighlightedItem(t,r){ar.highlighted(t,r.id)},clearHighlightedItem(t){ar.highlighted(t,null)},focusMenu(t){We(()=>{let r=ee.getContentEl(t);Ip({root:r,enabled:!rn(r,ee.getActiveElement(t)),filter(i){return!i.role?.startsWith("menuitem")}})?.focus({preventScroll:!0})})},highlightFirstItem(t){(ee.getContentEl(t)?queueMicrotask:We)(()=>{let o=ee.getFirstEl(t);o&&ar.highlighted(t,o.id)})},highlightLastItem(t){(ee.getContentEl(t)?queueMicrotask:We)(()=>{let o=ee.getLastEl(t);o&&ar.highlighted(t,o.id)})},highlightNextItem(t,r){let o=ee.getNextEl(t,r.loop);ar.highlighted(t,o?.id??null)},highlightPrevItem(t,r){let o=ee.getPrevEl(t,r.loop);ar.highlighted(t,o?.id??null)},invokeOnSelect(t){t.highlightedValue&&t.onSelect?.({value:t.highlightedValue})},focusTrigger(t,r){t.isSubmenu||t.anchorPoint||r.restoreFocus===!1||queueMicrotask(()=>ee.getTriggerEl(t)?.focus({preventScroll:!0}))},highlightMatchedItem(t,r){let o=ee.getElemByKey(t,r.key);o&&ar.highlighted(t,o.id)},setParentMenu(t,r){t.parent=De(r.value)},setChildMenu(t,r){t.children[r.id]=De(r.value)},closeRootMenu(t){vh(t)},openSubmenu(t){let o=ee.getHighlightedItemEl(t)?.getAttribute("data-uid");(o?t.children[o]:null)?.send("OPEN_AUTOFOCUS")},focusParentMenu(t){t.parent?.send("FOCUS_MENU")},setLastHighlightedItem(t,r){t.lastHighlightedValue=r.id},restoreHighlightedItem(t){t.lastHighlightedValue&&(ar.highlighted(t,t.lastHighlightedValue),t.lastHighlightedValue=null)},restoreParentHighlightedItem(t){t.parent?.send("HIGHLIGHTED.RESTORE")},invokeOnOpen(t){t.onOpenChange?.({open:!0})},invokeOnClose(t){t.onOpenChange?.({open:!1})},toggleVisibility(t,r,{send:o}){o({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}function vh(e){let n=e.parent;for(;n&&n.state.context.isSubmenu;)n=n.state.context.parent;n?.send("CLOSE")}var ar={highlighted(e,n){uo(e.highlightedValue,n)||(e.highlightedValue=n,e.onHighlightChange?.({highlightedValue:n}))}},aC=Gt()(["anchorPoint","aria-label","closeOnSelect","composite","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open.controlled","open","positioning","typeahead"]),bO=xn(aC),lC=Gt()(["closeOnSelect","disabled","value","valueText"]),vO=xn(lC),cC=Gt()(["htmlFor"]),xO=xn(cC),uC=Gt()(["id"]),wO=xn(uC),dC=Gt()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]),SO=xn(dC);var[Ch,ot]=Qe({hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),Th=e=>{let n=ot(),t=oe(()=>n().getArrowProps(),e);return h(he.div,t)},Eh=e=>{let n=ot(),t=oe(()=>n().getArrowTipProps(),e);return h(he.div,t)},[zl,_h]=Qe({hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[kh,Ph]=Qe({hookName:"useMenuOptionItemPropsContext",providerName:"<MenuOptionItemPropsProvider />"}),Ih=e=>{let[n,t]=mt()(e,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),r=oe(n,{type:"checkbox"}),o=ot(),i=oe(()=>o().getOptionItemProps(r),t),s=R(()=>o().getItemState(r));return h(kh,{value:r,get children(){return h(zl,{value:s,get children(){return h(he.div,i)}})}})},Ah=e=>{let n=ot(),t=or(),r=oe(()=>n().getContentProps(),()=>t().presenceProps,e);return h(B,{get when(){return!t().unmounted},get children(){return h(he.div,r)}})},Oh=e=>e.children(ot()),Rh=e=>{let n=ot(),t=oe(()=>n().getContextTriggerProps(),e);return h(he.button,t)},Mh=e=>{let n=ot(),t=oe(()=>n().getIndicatorProps(),e);return h(he.div,t)},Nh=e=>{let[n,t]=mt()(e,["closeOnSelect","disabled","value","valueText"]),r=ot(),o=oe(()=>r().getItemProps(n),t),i=R(()=>r().getItemState(n));return h(zl,{value:i,get children(){return h(he.div,o)}})},Dh=e=>e.children(_h()),[$h,Lh]=Qe({hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),Bh=e=>{let[n,t]=mt()(e,["id"]),r=oe({id:bn()},n),o=ot(),i=oe(()=>o().getItemGroupProps(r),t);return h($h,{value:r,get children(){return h(he.div,i)}})},Fh=e=>{let n=ot(),t=Lh(),r=oe(n().getItemGroupLabelProps({htmlFor:t.id}),e);return h(he.div,r)},Uh=e=>{let n=ot(),t=Ph(),r=oe(()=>n().getItemIndicatorProps(t),e);return h(he.div,r)},jh=e=>{let n=ot(),t=Ph(),r=oe(()=>n().getItemTextProps(t),e);return h(he.div,r)},Vh=e=>{let n=ot(),t=or(),r=oe(()=>n().getPositionerProps(),e);return h(B,{get when(){return!t().unmounted},get children(){return h(he.div,r)}})},Hh=e=>{let[n,t]=mt()(e,["closeOnSelect","disabled","value","valueText"]),r=ot(),o=Lh(),i=oe(n,()=>({type:"radio",checked:o.value===n.value,onCheckedChange:()=>o.onValueChange?.({value:n.value})})),s=oe(()=>r().getOptionItemProps(i),t),a=R(()=>r().getOptionItemState(i));return h(kh,{value:i,get children(){return h(zl,{value:a,get children(){return h(he.div,s)}})}})},zh=e=>{let[n,t]=mt()(e,["id","onValueChange","value"]),r=ot(),o=oe({id:bn()},n),i=oe(()=>r().getItemGroupProps(o),t);return h($h,{value:o,get children(){return h(he.div,i)}})},Wh=(e={})=>{let n=fo(),t=Cr(),r=bn(),o=R(()=>({id:r,dir:n().dir,getRootNode:t().getRootNode,open:e.defaultOpen,"open.controlled":e.open!==void 0,...e})),[i,s,a]=wn(Sh(o()),{context:o});return{api:R(()=>wh(i,s,qt)),machine:a}},[Gh,qh]=Qe({hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[Kh,fC]=Qe({hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),Yh=e=>{let[n,t]=mo(e),[r,o]=mt()(t,["anchorPoint","aria-label","closeOnSelect","composite","defaultOpen","highlightedValue","id","ids","loopFocus","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","navigate","positioning","typeahead"]),i=ot(),s=qh(),a=Wh(r),l=Er(oe(n,()=>({present:a.api().open})));return me(()=>{s&&(i?.().setChild(a.machine),a.api().setParent(s))}),h(Kh,{value:()=>i?.().getTriggerItemProps(a.api()),get children(){return h(Gh,{get value(){return a.machine},get children(){return h(Ch,{get value(){return a.api},get children(){return h(go,{value:l,get children(){return o.children}})}})}})}})},Xh=e=>{let n=ot(),t=qh(),[r,o]=mo(e),i=Er(oe(r,()=>({present:o.value.api().open})));return me(()=>{t&&(n?.().setChild(o.value.machine),o.value.api().setParent(t))}),h(Kh,{value:()=>n?.().getTriggerItemProps(o.value.api()),get children(){return h(Gh,{get value(){return o.value.machine},get children(){return h(Ch,{get value(){return o.value.api},get children(){return h(go,{value:i,get children(){return o.children}})}})}})}})},Zh=e=>{let n=ot(),t=oe(()=>n().getSeparatorProps(),e);return h(he.hr,t)},Jh=e=>{let n=ot(),t=or(),r=oe(()=>n().getTriggerProps(),()=>({"aria-controls":t().unmounted&&null}),e);return h(he.button,r)},Qh=e=>{let n=fC(),t=oe(()=>n?.(),e);return h(he.div,t)},jn={};nr(jn,{Arrow:()=>Th,ArrowTip:()=>Eh,CheckboxItem:()=>Ih,Content:()=>Ah,Context:()=>Oh,ContextTrigger:()=>Rh,Indicator:()=>Mh,Item:()=>Nh,ItemContext:()=>Dh,ItemGroup:()=>Bh,ItemGroupLabel:()=>Fh,ItemIndicator:()=>Uh,ItemText:()=>jh,Positioner:()=>Vh,RadioItem:()=>Hh,RadioItemGroup:()=>zh,Root:()=>Yh,RootProvider:()=>Xh,Separator:()=>Zh,Trigger:()=>Jh,TriggerItem:()=>Qh});var Co=new WeakMap,$s=new WeakMap,Ls={},Wl=0,em=e=>e&&(e.host||em(e.parentNode)),hC=(e,n)=>n.map(t=>{if(e.contains(t))return t;let r=em(t);return r&&e.contains(r)?r:(console.error("[zag-js > ariaHidden] target",t,"in not contained inside",e,". Doing nothing"),null)}).filter(t=>!!t),mC=e=>e.localName==="next-route-announcer"||e.localName==="script"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),gC=(e,n)=>{let{parentNode:t,markerName:r,controlAttribute:o,explicitBooleanValue:i}=n,s=hC(t,Array.isArray(e)?e:[e]);Ls[r]||(Ls[r]=new WeakMap);let a=Ls[r],l=[],c=new Set,u=new Set(s),d=f=>{!f||c.has(f)||(c.add(f),d(f.parentNode))};s.forEach(d);let p=f=>{!f||u.has(f)||Array.prototype.forEach.call(f.children,g=>{if(c.has(g))p(g);else try{if(mC(g))return;let m=g.getAttribute(o),v=i?m==="true":m!==null&&m!=="false",b=(Co.get(g)||0)+1,S=(a.get(g)||0)+1;Co.set(g,b),a.set(g,S),l.push(g),b===1&&v&&$s.set(g,!0),S===1&&g.setAttribute(r,""),v||g.setAttribute(o,i?"true":"")}catch(m){console.error("[zag-js > ariaHidden] cannot operate on ",g,m)}})};return p(t),c.clear(),Wl++,()=>{l.forEach(f=>{let g=Co.get(f)-1,m=a.get(f)-1;Co.set(f,g),a.set(f,m),g||($s.has(f)||f.removeAttribute(o),$s.delete(f)),m||f.removeAttribute(r)}),Wl--,Wl||(Co=new WeakMap,Co=new WeakMap,$s=new WeakMap,Ls={})}},yC=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,bC=(e,n=yC(e),t="data-aria-hidden")=>{if(n)return gC(e,{parentNode:n,markerName:t,controlAttribute:"aria-hidden",explicitBooleanValue:!0})},vC=e=>{let n=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(n)};function tm(e,n={}){let{defer:t=!0}=n,r=t?vC:i=>i(),o=[];return o.push(r(()=>{let s=(typeof e=="function"?e():e).filter(Boolean);s.length!==0&&o.push(bC(s))})),()=>{o.forEach(i=>i?.())}}var Gl="data-scroll-lock";function nm(e,n){if(!e)return;let t=Object.keys(n).reduce((r,o)=>(r[o]=e.style.getPropertyValue(o),r),{});return Object.assign(e.style,n),()=>{Object.assign(e.style,t)}}function xC(e,n,t){if(!e)return;let r=e.style.getPropertyValue(n);return e.style.setProperty(n,t),()=>{r?e.style.setProperty(n,r):e.style.removeProperty(n)}}function wC(e){let n=e.getBoundingClientRect().left;return Math.round(n)+e.scrollLeft?"paddingLeft":"paddingRight"}function rm(e){let n=e??document,t=n.defaultView??window,{documentElement:r,body:o}=n;if(o.hasAttribute(Gl))return;o.setAttribute(Gl,"");let s=t.innerWidth-r.clientWidth,a=()=>xC(r,"--scrollbar-width",`${s}px`),l=wC(r),c=()=>nm(o,{overflow:"hidden",[l]:`${s}px`}),u=()=>{let{scrollX:p,scrollY:f,visualViewport:g}=t,m=g?.offsetLeft??0,v=g?.offsetTop??0,b=nm(o,{position:"fixed",overflow:"hidden",top:`${-(f-Math.floor(v))}px`,left:`${-(p-Math.floor(m))}px`,right:"0",[l]:`${s}px`});return()=>{b?.(),t.scrollTo({left:p,top:f,behavior:"instant"})}},d=[a(),Tp()?u():c()];return()=>{d.forEach(p=>p?.()),o.removeAttribute(Gl)}}var SC=Object.defineProperty,CC=(e,n,t)=>n in e?SC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Z=(e,n,t)=>CC(e,typeof n!="symbol"?n+"":n,t);function om(e,...n){if(!Fe(e))throw new TypeError("Source argument must be a plain object");for(let t of n){if(!Fe(t))continue;let r=Me(t);for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o)||o==="__proto__"||o==="constructor"||o==="prototype")continue;let i=e[o],s=t[o];Fe(s)?e[o]=Fe(i)?om(i,s):{...s}:e[o]=s}}return e}function pn(e){return Q(e)?{type:e}:e}function lr(e){return e?Ze(e)?e.slice():[e]:[]}function im(e){return Le(e)&&e.predicate!=null}var TC=()=>!0;function sm(e,n){return e=e??TC,(t,r,o)=>{if(Q(e)){let i=n[e];return Be(i)?i(t,r,o):i}return im(e)?e.predicate(n)(t,r,o):e?.(t,r,o)}}function ql(e,n){return(t,r,o)=>im(e)?e.predicate(n)(t,r,o):e}function EC(e){let n=e.computed??ae({}),t=e.context??ae({}),r=e.initial?e.states?.[e.initial]?.tags:[],o=Et({value:e.initial??"",previousValue:"",event:ae({}),previousEvent:ae({}),context:vn(t,n),done:!1,tags:r??[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return ae(this).nextEvents.includes(i)},get nextEvents(){let i=e.states?.[this.value]?.on??{},s=e?.on??{};return Object.keys({...i,...s})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ae(o)}function gi(e,n){return(t,r)=>{if(Rt(e))return e;if(Be(e))return e(t,r);if(Q(e)){let o=Number.parseFloat(e);if(!Number.isNaN(o))return o;if(n){let i=n?.[e];return je(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Be(i)?i(t,r):i}}}}function _C(e){return Q(e)?{target:e}:e}function kC(e,n){return(t,r,o)=>lr(e).map(_C).find(i=>sm(i.guard,n)(t,r,o)??i.target??i.actions)}var PC=class{constructor(e,n){Z(this,"status","Not Started"),Z(this,"state"),Z(this,"initialState"),Z(this,"initialContext"),Z(this,"id"),Z(this,"type","machine"),Z(this,"activityEvents",new Map),Z(this,"delayedEvents",new Map),Z(this,"stateListeners",new Set),Z(this,"doneListeners",new Set),Z(this,"contextWatchers",new Set),Z(this,"removeStateListener",Lt),Z(this,"parent"),Z(this,"children",new Map),Z(this,"guardMap"),Z(this,"actionMap"),Z(this,"delayMap"),Z(this,"activityMap"),Z(this,"sync"),Z(this,"options"),Z(this,"config"),Z(this,"_created",()=>{if(!this.config.created)return;let t=pn("machine.created");this.executeActions(this.config.created,t)}),Z(this,"start",t=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=rt(this.state,()=>{this.stateListeners.forEach(l=>{l(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(pn("machine.start"),lr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,pn("machine.start"));let r=pn("machine.init"),o=Le(t)?t.value:t,i=Le(t)?t.context:void 0;i&&this.setContext(i);let s={target:o??this.config.initial},a=this.getNextStateInfo(s,r);return this.initialState=a,this.performStateChangeEffects(this.state.value,a,r),this}),Z(this,"setupContextWatchers",()=>{let{watch:t}=this.config;if(!t)return;let r=Pe(this.state.context),o=rt(this.state.context,()=>{let i=Pe(this.state.context);for(let[s,a]of Object.entries(t))(this.options.compareFns?.[s]??Object.is)(r[s],i[s])||this.executeActions(a,this.state.event);r=i});this.contextWatchers.add(o)}),Z(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,pn("machine.stop")),this.executeActions(this.config.exit,pn("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),Z(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),Z(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(t=>t()),this.contextWatchers.clear()}),Z(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(t=>{t.forEach(r=>r())}),this.delayedEvents.clear()}),Z(this,"stopActivities",t=>{t?(this.activityEvents.get(t)?.forEach(r=>r()),this.activityEvents.get(t)?.clear(),this.activityEvents.delete(t)):(this.activityEvents.forEach(r=>{r.forEach(o=>o()),r.clear()}),this.activityEvents.clear())}),Z(this,"sendChild",(t,r)=>{let o=pn(t),i=Xe(r,this.contextSnapshot),s=this.children.get(i);s||je(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),s.send(o)}),Z(this,"stopChild",t=>{this.children.has(t)||je(`[@zag-js/core > stop-child] Cannot stop unknown child ${t}`),this.children.get(t).stop(),this.children.delete(t)}),Z(this,"removeChild",t=>{this.children.delete(t)}),Z(this,"stopChildren",()=>{this.children.forEach(t=>t.stop()),this.children.clear()}),Z(this,"setParent",t=>{this.parent=t}),Z(this,"spawn",(t,r)=>{let o=Xe(t);return r&&(o.id=r),o.type="machine.actor",o.setParent(this),this.children.set(o.id,ae(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),ae(De(o))}),Z(this,"stopActivity",t=>{if(!this.state.value)return;let r=this.activityEvents.get(this.state.value);r?.get(t)?.(),r?.delete(t)}),Z(this,"addActivityCleanup",(t,r,o)=>{t&&(this.activityEvents.has(t)?this.activityEvents.get(t)?.set(r,o):this.activityEvents.set(t,new Map([[r,o]])))}),Z(this,"setState",t=>{this.state.previousValue=this.state.value,this.state.value=t;let r=this.getStateNode(t);t==null?en(this.state.tags):this.state.tags=lr(r?.tags)}),Z(this,"setContext",t=>{t&&om(this.state.context,t)}),Z(this,"setOptions",t=>{let r=Me(t);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),Z(this,"getStateNode",t=>{if(t)return this.config.states?.[t]}),Z(this,"getNextStateInfo",(t,r)=>{let o=this.determineTransition(t,r),i=!o?.target,s=o?.target??this.state.value,a=this.state.value!==s,l=this.getStateNode(s),u={reenter:!i&&!a&&!o?.internal,transition:o,stateNode:l,target:s,changed:a};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",u.target),u}),Z(this,"getAfterActions",(t,r)=>{let o,i=this.state.value;return{entry:()=>{o=globalThis.setTimeout(()=>{let s=this.getNextStateInfo(t,this.state.event);this.performStateChangeEffects(i,s,this.state.event)},r)},exit:()=>{globalThis.clearTimeout(o)}}}),Z(this,"getDelayedEventActions",t=>{let r=this.getStateNode(t),o=this.state.event;if(!r||!r.after)return;let i=[],s=[];if(Ze(r.after)){let a=this.determineTransition(r.after,o);if(!a)return;if(!Wt(a,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(a)}`);let c=gi(a.delay,this.delayMap)(this.contextSnapshot,o),u=this.getAfterActions(a,c);return i.push(u.entry),s.push(u.exit),{entries:i,exits:s}}if(Le(r.after))for(let a in r.after){let l=r.after[a],u=gi(a,this.delayMap)(this.contextSnapshot,o),d=this.getAfterActions(l,u);i.push(d.entry),s.push(d.exit)}return{entries:i,exits:s}}),Z(this,"executeActions",(t,r)=>{let o=ql(t,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(let i of lr(o)){let s=Q(i)?this.actionMap?.[i]:i;Ue(Q(i)&&!s,`[@zag-js/core > execute-actions] No implementation found for action: \`${i}\``),s?.(this.state.context,r,this.meta)}}),Z(this,"executeActivities",(t,r,o)=>{for(let i of r){let s=Q(i)?this.activityMap?.[i]:i;if(!s){Ue(`[@zag-js/core > execute-activity] No implementation found for activity: \`${i}\``);continue}let a=s(this.state.context,t,this.meta);if(a){let l=Q(i)?i:i.name||pt();this.addActivityCleanup(o??this.state.value,l,a)}}}),Z(this,"createEveryActivities",(t,r)=>{if(t)if(Ze(t)){let o=lr(t).find(l=>{let c=l.delay,d=gi(c,this.delayMap)(this.contextSnapshot,this.state.event);return sm(l.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??d!=null});if(!o)return;let s=gi(o.delay,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let l=globalThis.setInterval(()=>{this.executeActions(o.actions,this.state.event)},s);return()=>{globalThis.clearInterval(l)}})}else for(let o in t){let i=t?.[o],a=gi(o,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let c=globalThis.setInterval(()=>{this.executeActions(i,this.state.event)},a);return()=>{globalThis.clearInterval(c)}})}}),Z(this,"setEvent",t=>{this.state.previousEvent=this.state.event,this.state.event=De(pn(t))}),Z(this,"performExitEffects",(t,r)=>{let o=this.state.value;if(o==="")return;let i=t?this.getStateNode(t):void 0;this.stopActivities(o);let s=ql(i?.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=lr(s),l=this.delayedEvents.get(o);l&&a.push(...l),this.executeActions(a,r),this.delayedEvents.delete(o)}),Z(this,"performEntryEffects",(t,r)=>{let o=this.getStateNode(t),i=lr(o?.activities);this.createEveryActivities(o?.every,c=>{i.unshift(c)}),i.length>0&&this.executeActivities(r,i);let s=ql(o?.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=lr(s),l=this.getDelayedEventActions(t);o?.after&&l&&(this.delayedEvents.set(t,l?.exits),a.push(...l.entries)),this.executeActions(a,r),o?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(c=>{c(this.stateSnapshot)}),this.stop())}),Z(this,"performTransitionEffects",(t,r)=>{let o=this.determineTransition(t,r);this.executeActions(o?.actions,r)}),Z(this,"performStateChangeEffects",(t,r,o)=>{this.setEvent(o);let i=r.changed||r.reenter;i&&this.performExitEffects(t,o),this.performTransitionEffects(r.transition,o),this.setState(r.target),i&&this.performEntryEffects(r.target,o)}),Z(this,"determineTransition",(t,r)=>kC(t,this.guardMap)?.(this.contextSnapshot,r,this.guardMeta)),Z(this,"sendParent",t=>{this.parent||je("[@zag-js/core > send-parent] Cannot send event to an unknown parent");let r=pn(t);this.parent?.send(r)}),Z(this,"log",(...t)=>{nn()&&this.options.debug&&console.log(...t)}),Z(this,"send",t=>{let r=pn(t);this.transition(this.state.value,r)}),Z(this,"transition",(t,r)=>{let o=Q(t)?this.getStateNode(t):t?.stateNode,i=pn(r);if(!o&&!this.config.on){let l=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${t}, \`event\`: ${i.type}`;Ue(l);return}let s=o?.on?.[i.type]??this.config.on?.[i.type],a=this.getNextStateInfo(s,i);return this.performStateChangeEffects(this.state.value,a,i),a.stateNode}),Z(this,"subscribe",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),()=>{this.stateListeners.delete(t)})),Z(this,"onDone",t=>(this.doneListeners.add(t),this)),Z(this,"onTransition",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),this)),this.config=nt(e),this.options=nt(n??{}),this.id=this.config.id??`machine-${pt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=EC(this.config),this.initialContext=Pe(this.state.context)}get stateSnapshot(){return ae(Pe(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){let e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){return e.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){let e=this.getState();return{value:e.value,tags:e.tags}}},am=(e,n)=>new PC(e,n);var lm=on("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),Vn=lm.build(),Bs=tr({getRootId:e=>e.ids?.root??`progress-${e.id}`,getTrackId:e=>e.ids?.track??`progress-${e.id}-track`,getLabelId:e=>e.ids?.label??`progress-${e.id}-label`,getCircleId:e=>e.ids?.circle??`progress-${e.id}-circle`});function cm(e,n,t){let r=e.context.percent,o=e.context.isIndeterminate?"":`${r}%`,i=e.context.max,s=e.context.min,a=e.context.orientation,l=e.context.translations,c=e.context.isIndeterminate,u=e.context.value,d=l.value({value:u,max:i,percent:r,min:s}),p=IC(u,i),f={role:"progressbar","aria-label":d,"data-max":i,"aria-valuemin":s,"aria-valuemax":i,"aria-valuenow":u??void 0,"data-orientation":a,"data-state":p},g=AC(e.context);return{value:u,valueAsString:d,min:s,max:i,percent:r,percentAsString:o,indeterminate:c,setValue(m){n({type:"VALUE.SET",value:m})},setToMax(){n({type:"VALUE.SET",value:i})},setToMin(){n({type:"VALUE.SET",value:s})},getRootProps(){return t.element({dir:e.context.dir,...Vn.root.attrs,id:Bs.getRootId(e.context),"data-max":i,"data-value":u??void 0,"data-state":p,"data-orientation":a,style:{"--percent":c?void 0:r}})},getLabelProps(){return t.element({dir:e.context.dir,id:Bs.getLabelId(e.context),...Vn.label.attrs,"data-orientation":a})},getValueTextProps(){return t.element({dir:e.context.dir,"aria-live":"polite",...Vn.valueText.attrs})},getTrackProps(){return t.element({dir:e.context.dir,id:Bs.getTrackId(e.context),...Vn.track.attrs,...f})},getRangeProps(){return t.element({dir:e.context.dir,...Vn.range.attrs,"data-orientation":a,"data-state":p,style:{[e.context.isHorizontal?"width":"height"]:c?void 0:`${r}%`}})},getCircleProps(){return t.element({dir:e.context.dir,id:Bs.getCircleId(e.context),...Vn.circle.attrs,...f,...g.root})},getCircleTrackProps(){return t.element({dir:e.context.dir,"data-orientation":a,...Vn.circleTrack.attrs,...g.track})},getCircleRangeProps(){return t.element({dir:e.context.dir,...Vn.circleRange.attrs,...g.range,"data-state":p})},getViewProps(m){return t.element({dir:e.context.dir,...Vn.view.attrs,"data-state":m.state,hidden:m.state!==p})}}}function IC(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function AC(e){let n={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:n,range:{opacity:e.value===0?0:void 0,style:{...n.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function OC(e,n){return e+(n-e)/2}function um(e){let n=Me(e);return am({id:"progress",initial:"idle",context:{max:n.max??100,min:n.min??0,value:OC(n.min??0,n.max??100),orientation:"horizontal",translations:{value:({percent:t})=>t===-1?"loading...":`${t} percent`,...n.translations},...n},created:["validateContext"],computed:{isIndeterminate:t=>t.value===null,percent(t){return Rt(t.value)?Math.round((t.value-t.min)/(t.max-t.min)*100):-1},isAtMax:t=>t.value===t.max,isHorizontal:t=>t.orientation==="horizontal",isRtl:t=>t.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(t,r)=>{NC.value(t,r.value)},validateContext:t=>{if(t.value!=null){if(!Kl(t.max))throw new Error(`[progress] The max value passed \`${t.max}\` is not a valid number`);if(!RC(t.value,t.max))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the max value \`${t.max}\``);if(!MC(t.value,t.min))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the min value \`${t.min}\``)}}}})}function Kl(e){return Rt(e)&&!isNaN(e)}function RC(e,n){return Kl(e)&&e<=n}function MC(e,n){return Kl(e)&&e>=n}var NC={value(e,n){uo(e.value,n)||(e.value=n===null?null:Math.max(0,Math.min(n,e.max)),e.onValueChange?.({value:n}))}},DC=Gt()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]),GO=xn(DC);var[dm,kn]=Qe({hookName:"useProgressContext",providerName:"<ProgressProvider />"}),pm=e=>{let n=kn(),t=oe(()=>n().getCircleProps(),e);return h(he.svg,t)},fm=e=>{let n=kn(),t=oe(()=>n().getCircleRangeProps(),e);return h(he.circle,t)},hm=e=>{let n=kn(),t=oe(()=>n().getCircleTrackProps(),e);return h(he.circle,t)},mm=e=>e.children(kn()),gm=e=>{let n=kn(),t=oe(()=>n().getLabelProps(),e);return h(he.label,t)},ym=e=>{let n=kn(),t=oe(()=>n().getRangeProps(),e);return h(he.div,t)},bm=(e={})=>{let n=fo(),t=Cr(),r=bn(),o=R(()=>({id:r,dir:n().dir,getRootNode:t().getRootNode,value:e.defaultValue,...e})),[i,s]=wn(um(o()),{context:o});return R(()=>cm(i,s,qt))},vm=e=>{let[n,t]=mt()(e,["defaultValue","id","ids","max","min","onValueChange","orientation","translations","value"]),r=bm(n),o=oe(()=>r().getRootProps(),t);return h(dm,{value:r,get children(){return h(he.div,o)}})},xm=e=>{let[{value:n},t]=mt()(e,["value"]),r=oe(()=>n().getRootProps(),t);return h(dm,{value:n,get children(){return h(he.div,r)}})},wm=e=>{let n=kn(),t=oe(()=>n().getTrackProps(),e);return h(he.div,t)},Sm=e=>{let n=kn(),t=oe(()=>n().getValueTextProps(),e);return h(he.span,we(t,{get children(){return e.children||n().percentAsString}}))},Cm=e=>{let[n,t]=mt()(e,["state"]),r=kn(),o=oe(()=>r().getViewProps(n),t);return h(he.span,o)},Mr={};nr(Mr,{Circle:()=>pm,CircleRange:()=>fm,CircleTrack:()=>hm,Context:()=>mm,Label:()=>gm,Range:()=>ym,Root:()=>vm,RootProvider:()=>xm,Track:()=>wm,ValueText:()=>Sm,View:()=>Cm});var LC=Object.defineProperty,BC=(e,n,t)=>n in e?LC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,J=(e,n,t)=>BC(e,typeof n!="symbol"?n+"":n,t);function Tm(e,...n){if(!Fe(e))throw new TypeError("Source argument must be a plain object");for(let t of n){if(!Fe(t))continue;let r=Me(t);for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o)||o==="__proto__"||o==="constructor"||o==="prototype")continue;let i=e[o],s=t[o];Fe(s)?e[o]=Fe(i)?Tm(i,s):{...s}:e[o]=s}}return e}function fn(e){return Q(e)?{type:e}:e}function cr(e){return e?Ze(e)?e.slice():[e]:[]}function Em(e){return Le(e)&&e.predicate!=null}var FC=()=>!0;function _m(e,n){return e=e??FC,(t,r,o)=>{if(Q(e)){let i=n[e];return Be(i)?i(t,r,o):i}return Em(e)?e.predicate(n)(t,r,o):e?.(t,r,o)}}function Yl(e,n){return(t,r,o)=>Em(e)?e.predicate(n)(t,r,o):e}function UC(e){let n=e.computed??ae({}),t=e.context??ae({}),r=e.initial?e.states?.[e.initial]?.tags:[],o=Et({value:e.initial??"",previousValue:"",event:ae({}),previousEvent:ae({}),context:vn(t,n),done:!1,tags:r??[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return ae(this).nextEvents.includes(i)},get nextEvents(){let i=e.states?.[this.value]?.on??{},s=e?.on??{};return Object.keys({...i,...s})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return ae(o)}function yi(e,n){return(t,r)=>{if(Rt(e))return e;if(Be(e))return e(t,r);if(Q(e)){let o=Number.parseFloat(e);if(!Number.isNaN(o))return o;if(n){let i=n?.[e];return je(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Be(i)?i(t,r):i}}}}function jC(e){return Q(e)?{target:e}:e}function VC(e,n){return(t,r,o)=>cr(e).map(jC).find(i=>_m(i.guard,n)(t,r,o)??i.target??i.actions)}var HC=class{constructor(e,n){J(this,"status","Not Started"),J(this,"state"),J(this,"initialState"),J(this,"initialContext"),J(this,"id"),J(this,"type","machine"),J(this,"activityEvents",new Map),J(this,"delayedEvents",new Map),J(this,"stateListeners",new Set),J(this,"doneListeners",new Set),J(this,"contextWatchers",new Set),J(this,"removeStateListener",Lt),J(this,"parent"),J(this,"children",new Map),J(this,"guardMap"),J(this,"actionMap"),J(this,"delayMap"),J(this,"activityMap"),J(this,"sync"),J(this,"options"),J(this,"config"),J(this,"_created",()=>{if(!this.config.created)return;let t=fn("machine.created");this.executeActions(this.config.created,t)}),J(this,"start",t=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=rt(this.state,()=>{this.stateListeners.forEach(l=>{l(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(fn("machine.start"),cr(this.config.activities),"machine.start"),this.executeActions(this.config.entry,fn("machine.start"));let r=fn("machine.init"),o=Le(t)?t.value:t,i=Le(t)?t.context:void 0;i&&this.setContext(i);let s={target:o??this.config.initial},a=this.getNextStateInfo(s,r);return this.initialState=a,this.performStateChangeEffects(this.state.value,a,r),this}),J(this,"setupContextWatchers",()=>{let{watch:t}=this.config;if(!t)return;let r=Pe(this.state.context),o=rt(this.state.context,()=>{let i=Pe(this.state.context);for(let[s,a]of Object.entries(t))(this.options.compareFns?.[s]??Object.is)(r[s],i[s])||this.executeActions(a,this.state.event);r=i});this.contextWatchers.add(o)}),J(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,fn("machine.stop")),this.executeActions(this.config.exit,fn("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),J(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),J(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(t=>t()),this.contextWatchers.clear()}),J(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(t=>{t.forEach(r=>r())}),this.delayedEvents.clear()}),J(this,"stopActivities",t=>{t?(this.activityEvents.get(t)?.forEach(r=>r()),this.activityEvents.get(t)?.clear(),this.activityEvents.delete(t)):(this.activityEvents.forEach(r=>{r.forEach(o=>o()),r.clear()}),this.activityEvents.clear())}),J(this,"sendChild",(t,r)=>{let o=fn(t),i=Xe(r,this.contextSnapshot),s=this.children.get(i);s||je(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),s.send(o)}),J(this,"stopChild",t=>{this.children.has(t)||je(`[@zag-js/core > stop-child] Cannot stop unknown child ${t}`),this.children.get(t).stop(),this.children.delete(t)}),J(this,"removeChild",t=>{this.children.delete(t)}),J(this,"stopChildren",()=>{this.children.forEach(t=>t.stop()),this.children.clear()}),J(this,"setParent",t=>{this.parent=t}),J(this,"spawn",(t,r)=>{let o=Xe(t);return r&&(o.id=r),o.type="machine.actor",o.setParent(this),this.children.set(o.id,ae(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),ae(De(o))}),J(this,"stopActivity",t=>{if(!this.state.value)return;let r=this.activityEvents.get(this.state.value);r?.get(t)?.(),r?.delete(t)}),J(this,"addActivityCleanup",(t,r,o)=>{t&&(this.activityEvents.has(t)?this.activityEvents.get(t)?.set(r,o):this.activityEvents.set(t,new Map([[r,o]])))}),J(this,"setState",t=>{this.state.previousValue=this.state.value,this.state.value=t;let r=this.getStateNode(t);t==null?en(this.state.tags):this.state.tags=cr(r?.tags)}),J(this,"setContext",t=>{t&&Tm(this.state.context,t)}),J(this,"setOptions",t=>{let r=Me(t);this.actionMap={...this.actionMap,...r.actions},this.delayMap={...this.delayMap,...r.delays},this.activityMap={...this.activityMap,...r.activities},this.guardMap={...this.guardMap,...r.guards}}),J(this,"getStateNode",t=>{if(t)return this.config.states?.[t]}),J(this,"getNextStateInfo",(t,r)=>{let o=this.determineTransition(t,r),i=!o?.target,s=o?.target??this.state.value,a=this.state.value!==s,l=this.getStateNode(s),u={reenter:!i&&!a&&!o?.internal,transition:o,stateNode:l,target:s,changed:a};return this.log("NextState:",`[${r.type}]`,this.state.value,"---->",u.target),u}),J(this,"getAfterActions",(t,r)=>{let o,i=this.state.value;return{entry:()=>{o=globalThis.setTimeout(()=>{let s=this.getNextStateInfo(t,this.state.event);this.performStateChangeEffects(i,s,this.state.event)},r)},exit:()=>{globalThis.clearTimeout(o)}}}),J(this,"getDelayedEventActions",t=>{let r=this.getStateNode(t),o=this.state.event;if(!r||!r.after)return;let i=[],s=[];if(Ze(r.after)){let a=this.determineTransition(r.after,o);if(!a)return;if(!Wt(a,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(a)}`);let c=yi(a.delay,this.delayMap)(this.contextSnapshot,o),u=this.getAfterActions(a,c);return i.push(u.entry),s.push(u.exit),{entries:i,exits:s}}if(Le(r.after))for(let a in r.after){let l=r.after[a],u=yi(a,this.delayMap)(this.contextSnapshot,o),d=this.getAfterActions(l,u);i.push(d.entry),s.push(d.exit)}return{entries:i,exits:s}}),J(this,"executeActions",(t,r)=>{let o=Yl(t,this.guardMap)(this.contextSnapshot,r,this.guardMeta);for(let i of cr(o)){let s=Q(i)?this.actionMap?.[i]:i;Ue(Q(i)&&!s,`[@zag-js/core > execute-actions] No implementation found for action: \`${i}\``),s?.(this.state.context,r,this.meta)}}),J(this,"executeActivities",(t,r,o)=>{for(let i of r){let s=Q(i)?this.activityMap?.[i]:i;if(!s){Ue(`[@zag-js/core > execute-activity] No implementation found for activity: \`${i}\``);continue}let a=s(this.state.context,t,this.meta);if(a){let l=Q(i)?i:i.name||pt();this.addActivityCleanup(o??this.state.value,l,a)}}}),J(this,"createEveryActivities",(t,r)=>{if(t)if(Ze(t)){let o=cr(t).find(l=>{let c=l.delay,d=yi(c,this.delayMap)(this.contextSnapshot,this.state.event);return _m(l.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??d!=null});if(!o)return;let s=yi(o.delay,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let l=globalThis.setInterval(()=>{this.executeActions(o.actions,this.state.event)},s);return()=>{globalThis.clearInterval(l)}})}else for(let o in t){let i=t?.[o],a=yi(o,this.delayMap)(this.contextSnapshot,this.state.event);r(()=>{let c=globalThis.setInterval(()=>{this.executeActions(i,this.state.event)},a);return()=>{globalThis.clearInterval(c)}})}}),J(this,"setEvent",t=>{this.state.previousEvent=this.state.event,this.state.event=De(fn(t))}),J(this,"performExitEffects",(t,r)=>{let o=this.state.value;if(o==="")return;let i=t?this.getStateNode(t):void 0;this.stopActivities(o);let s=Yl(i?.exit,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=cr(s),l=this.delayedEvents.get(o);l&&a.push(...l),this.executeActions(a,r),this.delayedEvents.delete(o)}),J(this,"performEntryEffects",(t,r)=>{let o=this.getStateNode(t),i=cr(o?.activities);this.createEveryActivities(o?.every,c=>{i.unshift(c)}),i.length>0&&this.executeActivities(r,i);let s=Yl(o?.entry,this.guardMap)(this.contextSnapshot,r,this.guardMeta),a=cr(s),l=this.getDelayedEventActions(t);o?.after&&l&&(this.delayedEvents.set(t,l?.exits),a.push(...l.entries)),this.executeActions(a,r),o?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(c=>{c(this.stateSnapshot)}),this.stop())}),J(this,"performTransitionEffects",(t,r)=>{let o=this.determineTransition(t,r);this.executeActions(o?.actions,r)}),J(this,"performStateChangeEffects",(t,r,o)=>{this.setEvent(o);let i=r.changed||r.reenter;i&&this.performExitEffects(t,o),this.performTransitionEffects(r.transition,o),this.setState(r.target),i&&this.performEntryEffects(r.target,o)}),J(this,"determineTransition",(t,r)=>VC(t,this.guardMap)?.(this.contextSnapshot,r,this.guardMeta)),J(this,"sendParent",t=>{this.parent||je("[@zag-js/core > send-parent] Cannot send event to an unknown parent");let r=fn(t);this.parent?.send(r)}),J(this,"log",(...t)=>{nn()&&this.options.debug&&console.log(...t)}),J(this,"send",t=>{let r=fn(t);this.transition(this.state.value,r)}),J(this,"transition",(t,r)=>{let o=Q(t)?this.getStateNode(t):t?.stateNode,i=fn(r);if(!o&&!this.config.on){let l=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${t}, \`event\`: ${i.type}`;Ue(l);return}let s=o?.on?.[i.type]??this.config.on?.[i.type],a=this.getNextStateInfo(s,i);return this.performStateChangeEffects(this.state.value,a,i),a.stateNode}),J(this,"subscribe",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),()=>{this.stateListeners.delete(t)})),J(this,"onDone",t=>(this.doneListeners.add(t),this)),J(this,"onTransition",t=>(this.stateListeners.add(t),this.status==="Running"&&t(this.stateSnapshot),this)),this.config=nt(e),this.options=nt(n??{}),this.id=this.config.id??`machine-${pt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=UC(this.config),this.initialContext=Pe(this.state.context)}get stateSnapshot(){return ae(Pe(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){let e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){return e.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){let e=this.getState();return{value:e.value,tags:e.tags}}},km=(e,n)=>new HC(e,n);var Pm=on("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),Nr=Pm.build(),xe=tr({getPositionerId:e=>e.ids?.positioner??`dialog:${e.id}:positioner`,getBackdropId:e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,getContentId:e=>e.ids?.content??`dialog:${e.id}:content`,getTriggerId:e=>e.ids?.trigger??`dialog:${e.id}:trigger`,getTitleId:e=>e.ids?.title??`dialog:${e.id}:title`,getDescriptionId:e=>e.ids?.description??`dialog:${e.id}:description`,getCloseTriggerId:e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,getContentEl:e=>xe.getById(e,xe.getContentId(e)),getPositionerEl:e=>xe.getById(e,xe.getPositionerId(e)),getBackdropEl:e=>xe.getById(e,xe.getBackdropId(e)),getTriggerEl:e=>xe.getById(e,xe.getTriggerId(e)),getTitleEl:e=>xe.getById(e,xe.getTitleId(e)),getDescriptionEl:e=>xe.getById(e,xe.getDescriptionId(e)),getCloseTriggerEl:e=>xe.getById(e,xe.getCloseTriggerId(e))});function Im(e,n,t){let r=e.context["aria-label"],o=e.matches("open"),i=e.context.renderedElements;return{open:o,setOpen(s){s!==o&&n(s?"OPEN":"CLOSE")},getTriggerProps(){return t.button({...Nr.trigger.attrs,dir:e.context.dir,id:xe.getTriggerId(e.context),"aria-haspopup":"dialog",type:"button","aria-expanded":o,"data-state":o?"open":"closed","aria-controls":xe.getContentId(e.context),onClick(s){s.defaultPrevented||n("TOGGLE")}})},getBackdropProps(){return t.element({...Nr.backdrop.attrs,dir:e.context.dir,hidden:!o,id:xe.getBackdropId(e.context),"data-state":o?"open":"closed"})},getPositionerProps(){return t.element({...Nr.positioner.attrs,dir:e.context.dir,id:xe.getPositionerId(e.context),style:{pointerEvents:o?void 0:"none"}})},getContentProps(){return t.element({...Nr.content.attrs,dir:e.context.dir,role:e.context.role,hidden:!o,id:xe.getContentId(e.context),tabIndex:-1,"data-state":o?"open":"closed","aria-modal":!0,"aria-label":r||void 0,"aria-labelledby":r||!i.title?void 0:xe.getTitleId(e.context),"aria-describedby":i.description?xe.getDescriptionId(e.context):void 0})},getTitleProps(){return t.element({...Nr.title.attrs,dir:e.context.dir,id:xe.getTitleId(e.context)})},getDescriptionProps(){return t.element({...Nr.description.attrs,dir:e.context.dir,id:xe.getDescriptionId(e.context)})},getCloseTriggerProps(){return t.button({...Nr.closeTrigger.attrs,dir:e.context.dir,id:xe.getCloseTriggerId(e.context),type:"button",onClick(s){s.defaultPrevented||(s.stopPropagation(),n("CLOSE"))}})}}}function Am(e){let n=Me(e);return km({id:"dialog",initial:n.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...n},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:t=>!!t["open.controlled"]},activities:{trackDismissableElement(t,r,{send:o}){return Ms(()=>xe.getContentEl(t),{defer:!0,pointerBlocking:t.modal,exclude:[xe.getTriggerEl(t)],onInteractOutside(s){t.onInteractOutside?.(s),t.closeOnInteractOutside||s.preventDefault()},persistentElements:t.persistentElements,onFocusOutside:t.onFocusOutside,onPointerDownOutside:t.onPointerDownOutside,onEscapeKeyDown(s){t.onEscapeKeyDown?.(s),t.closeOnEscape||s.preventDefault()},onDismiss(){o({type:"CLOSE",src:"interact-outside"})}})},preventScroll(t){if(t.preventScroll)return rm(xe.getDoc(t))},trapFocus(t){return!t.trapFocus||!t.modal?void 0:qf(()=>xe.getContentEl(t),{preventScroll:!0,returnFocusOnDeactivate:!!t.restoreFocus,initialFocus:t.initialFocusEl,setReturnFocus:o=>t.finalFocusEl?.()??o})},hideContentBelow(t){return t.modal?tm(()=>[xe.getContentEl(t)],{defer:!0}):void 0}},actions:{setAlertDialogProps(t){t.role==="alertdialog"&&(t.initialFocusEl||(t.initialFocusEl=()=>xe.getCloseTriggerEl(t)),t.closeOnInteractOutside=!1)},checkRenderedElements(t){We(()=>{t.renderedElements.title=!!xe.getTitleEl(t),t.renderedElements.description=!!xe.getDescriptionEl(t)})},syncZIndex(t){We(()=>{let r=xe.getContentEl(t);if(!r)return;let o=bs(r);[xe.getPositionerEl(t),xe.getBackdropEl(t)].forEach(s=>{s?.style.setProperty("--z-index",o.zIndex)})})},invokeOnClose(t){t.onOpenChange?.({open:!1})},invokeOnOpen(t){t.onOpenChange?.({open:!0})},toggleVisibility(t,r,{send:o}){o({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}var zC=Gt()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),gR=xn(zC);var[Om,Hn]=Qe({hookName:"useDialogContext",providerName:"<DialogProvider />"}),Rm=e=>{let n=Hn(),t=Fp(),r=Er(oe(t,()=>({present:n().open}))),o=oe(()=>n().getBackdropProps(),()=>r().presenceProps,e);return h(B,{get when(){return!r().unmounted},get children(){return h(he.div,o)}})},Mm=e=>{let n=Hn(),t=oe(()=>n().getCloseTriggerProps(),e);return h(he.button,t)},Nm=e=>{let n=Hn(),t=or(),r=oe(()=>n().getContentProps(),()=>t().presenceProps,e);return h(B,{get when(){return!t().unmounted},get children(){return h(he.div,r)}})},Dm=e=>e.children(Hn()),$m=e=>{let n=Hn(),t=oe(()=>n().getDescriptionProps(),e);return h(he.div,t)},Lm=e=>{let n=Hn(),t=or(),r=oe(()=>n().getPositionerProps(),e);return h(B,{get when(){return!t().unmounted},get children(){return h(he.div,r)}})},Bm=(e={})=>{let n=fo(),t=Cr(),r=bn(),o=R(()=>({id:r,dir:n().dir,getRootNode:t().getRootNode,open:e.defaultOpen,"open.controlled":e.open!==void 0,...e})),[i,s]=wn(Am(o()),{context:o});return R(()=>Im(i,s,qt))},Fm=e=>{let[n,t]=mo(e),[r]=ri(n),[o,i]=mt()(t,["aria-label","closeOnEscape","closeOnInteractOutside","defaultOpen","finalFocusEl","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),s=Bm(o),a=Er(oe(n,()=>({present:s().open})));return h(Om,{value:s,get children(){return h(Il,{value:r,get children(){return h(go,{value:a,get children(){return i.children}})}})}})},Um=e=>{let[n,t]=mo(e),[r]=ri(n),o=Er(oe(n,()=>({present:t.value().open})));return h(Om,{get value(){return t.value},get children(){return h(Il,{value:r,get children(){return h(go,{value:o,get children(){return t.children}})}})}})},jm=e=>{let n=Hn(),t=oe(()=>n().getTitleProps(),e);return h(he.h2,t)},Vm=e=>{let n=Hn(),t=or(),r=oe(()=>n().getTriggerProps(),()=>({"aria-controls":t().unmounted&&null}),e);return h(he.button,r)},ur={};nr(ur,{Backdrop:()=>Rm,CloseTrigger:()=>Mm,Content:()=>Nm,Context:()=>Dm,Description:()=>$m,Positioner:()=>Lm,Root:()=>Fm,RootProvider:()=>Um,Title:()=>jm,Trigger:()=>Vm});var Pn=Ul({placement:"bottom-end",gap:24});var Fs=e=>Number(e)>=6;function Hm(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(t=Hm(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Zt(){for(var e,n,t=0,r="",o=arguments.length;t<o;t++)(e=arguments[t])&&(n=Hm(e))&&(r&&(r+=" "),r+=n);return r}var fe=Zt;var zm=`#lite-badge {
  position: absolute !important;
  padding: 4px 8px !important;
  background-color: white !important;
  z-index: 50 !important;
  border-radius: 4px !important;
  color: rgb(17 24 39) !important;
  gap: 8px !important;
  font-size: 14px !important;
  line-height: 20px !important;
  font-weight: 600 !important;
  border-width: 1px !important;
  border-color: #cecece !important;
  /* Make sure the badge is always displayed */
  opacity: 1 !important;
  visibility: visible !important;
  display: flex !important;
  top: auto !important;
  right: auto !important;
  left: auto !important;
  bottom: 20px !important;
  transition: background-color 0.2s ease-in-out !important;
  text-decoration: none !important;
  transform: none !important;
}

#lite-badge:hover {
  background-color: #fefcfb !important;
}
`;var Xl=async({apiHost:e,message:n,sessionId:t})=>{try{return{data:await Zn.post(`${Ce(e)?e:Ot()}/api/v1/sessions/${t}/continueChat`,{json:{message:n},timeout:!1}).json()}}catch(r){return{error:r}}};var Zl=async({apiHost:e,sessionId:n,clientLogs:t})=>{try{await Zn.post(`${Ce(e)?e:Ot()}/api/v2/sessions/${n}/clientLogs`,{json:{clientLogs:t}})}catch(r){console.log(r)}};var Wm=({initialTheme:e,dynamicTheme:n})=>{let t=rs(e,n),r=[];return t.host&&r.push({role:"host",chunkIndex:0,avatarUrl:t.host}),t.guest&&r.push({role:"guest",chunkIndex:0,avatarUrl:t.guest}),r},Us=({avatarHistory:e,currentIndex:n,currentRole:t})=>{let r=e.filter(o=>o.role===t&&o.chunkIndex<=n).sort((o,i)=>i.chunkIndex-o.chunkIndex);if(r.length>0)return r[0].avatarUrl},Gm=({newAvatars:e,avatarHistory:n,currentChunkIndex:t})=>{let r=n.findLast(s=>s.role==="host")?.avatarUrl,o=n.findLast(s=>s.role==="guest")?.avatarUrl,i=[...n];return e.host!==r&&i.push({role:"host",chunkIndex:t,avatarUrl:e.host}),e.guest!==o&&i.push({role:"guest",chunkIndex:t,avatarUrl:e.guest}),i};var dr=async({err:e,context:n})=>{try{return typeof e=="string"?{context:n,description:e,details:void 0}:e instanceof Error?"response"in e&&typeof e.response=="object"&&e.response&&"text"in e.response&&typeof e.response.text=="function"?{context:n,description:e.message,details:JSON.stringify(await e.response.text())}:{context:n,description:e.message,details:typeof e.cause=="string"?e.cause:JSON.stringify(e.cause)}:{context:n,description:JSON.stringify(e)}}catch{return{context:n,description:"Unknown error (failed to parse)"}}};var qm=Object.getPrototypeOf(async()=>{}).constructor,js=async({content:e,args:n})=>{try{let r=await qm(...n.map(o=>o.id),qC(e))(...n.map(o=>o.value));if(r&&typeof r=="string")return{scriptCallbackMessage:r}}catch(t){return console.log(t),{logs:[await dr({err:t,context:"While executing script"})]}}},qC=e=>e.replace(/<script>/g,"").replace(/<\/script>/g,""),bi=async({args:e,content:n})=>{try{let r=await qm(...Object.keys(e),n)(...Object.keys(e).map(o=>e[o]));if(r&&typeof r=="string")return{scriptCallbackMessage:r}}catch(t){console.warn("Script threw an error:",t)}};var To="Chatwoot Web Widget Opened";var Km=e=>(js(e.scriptToExecute),{scriptCallbackMessage:To});var Ym=e=>re(window.gtag)?Promise.resolve():new Promise(n=>{let t=document.getElementById("gtag");if(!t){let r=document.createElement("script");r.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,r.id="gtag";let o=document.createElement("script");o.innerHTML=`window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', '${e}');
      `,document.body.appendChild(r),document.body.appendChild(o),r.onload=()=>{n()}}t&&n()}),Xm=e=>{if(e){if(!window.gtag){console.error("Google Analytics was not properly initialized");return}window.gtag("event",e.action,{event_category:ze(e.category)?void 0:e.category,event_label:ze(e.label)?void 0:e.label,value:e.value,send_to:ze(e.sendTo)?void 0:e.sendTo})}};var Zm=async e=>{e?.trackingId&&Xm(e)};var Jm=async e=>{let{url:n,method:t,body:r,headers:o}=e;try{let i=await fetch(n,{method:t,body:t!=="GET"&&r?JSON.stringify(r):void 0,headers:o}),s=i.status,a=await i.json();return JSON.stringify({statusCode:s,data:a})}catch(i){return console.error(i),JSON.stringify({statusCode:500,data:"An error occured while executing the webhook on the client"})}};var KC=Symbol("Let zodToJsonSchema decide on which parser to use");var NM=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var xi={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},wi={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Si={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(n=>n!=null&&typeof n=="object"&&"type"in n&&n.type==="text"&&"text"in n&&n.text!=null&&typeof n.text=="object"&&"value"in n.text&&typeof n.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Ci={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Ti={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},JC=[xi,wi,Si,Ci,Ti],yD={[xi.code]:xi,[wi.code]:wi,[Si.code]:Si,[Ci.code]:Ci,[Ti.code]:Ti},bD={[xi.name]:xi.code,[wi.name]:wi.code,[Si.name]:Si.code,[Ci.name]:Ci.code,[Ti.name]:Ti.code},vD=JC.map(e=>e.code);var QC={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},eT={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},tT={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},nT={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},rT={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},oT={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},iT={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},sT={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},aT={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let n={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(n.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:n}}},lT={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let n={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(n.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(n.isContinued=e.isContinued),{type:"finish_step",value:n}}},cT={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},uT={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},dT={code:"h",name:"source",parse:e=>{if(e==null||typeof e!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},pT={code:"i",name:"redacted_reasoning",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},fT={code:"j",name:"reasoning_signature",parse:e=>{if(e==null||typeof e!="object"||!("signature"in e)||typeof e.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},Jl=[QC,eT,tT,nT,rT,oT,iT,sT,aT,lT,cT,uT,dT,pT,fT],hT=Object.fromEntries(Jl.map(e=>[e.code,e])),xD=Object.fromEntries(Jl.map(e=>[e.name,e.code])),mT=Jl.map(e=>e.code),gT=e=>{let n=e.indexOf(":");if(n===-1)throw new Error("Failed to parse stream string. No separator found.");let t=e.slice(0,n);if(!mT.includes(t))throw new Error(`Failed to parse stream string. Invalid code ${t}.`);let r=t,o=e.slice(n+1),i=JSON.parse(o);return hT[r].parse(i)};var yT=10;function bT(e,n){let t=new Uint8Array(n),r=0;for(let o of e)t.set(o,r),r+=o.length;return e.length=0,t}async function Qm({stream:e,onTextPart:n,onReasoningPart:t,onReasoningSignaturePart:r,onRedactedReasoningPart:o,onSourcePart:i,onDataPart:s,onErrorPart:a,onToolCallStreamingStartPart:l,onToolCallDeltaPart:c,onToolCallPart:u,onToolResultPart:d,onMessageAnnotationsPart:p,onFinishMessagePart:f,onFinishStepPart:g,onStartStepPart:m}){let v=e.getReader(),b=new TextDecoder,S=[],E=0;for(;;){let{value:T}=await v.read();if(T&&(S.push(T),E+=T.length,T[T.length-1]!==yT))continue;if(S.length===0)break;let k=bT(S,E);E=0;let L=b.decode(k,{stream:!0}).split(`
`).filter(_=>_!=="").map(gT);for(let{type:_,value:M}of L)switch(_){case"text":await n?.(M);break;case"reasoning":await t?.(M);break;case"reasoning_signature":await r?.(M);break;case"redacted_reasoning":await o?.(M);break;case"source":await i?.(M);break;case"data":await s?.(M);break;case"error":await a?.(M);break;case"message_annotations":await p?.(M);break;case"tool_call_streaming_start":await l?.(M);break;case"tool_call_delta":await c?.(M);break;case"tool_call":await u?.(M);break;case"tool_result":await d?.(M);break;case"finish_message":await f?.(M);break;case"finish_step":await g?.(M);break;case"start_step":await m?.(M);break;default:{let W=_;throw new Error(`Unknown stream part type: ${W}`)}}}}var SD=Symbol.for("vercel.ai.schema");var Vs=null,vT=3,xT=1,Ql=e=>async({messages:n,onMessageStream:t,onError:r})=>{try{Vs=new AbortController;let o=e.apiHost,i=await fetch((Ce(o)?o:Ot())+`/api/v2/sessions/${e.sessionId}/streamMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:n}),signal:Vs.signal});if(!i.ok)return(e.retryAttempt??0)<xT&&(i.status===403||i.status===500||i.status===503)?(await new Promise(l=>setTimeout(l,vT*1e3)),Ql({...e,retryAttempt:(e.retryAttempt??0)+1})({messages:n,onMessageStream:t})):{error:{description:"Failed to fetch chat streaming",details:await i.text(),context:"While streaming chat"}};if(!i.body)return{error:{description:"The chat stream response body is empty"}};let s="",a=bn();return await Qm({stream:i.body,onTextPart:async l=>{s+=l,t&&t({id:a,message:s})},onErrorPart:l=>{r?.(JSON.parse(l))}}),Vs=null,{message:s}}catch(o){return console.error(o),o.name==="AbortError"?(Vs=null,{error:{description:"Request aborted"}}):{error:await dr({err:o,context:"While streaming chat"})}}};var eg=e=>{let n=document.createElement("script");n.innerHTML=`!function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  ${e.map(t=>`fbq('init', '${t}');`).join(`
`)}
  fbq('track', 'PageView');`,document.head.appendChild(n)},tg=e=>{if(!e?.eventType||!e.pixelId)return;if(!window.fbq){console.error("Facebook Pixel was not properly initialized");return}let n=e.params?.length?e.params.reduce((t,r)=>!r.key||!r.value?t:{...t,[r.key]:r.value},{}):void 0;if(e.eventType==="Custom"){if(!e.name)return;window.fbq("trackSingleCustom",e.pixelId,e.name,n)}window.fbq("trackSingle",e.pixelId,e.eventType,n)};var ng=async e=>{ze(e?.pixelId)||tg(e)};var rg=({url:e,isNewTab:n}={})=>{if(!e)return;if(!window.open(e,n?"_blank":"_top"))return{blockedPopupUrl:e}};var ec=e=>{if(Ye(e))return null;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return console.warn("Failed to safely stringify variable value",e),null}};var wT=Object.getPrototypeOf(async()=>{}).constructor,og=async({content:e,args:n,isCode:t})=>{try{if(!isNaN(e)&&/0[^.].+/.test(e))return{replyToSend:e};let o=await wT(...n.map(i=>i.id),e.includes("return ")?e:`return ${e}`)(...n.map(i=>i.value));return{replyToSend:ec(o)??void 0}}catch(r){return console.error(r),{replyToSend:ec(e)??void 0,logs:t?[await dr({err:r,context:"While executing set variable"})]:void 0}}};var ig=async({secondsToWaitFor:e})=>{await new Promise(n=>setTimeout(n,e*1e3))};var ST="partykit.typebot.io",sg=e=>e??Qt("NEXT_PUBLIC_PARTYKIT_HOST")??ST;(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var lg=class extends Event{message;error;constructor(e,n){super("error",n),this.message=e.message,this.error=e}},cg=class extends Event{code;reason;wasClean=!0;constructor(e=1e3,n="",t){super("close",t),this.code=e,this.reason=n}},tc={Event,ErrorEvent:lg,CloseEvent:cg};function CT(e,n){if(!e)throw new Error(n)}function TT(e){return new e.constructor(e.type,e)}function ET(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new cg(e.code||1999,e.reason||"unknown reason",e):"error"in e?new lg(e.error,e):new Event(e.type,e)}var _T=typeof process<"u"&&typeof process.versions?.node<"u"&&typeof document>"u",Hs=_T?ET:TT,Dr={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},ag=!1,nc=class $r extends EventTarget{_ws;_retryCount=-1;_uptimeTimeout;_connectTimeout;_shouldReconnect=!0;_connectLock=!1;_binaryType="blob";_closeCalled=!1;_messageQueue=[];_debugLogger=console.log.bind(console);_url;_protocols;_options;constructor(n,t,r={}){super(),this._url=n,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return $r.CONNECTING}get OPEN(){return $r.OPEN}get CLOSING(){return $r.CLOSING}get CLOSED(){return $r.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,r)=>(typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?$r.CLOSED:$r.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}onclose=null;onerror=null;onmessage=null;onopen=null;close(n=1e3,t){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,t)}reconnect(n,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,t),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{let{maxEnqueuedMessages:t=Dr.maxEnqueuedMessages}=this._options;this._messageQueue.length<t&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){let{reconnectionDelayGrowFactor:n=Dr.reconnectionDelayGrowFactor,minReconnectionDelay:t=Dr.minReconnectionDelay,maxReconnectionDelay:r=Dr.maxReconnectionDelay}=this._options,o=0;return this._retryCount>0&&(o=t*Math.pow(n,this._retryCount-1),o>r&&(o=r)),this._debug("next delay",o),o}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){let t=n();if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(t.then)return t}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){let t=n();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;let{maxRetries:n=Dr.maxRetries,connectionTimeout:t=Dr.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([r,o])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!ag&&(console.error(`\u203C\uFE0F No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),ag=!0);let i=this._options.WebSocket||WebSocket;this._debug("connect",{url:r,protocols:o}),this._ws=o?new i(r,o):new i(r),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),t)}).catch(r=>{this._connectLock=!1,this._handleError(new tc.ErrorEvent(Error(r.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new tc.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,t){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(n,t),this._handleClose(new tc.CloseEvent(n,t,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_handleOpen=n=>{this._debug("open event");let{minUptime:t=Dr.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),t),CT(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(r=>this._ws?.send(r)),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(Hs(n))};_handleMessage=n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(Hs(n))};_handleError=n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(Hs(n)),this._connect()};_handleClose=n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(Hs(n))};_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};var kT=e=>e[1]!==null&&e[1]!==void 0;function PT(){if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();let e=new Date().getTime(),n=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(n+r)%16|0,n=Math.floor(n/16)),(t==="x"?r:r&3|8).toString(16)})}function dg(e,n,t={}){let{host:r,path:o,protocol:i,room:s,party:a,prefix:l,query:c}=e,u=r.replace(/^(http|https|ws|wss):\/\//,"");if(u.endsWith("/")&&(u=u.slice(0,-1)),o&&o.startsWith("/"))throw new Error("path must not start with a slash");let d=a??"main",p=o?`/${o}`:"",f=i||(u.startsWith("localhost:")||u.startsWith("127.0.0.1:")||u.startsWith("192.168.")||u.startsWith("10.")||u.startsWith("172.")&&u.split(".")[1]>="16"&&u.split(".")[1]<="31"||u.startsWith("[::ffff:7f00:1]:")?n:n+"s"),g=`${f}://${u}/${l||`parties/${d}/${s}`}${p}`,m=(b={})=>`${g}?${new URLSearchParams([...Object.entries(t),...Object.entries(b).filter(kT)])}`,v=typeof c=="function"?async()=>m(await c()):m(c);return{host:u,path:p,room:s,name:d,protocol:f,partyUrl:g,urlProvider:v}}var rc=class extends nc{constructor(e){let n=ug(e);super(n.urlProvider,n.protocols,n.socketOptions),this.partySocketOptions=e,this.setWSProperties(n)}_pk;_pkurl;name;room;host;path;updateProperties(e){let n=ug({...this.partySocketOptions,...e,host:e.host??this.host,room:e.room??this.room,path:e.path??this.path});this._url=n.urlProvider,this._protocols=n.protocols,this._options=n.socketOptions,this.setWSProperties(n)}setWSProperties(e){let{_pk:n,_pkurl:t,name:r,room:o,host:i,path:s}=e;this._pk=n,this._pkurl=t,this.name=r,this.room=o,this.host=i,this.path=s}reconnect(e,n){if(!this.room||!this.host)throw new Error("The room and host must be set before connecting, use `updateProperties` method to set them or pass them to the constructor.");super.reconnect(e,n)}get id(){return this._pk}get roomUrl(){return this._pkurl}static async fetch(e,n){let t=dg(e,"http"),r=typeof t.urlProvider=="string"?t.urlProvider:await t.urlProvider();return(e.fetch??fetch)(r,n)}};function ug(e){let{id:n,host:t,path:r,party:o,room:i,protocol:s,query:a,protocols:l,...c}=e,u=n||PT(),d=dg(e,"ws",{_pk:u});return{_pk:u,_pkurl:d.partyUrl,name:d.name,room:d.room,host:d.host,path:d.path,protocols:l,socketOptions:c,urlProvider:d.urlProvider}}var pg=({sessionId:e,resultId:n,context:t})=>{let r=new rc({host:sg(t.wsHost),room:IT({sessionId:e,resultId:n})});return new Promise(o=>{r.addEventListener("message",i=>{r.close(),o({replyToSend:i.data})}),r.addEventListener("error",i=>{o({logs:[{status:"error",description:"Websocket returned an error",details:JSON.stringify(i,null,2)}],replyToSend:void 0})})})},IT=({sessionId:e,resultId:n})=>{if(n)return`${n}/webhooks`;let[t,r]=e.split("-");return`${r}/${t}/webhooks`};var fg=e=>{if(document.getElementById("gtm-noscript"))return"";let n=document.createElement("noscript");n.id="gtm-noscript";let t=document.createElement("iframe");return t.src=`https://www.googletagmanager.com/ns.html?id=${e}`,t.height="0",t.width="0",t.style.display="none",t.style.visibility="hidden",n.appendChild(t),n};var hg=async e=>{let n=e.customHeadCode;Ce(n)&&Ju(n);let t=e.gtmId;Ce(t)&&document.body.prepend(fg(t));let r=e.googleAnalyticsId;Ce(r)&&await Ym(r);let o=e.pixelIds;re(o)&&eg(o)};var mg=async({clientSideAction:e,context:n,onMessageStream:t,onStreamError:r})=>{if("chatwoot"in e)return Km(e.chatwoot);if("googleAnalytics"in e)return Zm(e.googleAnalytics);if("scriptToExecute"in e)return js(e.scriptToExecute);if("redirect"in e)return rg(e.redirect);if("wait"in e)return await ig(e.wait),e.expectsDedicatedReply?{replyToSend:void 0}:void 0;if("setVariable"in e)return og(e.setVariable.scriptToExecute);if("streamOpenAiChatCompletion"in e||"stream"in e){let{error:o,message:i}=await Ql(n)({messages:"streamOpenAiChatCompletion"in e?e.streamOpenAiChatCompletion?.messages:void 0,onMessageStream:t,onError:r});return o?{replyToSend:void 0,logs:[{status:"error",description:"Message streaming returned an error",details:JSON.stringify(o,null,2)}]}:{replyToSend:i}}if("httpRequestToExecute"in e)return{replyToSend:await Jm(e.httpRequestToExecute)};if("startPropsToInject"in e)return hg(e.startPropsToInject);if("pixel"in e)return ng(e.pixel);if("codeToExecute"in e)return bi(e.codeToExecute);if(e.type==="listenForWebhook")return pg({sessionId:n.sessionId,resultId:n.resultId,context:n})};var[zs,oc]=P([]);var gg=e=>e.type==="text"?e.label??e.value:e.url;var[Ws,yg]=P({});var[ic,sc]=P();var bg="6.1";var AT=w('<svg><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),Gs=e=>(()=>{var n=AT();return Se(n,we(e,{get class(){return"animate-spin h-6 w-6 "+e.class},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-testid":"loading-spinner"}),!0,!0),n})();var OT=w("<button>"),hn=e=>{let n=Gi(()=>e.children),[t,r]=qe(e,["variant","isDisabled","isLoading"]);return(()=>{var o=OT();return Se(o,we(r,{get disabled(){return t.isDisabled||t.isLoading},get class(){return fe("py-2 px-4 font-semibold focus:outline-none filter hover:brightness-90 active:brightness-75 disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 flex justify-center flex-shrink-0",t.variant==="secondary"?" secondary-button":" typebot-button",r.class)}}),!1,!0),x(o,h(B,{get when(){return!t.isLoading},get fallback(){return h(Gs,{})},get children(){return n()}})),o})()};var RT=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>'),In=e=>(()=>{var n=RT();return Se(n,e,!0,!0),n})();var MT=w('<button class="w-5 h-5">'),NT=w('<div class="flex justify-between items-center gap-2 w-full pr-4"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"type=text>'),pr=e=>{let[n,t]=P(""),[r,o]=qe(e,["onInput","ref"]),i=a=>{t(a),r.onInput(a)},s=()=>{t(""),e.onClear()};return(()=>{var a=NT(),l=a.firstChild;l.$$input=u=>i(u.currentTarget.value);var c=e.ref;return typeof c=="function"?pe(c,l):e.ref=l,Se(l,we({get value(){return n()}},o),!1,!1),x(a,h(B,{get when(){return n().length>0},get children(){var u=MT();return He(u,"click",s),x(u,h(In,{})),u}}),null),a})()};Ve(["input"]);var ht="Send";var Eo={buttonLabel:ht,searchInputPlaceholder:"Filter the options...",isMultipleChoice:!1,isSearchable:!1,areInitialSearchButtonsVisible:!0};var DT=w('<div class="flex items-end typebot-input w-full">'),$T=w('<div class="flex flex-col items-end gap-2 w-full typebot-buttons-input"><div data-slot=list>'),LT=w("<span>"),BT=w('<span class="flex h-3 w-3 absolute top-0 right-0 -mt-1 -mr-1 ping"><span class="animate-ping absolute inline-flex h-full w-full rounded-full brightness-200 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 brightness-150">'),vg=e=>{let n,t=e.options?.areInitialSearchButtonsVisible??Eo.areInitialSearchButtonsVisible,[r,o]=P(e.options?.isSearchable&&!t?[]:e.defaultItems);se(()=>{!G()&&n&&n.focus({preventScroll:!0})});let i=a=>e.onSubmit({type:"text",value:r()[a]?.content??""}),s=a=>{if(a===""||a.trim().length===0){o(t?e.defaultItems:[]);return}o(e.defaultItems.filter(l=>l.content?.toLowerCase().includes(a.toLowerCase())))};return(()=>{var a=$T(),l=a.firstChild;return x(a,h(B,{get when(){return e.options?.isSearchable},get children(){var c=DT();return x(c,h(pr,{ref(u){var d=n;typeof d=="function"?d(u):n=u},onInput:s,get placeholder(){return e.options?.searchInputPlaceholder??Eo.searchInputPlaceholder},onClear:()=>o(t?e.defaultItems:[])})),c}}),l),x(l,h(ye,{get each(){return r()},children:(c,u)=>(()=>{var d=LT();return x(d,h(hn,{"on:click":()=>i(u()),get"data-itemid"(){return c.id},class:"w-full",get children(){return c.content}}),null),x(d,(()=>{var p=R(()=>e.chunkIndex===0&&e.defaultItems.length===1);return()=>p()&&BT()})(),null),I(()=>D(d,"relative"+(G()?" w-full":""))),d})()})),I(()=>D(l,"flex justify-end gap-2"+(e.options?.isSearchable?" overflow-y-scroll max-h-80 rounded-md":""))),a})()};var FT=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"width=19px color=white><path d="M476.59 227.05l-.16-.07L49.35 49.84A23.56 23.56 0 0027.14 52 24.65 24.65 0 0016 72.59v113.29a24 24 0 0019.52 23.57l232.93 43.07a4 4 0 010 7.86L35.53 303.45A24 24 0 0016 327v113.31A23.57 23.57 0 0026.59 460a23.94 23.94 0 0013.22 4 24.55 24.55 0 009.52-1.93L476.4 285.94l.19-.09a32 32 0 000-58.8z">'),xg=e=>(()=>{var n=FT();return Se(n,e,!0,!0),n})();var Ge=e=>{let[n,t]=qe(e,["isDisabled","isLoading","disableIcon"]),r=G()&&!n.disableIcon||!t.children||typeof t.children=="string"&&ze(t.children);return h(hn,we(t,{type:"submit",get class(){return fe(t.class,"flex items-center")},"aria-label":r?"Send":void 0,get children(){return h(ke,{get children(){return[h(V,{when:r,get children(){return h(xg,{get class(){return"send-icon flex w-6 h-6 "+(n.disableIcon?"hidden":"")}})}}),h(V,{when:!r,get children(){return e.children}})]}})}}))};var UT=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=3px stroke-linecap=round stroke-linejoin=round><polyline points="20 6 9 17 4 12">'),wg=e=>(()=>{var n=UT();return Se(n,e,!0,!0),n})();var jT=w("<div>"),_o=e=>(()=>{var n=jT();return x(n,h(B,{get when(){return e.isChecked},get children(){return h(wg,{})}})),I(()=>D(n,"w-4 h-4 typebot-checkbox"+(e.isChecked?" checked":"")+(e.class?` ${e.class}`:""))),n})();var VT=w('<div class="flex items-end typebot-input w-full">'),HT=w('<form class="flex flex-col items-end gap-2 w-full typebot-buttons-input"><div data-slot=list>'),zT=w('<span><div role=checkbox><div class="flex items-center gap-2"><span>'),WT=w('<span><div role=checkbox aria-checked class="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable selected"><div class="flex items-center gap-2"><span>'),Sg=e=>{let n,[t,r]=P(e.options?.isSearchable&&!e.options?.areInitialSearchButtonsVisible?[]:e.defaultItems),[o,i]=P([]);se(()=>{!G()&&n&&n.focus({preventScroll:!0})});let s=u=>{a(u)},a=u=>{let d=o().indexOf(u);i(d!==-1?p=>p.filter(f=>f!==u):p=>[...p,u])},l=()=>e.onSubmit({type:"text",value:o().map(u=>e.defaultItems.find(d=>d.id===u)?.content).join(", ")}),c=u=>{if(u===""||u.trim().length===0){r(e.options?.areInitialSearchButtonsVisible?e.defaultItems:[]);return}r(e.defaultItems.filter(d=>d.content?.toLowerCase().includes(u.toLowerCase())))};return(()=>{var u=HT(),d=u.firstChild;return u.addEventListener("submit",l),x(u,h(B,{get when(){return e.options?.isSearchable},get children(){var p=VT();return x(p,h(pr,{ref(f){var g=n;typeof g=="function"?g(f):n=f},onInput:c,get placeholder(){return e.options?.searchInputPlaceholder??Eo.searchInputPlaceholder},onClear:()=>r(e.options?.areInitialSearchButtonsVisible?e.defaultItems:[])})),p}}),d),x(d,h(ye,{get each(){return t()},children:p=>(()=>{var f=zT(),g=f.firstChild,m=g.firstChild,v=m.firstChild;return He(g,"click",()=>s(p.id)),x(m,h(_o,{get isChecked(){return o().some(b=>b===p.id)},class:"flex-shrink-0"}),v),x(v,()=>p.content),I(b=>{var S="relative"+(G()?" w-full":""),E=o().some(L=>L===p.id),T="w-full py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable"+(o().some(L=>L===p.id)?" selected":""),k=p.id;return S!==b.e&&D(f,b.e=S),E!==b.t&&F(g,"aria-checked",b.t=E),T!==b.a&&D(g,b.a=T),k!==b.o&&F(g,"data-itemid",b.o=k),b},{e:void 0,t:void 0,a:void 0,o:void 0}),f})()}),null),x(d,h(ye,{get each(){return o().filter(p=>t().every(f=>f.id!==p))},children:p=>(()=>{var f=WT(),g=f.firstChild,m=g.firstChild,v=m.firstChild;return He(g,"click",()=>s(p)),F(g,"data-itemid",p),x(m,h(_o,{isChecked:!0}),v),x(v,()=>e.defaultItems.find(b=>b.id===p)?.content),I(()=>D(f,"relative"+(G()?" w-full":""))),f})()}),null),x(u,(()=>{var p=R(()=>o().length>0);return()=>p()&&h(Ge,{disableIcon:!0,get children(){return e.options?.buttonLabel??Eo.buttonLabel}})})(),null),I(()=>D(d,"flex justify-end gap-2"+(e.options?.isSearchable?" overflow-y-scroll max-h-80 rounded-md":""))),u})()};var ac={hasTime:!1,isRange:!1,labels:{button:ht,from:"From:",to:"To:"},format:"dd/MM/yyyy",formatWithTime:"dd/MM/yyyy HH:mm"};var GT=w('<div class="typebot-input-form flex gap-2 items-end"><form><div class="flex flex-col"><div><input class="focus:outline-none flex-1 w-full text-input typebot-datetime-input"data-testid=from-date>'),Cg=w("<p class=font-semibold>"),qT=w('<div class="flex items-center p-4"><input class="focus:outline-none flex-1 w-full text-input ml-2 typebot-datetime-input"data-testid=to-date>'),Tg=e=>{let[n,t]=P(KT(e.defaultValue??"")),r=()=>{n().from===""&&n().to===""||e.onSubmit({type:"text",value:`${n().from}${e.options?.isRange?` to ${n().to}`:""}`})};return(()=>{var o=GT(),i=o.firstChild,s=i.firstChild,a=s.firstChild,l=a.firstChild;return i.addEventListener("submit",c=>{c.preventDefault(),r()}),x(a,(()=>{var c=R(()=>!!e.options?.isRange);return()=>c()&&(()=>{var u=Cg();return x(u,()=>e.options.labels?.from??ac.labels.from),u})()})(),l),l.addEventListener("change",c=>t({...n(),from:c.currentTarget.value})),l.style.setProperty("min-height","32px"),l.style.setProperty("min-width","100px"),l.style.setProperty("font-size","16px"),x(s,(()=>{var c=R(()=>!!e.options?.isRange);return()=>c()&&(()=>{var u=qT(),d=u.firstChild;return x(u,(()=>{var p=R(()=>!!e.options.isRange);return()=>p()&&(()=>{var f=Cg();return x(f,()=>e.options.labels?.to??ac.labels.to),f})()})(),d),d.addEventListener("change",p=>t({...n(),to:p.currentTarget.value})),d.style.setProperty("min-height","32px"),d.style.setProperty("min-width","100px"),d.style.setProperty("font-size","16px"),I(p=>{var f=e.options.hasTime?"datetime-local":"date",g=e.options?.min,m=e.options?.max;return f!==p.e&&F(d,"type",p.e=f),g!==p.t&&F(d,"min",p.t=g),m!==p.a&&F(d,"max",p.a=m),p},{e:void 0,t:void 0,a:void 0}),I(()=>d.value=n().to),u})()})(),null),x(o,h(Ge,{class:"h-[56px]","on:click":r,get children(){return e.options?.labels?.button}}),null),I(c=>{var u=fe("flex typebot-input",e.options?.isRange?"items-end":"items-center"),d="flex items-center p-4 "+(e.options?.isRange?"pb-0 gap-2":""),p=e.options?.hasTime?"datetime-local":"date",f=e.options?.min,g=e.options?.max;return u!==c.e&&D(i,c.e=u),d!==c.t&&D(a,c.t=d),p!==c.a&&F(l,"type",c.a=p),f!==c.o&&F(l,"min",c.o=f),g!==c.i&&F(l,"max",c.i=g),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),I(()=>l.value=n().from),o})()},KT=e=>{if(!e.includes("to"))return{from:e,to:""};let[n,t]=e.split(" to ");return{from:n,to:t}};var YT=w('<input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"type=text>'),fr=e=>{let[n,t]=qe(e,["ref","onInput"]);return(()=>{var r=YT();r.$$input=i=>n.onInput(i.currentTarget.value);var o=e.ref;return typeof o=="function"?pe(o,r):e.ref=r,Se(r,t,!1,!1),r})()};Ve(["input"]);var Eg={labels:{button:ht,placeholder:"Type your email..."},retryMessageContent:"This email doesn't seem to be valid. Can you type it again?"};var XT=w('<div class="typebot-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex typebot-input w-full">'),_g=e=>{let[n,t]=P(e.defaultValue??""),r,o=c=>t(c),i=()=>r?.value!==""&&r?.reportValidity(),s=()=>{i()?e.onSubmit({type:"text",value:r?.value??n()}):r?.focus()},a=c=>{c.key==="Enter"&&s()};se(()=>{!G()&&r&&r.focus({preventScroll:!0}),window.addEventListener("message",l)}),le(()=>{window.removeEventListener("message",l)});let l=c=>{let{data:u}=c;u.isFromTypebot&&u.command==="setInputValue"&&t(u.value)};return(()=>{var c=XT(),u=c.firstChild;return c.$$keydown=a,x(u,h(fr,{ref(d){var p=r;typeof p=="function"?p(d):r=d},get value(){return n()},get placeholder(){return e.block.options?.labels?.placeholder??Eg.labels.placeholder},onInput:o,type:"email",autocomplete:"email"})),x(c,h(Ge,{type:"button",class:"h-[56px]","on:click":s,get children(){return e.block.options?.labels?.button}}),null),c})()};Ve(["keydown"]);var mn={isRequired:!0,isMultipleAllowed:!1,visibility:"Auto",labels:{placeholder:`<strong>
      Click to upload
    </strong> or drag and drop<br>
    (size limit: 10MB)`,button:"Upload",clear:"Clear",skip:"Skip",success:{single:"File uploaded",multiple:"{total} files uploaded"}}};var qs=({newFile:e,existingFiles:n,params:t,context:r,onError:o})=>{let i=t.sizeLimit??Qt("NEXT_PUBLIC_BOT_FILE_UPLOAD_MAX_SIZE");if(i&&e.size>Number(i)*1024*1024){o({description:(r.typebot.settings.general?.systemMessages?.fileUploadSizeError??Jn.fileUploadSizeError).replace("[[file]]",e.name).replace("[[limit]]",i)});return}if(n.length===0)return e;let s=e.name,a=1;for(;n.some(l=>l.name===s);){let l=e.name.lastIndexOf("."),c=l!==-1?e.name.slice(l):"";s=`${e.name.slice(0,l)}(${a})${c}`,a++}return new File([e],s,{type:e.type})};var ko=async({apiHost:e,files:n,onUploadProgress:t})=>{let r=[],o=0;for(let{input:i,file:s}of n){t&&t({progress:o/n.length*100,fileIndex:o}),o+=1;let{data:a}=await Zu({method:"POST",url:`${e}/api/v3/generate-upload-url`,body:{fileName:i.fileName,sessionId:i.sessionId,fileType:s.type,blockId:i.blockId}});if(a?.presignedUrl){let l=new FormData;if(Object.entries(a.formData).forEach(([u,d])=>{l.append(u,d)}),l.append("file",s),!(await fetch(a.presignedUrl,{method:"POST",body:l})).ok)continue;r.push({url:a.fileUrl,type:s.type})}else continue}return r};var ZT=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4">'),Ks=e=>(()=>{var n=ZT();return Se(n,e,!0,!0),n})();var JT=w('<div class="flex items-center gap-4 border bg-white border-gray-200 rounded-md p-2 text-gray-900 min-w-[250px]"><div></div><div class="flex flex-col"><span class="text-md font-semibold text-sm"></span><span class="text-gray-500 text-xs">'),Ys=e=>{let n=eE(e.file);return(()=>{var t=JT(),r=t.firstChild,o=r.nextSibling,i=o.firstChild,s=i.nextSibling;return x(r,h(Ks,{class:"w-6 h-6"})),x(i,()=>e.file.name),x(s,()=>QT(e.file)),I(()=>D(r,fe("rounded-md text-white p-2 flex items-center",n==="pink"&&"bg-pink-400",n==="blue"&&"bg-blue-400",n==="green"&&"bg-green-400",n==="gray"&&"bg-gray-400",n==="orange"&&"bg-orange-400"))),t})()},QT=e=>{switch(e.name.split(".").pop()){case"pdf":return"PDF";case"doc":case"docx":return"Word";case"xls":case"xlsx":case"csv":return"Sheet";case"json":return"JSON";case"md":return"Markdown";default:return"DOCUMENT"}},eE=e=>{let n=e.name.split(".").pop();if(!n)return"gray";switch(n){case"pdf":return"pink";case"doc":case"docx":return"blue";case"xls":case"xlsx":case"csv":return"green";case"json":return"orange";default:return"gray"}};var tE=w('<img class="rounded-md object-cover w-[58px] h-[58px]">'),nE=w('<div class="relative group flex-shrink-0"><button class="absolute -right-2 p-0.5 -top-2 rounded-full bg-gray-200 text-black border border-gray-400 opacity-1 sm:opacity-0 group-hover:opacity-100 transition-opacity"aria-label="Remove attachment">'),rE=w('<div class="absolute w-full h-full inset-0 bg-black/20 rounded-md">'),Xs=e=>(()=>{var n=nE(),t=n.firstChild;return x(n,h(ke,{get children(){return[h(V,{get when(){return e.file.type.startsWith("image")},get children(){var r=tE();return I(o=>{var i=URL.createObjectURL(e.file),s=e.file.name;return i!==o.e&&F(r,"src",o.e=i),s!==o.t&&F(r,"alt",o.t=s),o},{e:void 0,t:void 0}),r}}),h(V,{when:!0,get children(){return h(Ys,{get file(){return e.file}})}})]}}),t),He(t,"click",e.onRemoveClick),x(t,h(In,{class:"w-4"})),x(n,h(B,{get when(){return re(e.uploadProgressPercent)&&e.uploadProgressPercent!==100},get children(){return h(oE,{get progressPercent(){return e.uploadProgressPercent}})}}),null),n})(),oE=e=>{let[n,t]=P(e.progressPercent??0),r;return me(()=>{e.progressPercent===20&&(r=setInterval(()=>{n()<100&&t(i=>i+(Math.floor(Math.random()*10)+1))},1e3))}),le(()=>{clearInterval(r)}),(()=>{var o=rE();return x(o,h(Mr.Root,{get value(){return n()},class:"flex items-center justify-center",get children(){return h(Mr.Circle,{get children(){return[h(Mr.CircleTrack,{}),h(Mr.CircleRange,{})]}})}})),o})()};var iE=w('<div class="w-full bg-gray-200 rounded-full h-2.5"><div class="upload-progress-bar h-2.5 rounded-full">'),sE=w('<div class="p-4 flex gap-2 border-gray-200 border overflow-auto bg-white rounded-md w-full">'),aE=w('<div class="flex flex-col justify-center items-center gap-4 max-w-[90%]"><p class="text-sm text-gray-500 text-center">'),lE=w("<input id=dropzone-file type=file class=hidden>"),cE=w('<div class="flex justify-end">'),uE=w('<div class="flex justify-end"><div class="flex gap-2">'),dE=w('<form class="flex flex-col w-full gap-2"><label for=dropzone-file>'),pE=w('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=text-gray-500><polyline points="16 16 12 12 8 16"></polyline><line x1=12 y1=12 x2=12 y2=21></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16">'),Pg=e=>{let[n,t]=P([]),[r,o]=P(!1),[i,s]=P(0),[a,l]=P(!1),c=e.context.typebot.settings.general?.systemMessages?.fileUploadError??Jn.fileUploadError,u=T=>{let k=Array.from(T).map(L=>qs({existingFiles:n(),newFile:L,params:{sizeLimit:e.block.options&&"sizeLimit"in e.block.options?e.block.options.sizeLimit:void 0},context:e.context,onError:({description:_})=>Pn.create({description:_})})).filter(re);if(k.length!==0){if(!e.block.options?.isMultipleAllowed)return p(k[0]);t([...n(),...k])}},d=async T=>{T.preventDefault(),n().length!==0&&f(n())},p=async T=>{o(!0);let k=await ko({apiHost:e.context.apiHost??Ot({ignoreChatApiUrl:!0}),files:[{file:T,input:{sessionId:e.context.sessionId,blockId:e.block.id,fileName:T.name}}]});if(o(!1),k.length&&k[0])return e.onSubmit({type:"text",label:e.block.options?.labels?.success?.single??mn.labels.success.single,value:k[0]?kg(k[0].url):"",attachments:[{type:T.type,url:k[0].url,blobUrl:URL.createObjectURL(T)}]});Pn.create({description:c})},f=async T=>{o(!0);let k=await ko({apiHost:e.context.apiHost??Ot({ignoreChatApiUrl:!0}),files:T.map(L=>({file:L,input:{sessionId:e.context.sessionId,blockId:e.block.id,fileName:L.name}})),onUploadProgress:s});if(o(!1),s(0),k.length!==T.length)return Pn.create({description:c});e.onSubmit({type:"text",label:k.length>1?(e.block.options?.labels?.success?.multiple??mn.labels.success.multiple).replaceAll("{total}",k.length.toString()):e.block.options?.labels?.success?.single??mn.labels.success.single,value:k.filter(re).map(({url:L})=>kg(L)).join(", "),attachments:k.map((L,_)=>L?{...L,blobUrl:URL.createObjectURL(n()[_])}:null).filter(re)})},g=T=>{T.preventDefault(),l(!0)},m=()=>l(!1),v=T=>{T.preventDefault(),T.stopPropagation(),T.dataTransfer?.files&&u(T.dataTransfer.files)},b=()=>t([]),S=()=>e.onSkip(e.block.options?.labels?.skip??mn.labels.skip),E=T=>{t(k=>k.filter((L,_)=>_!==T))};return(()=>{var T=dE(),k=T.firstChild;return T.addEventListener("submit",d),k.addEventListener("drop",v),k.addEventListener("dragleave",m),k.addEventListener("dragover",g),x(k,h(ke,{get children(){return[h(V,{get when(){return r()},get children(){return h(B,{get when(){return n().length>1},get fallback(){return h(Gs,{})},get children(){var L=iE(),_=L.firstChild;return _.style.setProperty("transition","width 150ms cubic-bezier(0.4, 0, 0.2, 1)"),I(M=>(M=`${i()>0?i:10}%`)!=null?_.style.setProperty("width",M):_.style.removeProperty("width")),L}})}}),h(V,{get when(){return!r()},get children(){return[(()=>{var L=aE(),_=L.firstChild;return x(L,h(B,{get when(){return n().length},get fallback(){return h(fE,{})},get children(){var M=sE();return He(M,"click",W=>{W.preventDefault(),W.stopPropagation()}),x(M,h(ye,{get each(){return n()},children:(W,ue)=>h(Xs,{file:W,onRemoveClick:()=>E(ue())})})),M}}),_),I(()=>_.innerHTML=e.block.options?.labels?.placeholder??mn.labels.placeholder),L})(),(()=>{var L=lE();return L.addEventListener("change",_=>{_.currentTarget.files&&u(_.currentTarget.files)}),I(()=>L.multiple=e.block.options?.isMultipleAllowed??mn.isMultipleAllowed),L})()]}})]}})),x(T,h(B,{get when(){return n().length===0&&e.block.options?.isRequired===!1},get children(){var L=cE();return x(L,h(hn,{"on:click":S,get children(){return e.block.options?.labels?.skip??mn.labels.skip}})),L}}),null),x(T,h(B,{get when(){return R(()=>!!(e.block.options?.isMultipleAllowed&&n().length>0))()&&!r()},get children(){var L=uE(),_=L.firstChild;return x(_,h(B,{get when(){return n().length},get children(){return h(hn,{variant:"secondary","on:click":b,get children(){return e.block.options?.labels?.clear??mn.labels.clear}})}}),null),x(_,h(Ge,{type:"submit",disableIcon:!0,get children(){return R(()=>(e.block.options?.labels?.button??mn.labels.button)===mn.labels.button)()?`Upload ${n().length} file${n().length>1?"s":""}`:e.block.options?.labels?.button}}),null),L}}),null),I(()=>D(k,"typebot-upload-input py-6 flex flex-col justify-center items-center w-full bg-gray-50 border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-100 px-8 "+(a()?"dragging-over":""))),T})()},fE=()=>pE(),kg=e=>{let n=e.split("/").pop();if(!n)return e;let t=encodeURIComponent(n);return e.replace(n,t)};var Ig={labels:{button:ht,placeholder:"Type a number..."}};var Ag=e=>{let n=r=>{me(()=>{let o=e();if(o==null){r.value=o;return}let i=r.value;(o===0&&i===""||o!==i)&&(r.value=o+"")})},t=r=>{if(r.validity.badInput)return e();if(r.value!=="")return r.valueAsNumber};return[tt(e),n,t]};var hE=w('<div class="typebot-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex typebot-input w-full"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"type=number>'),Og=e=>{let[n,t]=P(e.defaultValue??""),[r,o,i]=Ag(()=>n()),s,a=()=>s?.value!==""&&s?.reportValidity(),l=()=>{a()?e.onSubmit({type:"text",value:s?.value??n().toString()}):s?.focus()},c=d=>{d.key==="Enter"&&l()};se(()=>{!G()&&s&&s.focus({preventScroll:!0}),window.addEventListener("message",u)}),le(()=>{window.removeEventListener("message",u)});let u=d=>{let{data:p}=d;p.isFromTypebot&&p.command==="setInputValue"&&t(p.value)};return(()=>{var d=hE(),p=d.firstChild,f=p.firstChild;d.$$keydown=c,f.$$input=m=>{t(i(m.currentTarget))},pe(o,f,()=>!0);var g=s;return typeof g=="function"?pe(g,f):s=f,f.style.setProperty("font-size","16px"),f.style.setProperty("appearance","auto"),f.value=r,x(d,h(Ge,{type:"button",class:"h-[56px]","on:click":l,get children(){return e.block.options?.labels?.button}}),null),I(m=>{var v=e.block.options?.labels?.placeholder??Ig.labels.placeholder,b=e.block.options?.min,S=e.block.options?.max,E=e.block.options?.step??"any";return v!==m.e&&F(f,"placeholder",m.e=v),b!==m.t&&F(f,"min",m.t=b),S!==m.a&&F(f,"max",m.a=S),E!==m.o&&F(f,"step",m.o=E),m},{e:void 0,t:void 0,a:void 0,o:void 0}),d})()};Ve(["keydown","input"]);var Fg=Ha(Bg(),1);var ea={provider:"Stripe",labels:{button:"Pay",success:"Success"},retryMessageContent:"Payment failed. Please, try again.",currency:"USD"};var wE=w('<div class="typebot-input-error-message mt-4 text-center animate-fade-in">'),SE=w('<form id=payment-form class="flex flex-col p-4 typebot-input w-full items-center"><slot name=stripe-payment-form>'),CE="stripe-payment-form",Ei,_i=null,ta=null,Ug=e=>{let[n,t]=P(),[r,o]=P(!1),[i,s]=P(!1);se(async()=>{if(!Ei)return;if(TE(Ei),!e.options?.publicKey)return t("Missing Stripe public key");if(_i=await(0,Fg.loadStripe)(e.options?.publicKey),!_i)return;ta=_i.elements({appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(Ei).getPropertyValue("--typebot-button-bg-color")}},clientSecret:e.options.paymentIntentSecret}),ta.create("payment",{layout:"tabs"}).mount("#payment-element"),setTimeout(()=>{o(!0),e.onTransitionEnd()},1e3)});let a=async l=>{if(l.preventDefault(),!_i||!ta)return;s(!0),Xu({sessionId:e.context.sessionId,resultId:e.context.resultId,typebot:e.context.typebot});let{postalCode:c,...u}=e.options?.additionalInformation?.address??{},{error:d,paymentIntent:p}=await _i.confirmPayment({elements:ta,confirmParams:{return_url:window.location.href,payment_method_data:{billing_details:{name:e.options?.additionalInformation?.name,email:e.options?.additionalInformation?.email,phone:e.options?.additionalInformation?.phoneNumber,address:{...u,postal_code:c}}}},redirect:"if_required"});if(Zi(),s(!1),d?.type!=="validation_error"){if(d?.type==="card_error")return t(d.message);if(!d&&p.status==="succeeded")return e.onSuccess()}};return(()=>{var l=SE(),c=l.firstChild;l.addEventListener("submit",a);var u=Ei;return typeof u=="function"?pe(u,c):Ei=c,c._$owner=Jr(),x(l,h(B,{get when(){return r()},get children(){return h(Ge,{get isLoading(){return i()},class:"mt-4 w-full max-w-lg animate-fade-in",disableIcon:!0,get children(){return[R(()=>e.options?.labels?.button??ea.labels.button)," ",R(()=>e.options?.amountLabel)]}})}}),null),x(l,h(B,{get when(){return n()},get children(){var d=wE();return x(d,n),d}}),null),l})()},TE=e=>{let t=e.getRootNode().host,r=document.createElement("div");r.style.width="100%",r.slot=CE,t.appendChild(r);let o=document.createElement("div");o.id="payment-element",r.appendChild(o)};var jg=e=>h(Ug,{get onSuccess(){return e.onSuccess},get options(){return e.options},get context(){return e.context},get onTransitionEnd(){return e.onTransitionEnd}});var EE=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><polyline points="6 9 12 15 18 9">'),Vg=e=>(()=>{var n=EE();return Se(n,e,!0,!0),n})();var Hg={labels:{button:ht,placeholder:"Type your phone number..."},retryMessageContent:"This phone number doesn't seem to be valid. Can you type it again?"};var Lr=[{name:"International",flag:"\u{1F310}",code:"INT",dial_code:""},{name:"Afghanistan",flag:"\u{1F1E6}\u{1F1EB}",code:"AF",dial_code:"+93"},{name:"\xC5land Islands",flag:"\u{1F1E6}\u{1F1FD}",code:"AX",dial_code:"+358"},{name:"Albania",flag:"\u{1F1E6}\u{1F1F1}",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"\u{1F1E9}\u{1F1FF}",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"\u{1F1E6}\u{1F1F8}",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"\u{1F1E6}\u{1F1E9}",code:"AD",dial_code:"+376"},{name:"Angola",flag:"\u{1F1E6}\u{1F1F4}",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"\u{1F1E6}\u{1F1EE}",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"\u{1F1E6}\u{1F1F6}",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"\u{1F1E6}\u{1F1EC}",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"\u{1F1E6}\u{1F1F7}",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"\u{1F1E6}\u{1F1F2}",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"\u{1F1E6}\u{1F1FC}",code:"AW",dial_code:"+297"},{name:"Australia",flag:"\u{1F1E6}\u{1F1FA}",code:"AU",dial_code:"+61"},{name:"Austria",flag:"\u{1F1E6}\u{1F1F9}",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"\u{1F1E6}\u{1F1FF}",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"\u{1F1E7}\u{1F1F8}",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"\u{1F1E7}\u{1F1ED}",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"\u{1F1E7}\u{1F1E9}",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"\u{1F1E7}\u{1F1E7}",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"\u{1F1E7}\u{1F1FE}",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"\u{1F1E7}\u{1F1EA}",code:"BE",dial_code:"+32"},{name:"Belize",flag:"\u{1F1E7}\u{1F1FF}",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"\u{1F1E7}\u{1F1EF}",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"\u{1F1E7}\u{1F1F2}",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"\u{1F1E7}\u{1F1F9}",code:"BT",dial_code:"+975"},{name:"Bolivia, Plurinational State of bolivia",flag:"\u{1F1E7}\u{1F1F4}",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"\u{1F1E7}\u{1F1E6}",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"\u{1F1E7}\u{1F1FC}",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"\u{1F1E7}\u{1F1FB}",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"\u{1F1E7}\u{1F1F7}",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"\u{1F1EE}\u{1F1F4}",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"\u{1F1E7}\u{1F1F3}",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"\u{1F1E7}\u{1F1EC}",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"\u{1F1E7}\u{1F1EB}",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"\u{1F1E7}\u{1F1EE}",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"\u{1F1F0}\u{1F1ED}",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"\u{1F1E8}\u{1F1F2}",code:"CM",dial_code:"+237"},{name:"Canada",flag:"\u{1F1E8}\u{1F1E6}",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"\u{1F1E8}\u{1F1FB}",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"\u{1F1F0}\u{1F1FE}",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"\u{1F1E8}\u{1F1EB}",code:"CF",dial_code:"+236"},{name:"Chad",flag:"\u{1F1F9}\u{1F1E9}",code:"TD",dial_code:"+235"},{name:"Chile",flag:"\u{1F1E8}\u{1F1F1}",code:"CL",dial_code:"+56"},{name:"China",flag:"\u{1F1E8}\u{1F1F3}",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"\u{1F1E8}\u{1F1FD}",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"\u{1F1E8}\u{1F1E8}",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"\u{1F1E8}\u{1F1F4}",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"\u{1F1F0}\u{1F1F2}",code:"KM",dial_code:"+269"},{name:"Congo",flag:"\u{1F1E8}\u{1F1EC}",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the Congo",flag:"\u{1F1E8}\u{1F1E9}",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"\u{1F1E8}\u{1F1F0}",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"\u{1F1E8}\u{1F1F7}",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"\u{1F1E8}\u{1F1EE}",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"\u{1F1ED}\u{1F1F7}",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"\u{1F1E8}\u{1F1FA}",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"\u{1F1E8}\u{1F1FE}",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"\u{1F1E8}\u{1F1FF}",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"\u{1F1E9}\u{1F1F0}",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"\u{1F1E9}\u{1F1EF}",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"\u{1F1E9}\u{1F1F2}",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"\u{1F1E9}\u{1F1F4}",code:"DO",dial_code:"+1849"},{name:"Dominican Republic",flag:"\u{1F1E9}\u{1F1F4}",code:"DO",dial_code:"+1829"},{name:"Dominican Republic",flag:"\u{1F1E9}\u{1F1F4}",code:"DO",dial_code:"+1809"},{name:"Ecuador",flag:"\u{1F1EA}\u{1F1E8}",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"\u{1F1EA}\u{1F1EC}",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"\u{1F1F8}\u{1F1FB}",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"\u{1F1EC}\u{1F1F6}",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"\u{1F1EA}\u{1F1F7}",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"\u{1F1EA}\u{1F1EA}",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"\u{1F1EA}\u{1F1F9}",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"\u{1F1EB}\u{1F1F0}",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"\u{1F1EB}\u{1F1F4}",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"\u{1F1EB}\u{1F1EF}",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"\u{1F1EB}\u{1F1EE}",code:"FI",dial_code:"+358"},{name:"France",flag:"\u{1F1EB}\u{1F1F7}",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"\u{1F1EC}\u{1F1EB}",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"\u{1F1F5}\u{1F1EB}",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"\u{1F1F9}\u{1F1EB}",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"\u{1F1EC}\u{1F1E6}",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"\u{1F1EC}\u{1F1F2}",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"\u{1F1EC}\u{1F1EA}",code:"GE",dial_code:"+995"},{name:"Germany",flag:"\u{1F1E9}\u{1F1EA}",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"\u{1F1EC}\u{1F1ED}",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"\u{1F1EC}\u{1F1EE}",code:"GI",dial_code:"+350"},{name:"Greece",flag:"\u{1F1EC}\u{1F1F7}",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"\u{1F1EC}\u{1F1F1}",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"\u{1F1EC}\u{1F1E9}",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"\u{1F1EC}\u{1F1F5}",code:"GP",dial_code:"+590"},{name:"Guam",flag:"\u{1F1EC}\u{1F1FA}",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"\u{1F1EC}\u{1F1F9}",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"\u{1F1EC}\u{1F1EC}",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"\u{1F1EC}\u{1F1F3}",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"\u{1F1EC}\u{1F1FC}",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"\u{1F1EC}\u{1F1FE}",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"\u{1F1ED}\u{1F1F9}",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"\u{1F1ED}\u{1F1F2}",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"\u{1F1FB}\u{1F1E6}",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"\u{1F1ED}\u{1F1F3}",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"\u{1F1ED}\u{1F1F0}",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"\u{1F1ED}\u{1F1FA}",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"\u{1F1EE}\u{1F1F8}",code:"IS",dial_code:"+354"},{name:"India",flag:"\u{1F1EE}\u{1F1F3}",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"\u{1F1EE}\u{1F1E9}",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of Persian Gulf",flag:"\u{1F1EE}\u{1F1F7}",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"\u{1F1EE}\u{1F1F6}",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"\u{1F1EE}\u{1F1EA}",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"\u{1F1EE}\u{1F1F2}",code:"IM",dial_code:"+44"},{name:"Israel",flag:"\u{1F1EE}\u{1F1F1}",code:"IL",dial_code:"+972"},{name:"Italy",flag:"\u{1F1EE}\u{1F1F9}",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"\u{1F1EF}\u{1F1F2}",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"\u{1F1EF}\u{1F1F5}",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"\u{1F1EF}\u{1F1EA}",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"\u{1F1EF}\u{1F1F4}",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"\u{1F1F0}\u{1F1FF}",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"\u{1F1F0}\u{1F1EA}",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"\u{1F1F0}\u{1F1EE}",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of Korea",flag:"\u{1F1F0}\u{1F1F5}",code:"KP",dial_code:"+850"},{name:"Korea, Republic of South Korea",flag:"\u{1F1F0}\u{1F1F7}",code:"KR",dial_code:"+82"},{name:"Kosovo",flag:"\u{1F1FD}\u{1F1F0}",code:"XK",dial_code:"+383"},{name:"Kuwait",flag:"\u{1F1F0}\u{1F1FC}",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"\u{1F1F0}\u{1F1EC}",code:"KG",dial_code:"+996"},{name:"Laos",flag:"\u{1F1F1}\u{1F1E6}",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"\u{1F1F1}\u{1F1FB}",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"\u{1F1F1}\u{1F1E7}",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"\u{1F1F1}\u{1F1F8}",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"\u{1F1F1}\u{1F1F7}",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"\u{1F1F1}\u{1F1FE}",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"\u{1F1F1}\u{1F1EE}",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"\u{1F1F1}\u{1F1F9}",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"\u{1F1F1}\u{1F1FA}",code:"LU",dial_code:"+352"},{name:"Macao",flag:"\u{1F1F2}\u{1F1F4}",code:"MO",dial_code:"+853"},{name:"Macedonia",flag:"\u{1F1F2}\u{1F1F0}",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"\u{1F1F2}\u{1F1EC}",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"\u{1F1F2}\u{1F1FC}",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"\u{1F1F2}\u{1F1FE}",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"\u{1F1F2}\u{1F1FB}",code:"MV",dial_code:"+960"},{name:"Mali",flag:"\u{1F1F2}\u{1F1F1}",code:"ML",dial_code:"+223"},{name:"Malta",flag:"\u{1F1F2}\u{1F1F9}",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"\u{1F1F2}\u{1F1ED}",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"\u{1F1F2}\u{1F1F6}",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"\u{1F1F2}\u{1F1F7}",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"\u{1F1F2}\u{1F1FA}",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"\u{1F1FE}\u{1F1F9}",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"\u{1F1F2}\u{1F1FD}",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of Micronesia",flag:"\u{1F1EB}\u{1F1F2}",code:"FM",dial_code:"+691"},{name:"Moldova",flag:"\u{1F1F2}\u{1F1E9}",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"\u{1F1F2}\u{1F1E8}",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"\u{1F1F2}\u{1F1F3}",code:"MN",dial_code:"+976"},{name:"Montenegro",flag:"\u{1F1F2}\u{1F1EA}",code:"ME",dial_code:"+382"},{name:"Montserrat",flag:"\u{1F1F2}\u{1F1F8}",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"\u{1F1F2}\u{1F1E6}",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"\u{1F1F2}\u{1F1FF}",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"\u{1F1F2}\u{1F1F2}",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"\u{1F1F3}\u{1F1E6}",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"\u{1F1F3}\u{1F1F7}",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"\u{1F1F3}\u{1F1F5}",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"\u{1F1F3}\u{1F1F1}",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"\u{1F1F3}\u{1F1E8}",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"\u{1F1F3}\u{1F1FF}",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"\u{1F1F3}\u{1F1EE}",code:"NI",dial_code:"+505"},{name:"Niger",flag:"\u{1F1F3}\u{1F1EA}",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"\u{1F1F3}\u{1F1EC}",code:"NG",dial_code:"+234"},{name:"Niue",flag:"\u{1F1F3}\u{1F1FA}",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"\u{1F1F3}\u{1F1EB}",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"\u{1F1F2}\u{1F1F5}",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"\u{1F1F3}\u{1F1F4}",code:"NO",dial_code:"+47"},{name:"Oman",flag:"\u{1F1F4}\u{1F1F2}",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"\u{1F1F5}\u{1F1F0}",code:"PK",dial_code:"+92"},{name:"Palau",flag:"\u{1F1F5}\u{1F1FC}",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"\u{1F1F5}\u{1F1F8}",code:"PS",dial_code:"+970"},{name:"Panama",flag:"\u{1F1F5}\u{1F1E6}",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"\u{1F1F5}\u{1F1EC}",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"\u{1F1F5}\u{1F1FE}",code:"PY",dial_code:"+595"},{name:"Peru",flag:"\u{1F1F5}\u{1F1EA}",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"\u{1F1F5}\u{1F1ED}",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"\u{1F1F5}\u{1F1F3}",code:"PN",dial_code:"+64"},{name:"Poland",flag:"\u{1F1F5}\u{1F1F1}",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"\u{1F1F5}\u{1F1F9}",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"\u{1F1F5}\u{1F1F7}",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"\u{1F1F6}\u{1F1E6}",code:"QA",dial_code:"+974"},{name:"Romania",flag:"\u{1F1F7}\u{1F1F4}",code:"RO",dial_code:"+40"},{name:"Russia",flag:"\u{1F1F7}\u{1F1FA}",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"\u{1F1F7}\u{1F1FC}",code:"RW",dial_code:"+250"},{name:"Reunion",flag:"\u{1F1F7}\u{1F1EA}",code:"RE",dial_code:"+262"},{name:"Saint Barthelemy",flag:"\u{1F1E7}\u{1F1F1}",code:"BL",dial_code:"+590"},{name:"Saint Helena, Ascension and Tristan Da Cunha",flag:"\u{1F1F8}\u{1F1ED}",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"\u{1F1F0}\u{1F1F3}",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"\u{1F1F1}\u{1F1E8}",code:"LC",dial_code:"+1758"},{name:"Saint Martin",flag:"\u{1F1F2}\u{1F1EB}",code:"MF",dial_code:"+590"},{name:"Saint Pierre and Miquelon",flag:"\u{1F1F5}\u{1F1F2}",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"\u{1F1FB}\u{1F1E8}",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"\u{1F1FC}\u{1F1F8}",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"\u{1F1F8}\u{1F1F2}",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"\u{1F1F8}\u{1F1F9}",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"\u{1F1F8}\u{1F1E6}",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"\u{1F1F8}\u{1F1F3}",code:"SN",dial_code:"+221"},{name:"Serbia",flag:"\u{1F1F7}\u{1F1F8}",code:"RS",dial_code:"+381"},{name:"Seychelles",flag:"\u{1F1F8}\u{1F1E8}",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"\u{1F1F8}\u{1F1F1}",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"\u{1F1F8}\u{1F1EC}",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"\u{1F1F8}\u{1F1F0}",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"\u{1F1F8}\u{1F1EE}",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"\u{1F1F8}\u{1F1E7}",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"\u{1F1F8}\u{1F1F4}",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"\u{1F1FF}\u{1F1E6}",code:"ZA",dial_code:"+27"},{name:"South Sudan",flag:"\u{1F1F8}\u{1F1F8}",code:"SS",dial_code:"+211"},{name:"South Georgia and the South Sandwich Islands",flag:"\u{1F1EC}\u{1F1F8}",code:"GS",dial_code:"+500"},{name:"Spain",flag:"\u{1F1EA}\u{1F1F8}",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"\u{1F1F1}\u{1F1F0}",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"\u{1F1F8}\u{1F1E9}",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"\u{1F1F8}\u{1F1F7}",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"\u{1F1F8}\u{1F1EF}",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"\u{1F1F8}\u{1F1FF}",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"\u{1F1F8}\u{1F1EA}",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"\u{1F1E8}\u{1F1ED}",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"\u{1F1F8}\u{1F1FE}",code:"SY",dial_code:"+963"},{name:"Taiwan",flag:"\u{1F1F9}\u{1F1FC}",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"\u{1F1F9}\u{1F1EF}",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of Tanzania",flag:"\u{1F1F9}\u{1F1FF}",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"\u{1F1F9}\u{1F1ED}",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"\u{1F1F9}\u{1F1F1}",code:"TL",dial_code:"+670"},{name:"Togo",flag:"\u{1F1F9}\u{1F1EC}",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"\u{1F1F9}\u{1F1F0}",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"\u{1F1F9}\u{1F1F4}",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"\u{1F1F9}\u{1F1F9}",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"\u{1F1F9}\u{1F1F3}",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"\u{1F1F9}\u{1F1F7}",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"\u{1F1F9}\u{1F1F2}",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"\u{1F1F9}\u{1F1E8}",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"\u{1F1F9}\u{1F1FB}",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"\u{1F1FA}\u{1F1EC}",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"\u{1F1FA}\u{1F1E6}",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"\u{1F1E6}\u{1F1EA}",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"\u{1F1EC}\u{1F1E7}",code:"GB",dial_code:"+44"},{name:"United States",flag:"\u{1F1FA}\u{1F1F8}",code:"US",dial_code:"+1"},{name:"Uruguay",flag:"\u{1F1FA}\u{1F1FE}",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"\u{1F1FA}\u{1F1FF}",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"\u{1F1FB}\u{1F1FA}",code:"VU",dial_code:"+678"},{name:"Venezuela, Bolivarian Republic of Venezuela",flag:"\u{1F1FB}\u{1F1EA}",code:"VE",dial_code:"+58"},{name:"Vietnam",flag:"\u{1F1FB}\u{1F1F3}",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"\u{1F1FB}\u{1F1EC}",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"\u{1F1FB}\u{1F1EE}",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"\u{1F1FC}\u{1F1EB}",code:"WF",dial_code:"+681"},{name:"Yemen",flag:"\u{1F1FE}\u{1F1EA}",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"\u{1F1FF}\u{1F1F2}",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"\u{1F1FF}\u{1F1FC}",code:"ZW",dial_code:"+263"}];var _E=w('<div class="typebot-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex typebot-input w-full"><div class="relative typebot-country-select flex justify-center items-center"><div class="pl-2 pr-1 flex items-center gap-2"><span></span></div><select class="absolute top-0 left-0 w-full h-full cursor-pointer opacity-0">'),kE=w("<option> "),zg=e=>{let[n,t]=P(ze(e.defaultCountryCode)?"INT":e.defaultCountryCode),[r,o]=P(e.defaultValue??""),i,s=p=>{if(o(p),p?.startsWith("+")&&p.length>2){let f=Lr.reduce((g,m)=>!m?.dial_code||g!==null&&!g.dial_code?g:p?.startsWith(m.dial_code)&&m.dial_code.length>(g?.dial_code.length??0)?m:g,null);f&&t(f.code)}},a=()=>i?.value!==""&&i?.reportValidity(),l=()=>{let p=Lr.find(f=>f.code===n())?.dial_code;if(a()){let f=i?.value??r();e.onSubmit({type:"text",value:f.startsWith("+")?f:`${p??""}${f}`})}else i?.focus()},c=p=>{p.key==="Enter"&&l()},u=p=>{let f=Lr.find(m=>m.code===p.currentTarget.value);if(!f)return;let g=Lr.find(m=>m.code===n());(r()===""||g&&r()===g.dial_code)&&o(f.dial_code),t(f.code),i?.focus()};se(()=>{!G()&&i&&i.focus({preventScroll:!0}),window.addEventListener("message",d)}),le(()=>{window.removeEventListener("message",d)});let d=p=>{let{data:f}=p;f.isFromTypebot&&f.command==="setInputValue"&&o(f.value)};return(()=>{var p=_E(),f=p.firstChild,g=f.firstChild,m=g.firstChild,v=m.firstChild,b=m.nextSibling;return p.$$keydown=c,x(v,()=>Lr.find(S=>n()===S.code)?.flag),x(m,h(Vg,{class:"w-3"}),null),b.addEventListener("change",u),x(b,h(ye,{each:Lr,children:S=>(()=>{var E=kE(),T=E.firstChild;return x(E,()=>S.name,T),x(E,()=>S.dial_code?`(${S.dial_code})`:"",null),I(()=>E.selected=S.code===n()),I(()=>E.value=S.code),E})()})),x(f,h(fr,{type:"tel",ref(S){var E=i;typeof E=="function"?E(S):i=S},get value(){return r()},onInput:s,get placeholder(){return e.labels?.placeholder??Hg.labels.placeholder},get autofocus(){return!G()}}),null),x(p,h(Ge,{type:"button",class:"h-[56px]","on:click":l,get children(){return e.labels?.button}}),null),p})()};Ve(["keydown"]);var uc={buttonLabel:ht,searchInputPlaceholder:"Filter the options...",isMultipleChoice:!1,isSearchable:!1,dynamicItems:{isEnabled:!1}};var PE=w('<div class="flex items-end typebot-input w-full">'),IE=w('<form class="flex flex-col gap-2 w-full items-end"><div>'),Wg=w("<span class=font-semibold>"),Gg=w('<span class="text-sm whitespace-pre-wrap text-left">'),qg=w('<div class="flex flex-col gap-1 ">'),AE=w("<div role=checkbox><img fetchpriority=high class=m-auto><div>"),OE=w('<div role=checkbox aria-checked class="flex flex-col focus:outline-none cursor-pointer select-none typebot-selectable-picture selected"><img fetchpriority=high><div>'),Kg=e=>{let n,[t,r]=P(e.defaultItems),[o,i]=P([]),[s,a]=P(0);se(()=>{!G()&&n&&n.focus({preventScroll:!0})});let l=f=>{c(f)},c=f=>{let g=o().indexOf(f);i(g!==-1?m=>m.filter(v=>v!==f):m=>[...m,f])},u=()=>e.onSubmit({type:"text",value:o().map(f=>{let g=e.defaultItems.find(m=>m.id===f);return Ce(g?.title)?g.title:g?.pictureSrc}).join(", ")}),d=f=>{r(e.defaultItems.filter(g=>g.title?.toLowerCase().includes((f??"").toLowerCase())||g.description?.toLowerCase().includes((f??"").toLowerCase())))};me(()=>{s()===e.defaultItems.filter(f=>re(f.pictureSrc)).length&&e.onTransitionEnd()});let p=()=>{a(f=>f+1)};return(()=>{var f=IE(),g=f.firstChild;return f.addEventListener("submit",u),x(f,h(B,{get when(){return e.options?.isSearchable},get children(){var m=PE();return x(m,h(pr,{ref(v){var b=n;typeof b=="function"?b(v):n=v},onInput:d,get placeholder(){return e.options?.searchInputPlaceholder??uc.searchInputPlaceholder},onClear:()=>r(e.defaultItems)})),m}}),g),x(g,h(ye,{get each(){return t()},children:(m,v)=>(()=>{var b=AE(),S=b.firstChild,E=S.nextSibling;return He(b,"click",()=>l(m.id)),S.addEventListener("load",p),x(E,h(_o,{get isChecked(){return o().some(T=>T===m.id)},get class(){return"flex-shrink-0"+(m.title||m.description?" mt-1":void 0)}}),null),x(E,h(B,{get when(){return m.title||m.description},get children(){var T=qg();return x(T,h(B,{get when(){return m.title},get children(){var k=Wg();return x(k,()=>m.title),k}}),null),x(T,h(B,{get when(){return m.description},get children(){var k=Gg();return x(k,()=>m.description),k}}),null),T}}),null),I(T=>{var k=o().some(z=>z===m.id),L="flex flex-col focus:outline-none cursor-pointer select-none typebot-selectable-picture"+(o().some(z=>z===m.id)?" selected":"")+(Nn(m.pictureSrc)?" has-svg":""),_=m.id,M=m.pictureSrc,W=m.title??`Picture ${v()+1}`,ue=`Picture choice ${v()+1}`,Ee="flex gap-3 py-2 flex-shrink-0"+(ze(m.title)&&ze(m.description)?" justify-center":" px-3");return k!==T.e&&F(b,"aria-checked",T.e=k),L!==T.t&&D(b,T.t=L),_!==T.a&&F(b,"data-itemid",T.a=_),M!==T.o&&F(S,"src",T.o=M),W!==T.i&&F(S,"alt",T.i=W),ue!==T.n&&F(S,"elementtiming",T.n=ue),Ee!==T.s&&D(E,T.s=Ee),T},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),b})()}),null),x(g,h(ye,{get each(){return o().filter(m=>t().every(v=>v.id!==m)).map(m=>e.defaultItems.find(v=>v.id===m)).filter(re)},children:(m,v)=>(()=>{var b=OE(),S=b.firstChild,E=S.nextSibling;return He(b,"click",()=>l(m.id)),x(E,h(_o,{get isChecked(){return o().some(T=>T===m.id)},get class(){return"flex-shrink-0"+(m.title||m.description?" mt-1":void 0)}}),null),x(E,h(B,{get when(){return m.title||m.description},get children(){var T=qg();return x(T,h(B,{get when(){return m.title},get children(){var k=Wg();return x(k,()=>m.title),k}}),null),x(T,h(B,{get when(){return m.description},get children(){var k=Gg();return x(k,()=>m.description),k}}),null),T}}),null),I(T=>{var k=m.id,L=e.defaultItems.find(ue=>ue.id===m.id)?.pictureSrc,_=m.title??`Selected picture ${v()+1}`,M=`Selected picture choice ${v()+1}`,W="flex gap-3 py-2 flex-shrink-0"+(ze(m.title)&&ze(m.description)?" justify-center":" pl-4");return k!==T.e&&F(b,"data-itemid",T.e=k),L!==T.t&&F(S,"src",T.t=L),_!==T.a&&F(S,"alt",T.a=_),M!==T.o&&F(S,"elementtiming",T.o=M),W!==T.i&&D(E,T.i=W),T},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),b})()}),null),x(f,(()=>{var m=R(()=>o().length>0);return()=>m()&&h(Ge,{disableIcon:!0,get children(){return e.options?.buttonLabel??uc.buttonLabel}})})(),null),I(()=>D(g,"flex flex-wrap justify-end gap-2"+(e.options?.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md":""))),f})()};var RE=w('<div class="flex items-end typebot-input w-full">'),ME=w('<div class="flex flex-col gap-2 w-full"><div>'),NE=w('<button><img fetchpriority=high class=m-auto><div><span class=font-semibold></span><span class="text-sm whitespace-pre-wrap text-left">'),Yg=e=>{let n,[t,r]=P(e.defaultItems),[o,i]=P(0);se(()=>{!G()&&n&&n.focus({preventScroll:!0})});let s=c=>{let u=t()[c];if(u)return e.onSubmit({type:"text",label:Ce(u.title)?u.title:u.pictureSrc??u.id,value:u.id})},a=c=>{r(e.defaultItems.filter(u=>u.title?.toLowerCase().includes((c??"").toLowerCase())||u.description?.toLowerCase().includes((c??"").toLowerCase())))};me(()=>{o()===e.defaultItems.filter(c=>re(c.pictureSrc)).length&&e.onTransitionEnd()});let l=()=>{i(c=>c+1)};return(()=>{var c=ME(),u=c.firstChild;return x(c,h(B,{get when(){return e.options?.isSearchable},get children(){var d=RE();return x(d,h(pr,{ref(p){var f=n;typeof f=="function"?f(p):n=p},onInput:a,get placeholder(){return e.options?.searchInputPlaceholder??""},onClear:()=>r(e.defaultItems)})),d}}),u),x(u,h(ye,{get each(){return t()},children:(d,p)=>(()=>{var f=NE(),g=f.firstChild,m=g.nextSibling,v=m.firstChild,b=v.nextSibling;return He(f,"click",()=>s(p())),g.addEventListener("load",l),x(v,()=>d.title),x(b,()=>d.description),I(S=>{var E=d.id,T="flex flex-col typebot-picture-button focus:outline-none filter hover:brightness-90 active:brightness-75 justify-between  "+(Nn(d.pictureSrc)?"has-svg":""),k=d.pictureSrc,L=d.title??`Picture ${p()+1}`,_=`Picture choice ${p()+1}`,M="flex flex-col gap-1 py-2 flex-shrink-0 px-4 w-full"+(d.description?" items-start":"");return E!==S.e&&F(f,"data-itemid",S.e=E),T!==S.t&&D(f,S.t=T),k!==S.a&&F(g,"src",S.a=k),L!==S.o&&F(g,"alt",S.o=L),_!==S.i&&F(g,"elementtiming",S.i=_),M!==S.n&&D(m,S.n=M),S},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f})()})),I(()=>D(u,"gap-2 flex flex-wrap justify-end"+(e.options?.isSearchable?" overflow-y-scroll max-h-[464px] rounded-md":""))),c})()};var zn={buttonType:"Numbers",length:10,labels:{button:ht},startsAt:0,customIcon:{isEnabled:!1},isOneClickSubmitEnabled:!1};var DE=w('<form class="flex flex-col gap-2"><div class="flex flex-wrap justify-center gap-2"></div><div class="flex justify-end">'),$E=w('<span class="text-sm w-full rating-label">'),LE=w('<span class="text-sm w-full text-right pr-2 rating-label">'),BE=w("<div role=checkbox>"),FE=w("<div>"),Xg=e=>{let[n,t]=P(e.defaultValue?Number(e.defaultValue):void 0),r=i=>{i.preventDefault();let s=n();Ye(s)||e.onSubmit({type:"text",value:s.toString()})},o=i=>{e.block.options?.isOneClickSubmitEnabled&&e.onSubmit({type:"text",value:i.toString()}),t(i)};return(()=>{var i=DE(),s=i.firstChild,a=s.nextSibling;return i.addEventListener("submit",r),x(i,(()=>{var l=R(()=>!!e.block.options?.labels?.left);return()=>l()&&(()=>{var c=$E();return x(c,()=>e.block.options.labels.left),c})()})(),s),x(s,h(ye,{get each(){return Array.from(Array((e.block.options?.length??zn.length)+((e.block.options?.buttonType??zn.buttonType)==="Numbers"?-((e.block.options?.startsAt??zn.startsAt)-1):0)))},children:(l,c)=>h(UE,we(()=>e.block.options,{get rating(){return n()},get idx(){return c()+((e.block.options?.buttonType??zn.buttonType)==="Numbers"?e.block.options?.startsAt??zn.startsAt:1)},onClick:o}))})),x(i,(()=>{var l=R(()=>!!e.block.options?.labels?.right);return()=>l()&&(()=>{var c=LE();return x(c,()=>e.block.options.labels.right),c})()})(),a),x(a,(()=>{var l=R(()=>!!re(n()));return()=>l()&&h(Ge,{disableIcon:!0,get children(){return e.block.options?.labels?.button??zn.labels.button}})})()),i})()},UE=e=>{let n=t=>{t.preventDefault(),e.onClick(e.idx)};return h(ke,{get children(){return[h(V,{get when(){return(e.buttonType??zn.buttonType)==="Numbers"},get children(){return[h(B,{get when(){return e.isOneClickSubmitEnabled},get children(){return h(hn,{"on:click":n,get children(){return e.idx}})}}),h(B,{get when(){return!e.isOneClickSubmitEnabled},get children(){var t=BE();return He(t,"click",n),x(t,()=>e.idx),I(r=>{var o=re(e.rating)&&e.idx<=e.rating,i="py-2 px-4 font-semibold focus:outline-none cursor-pointer select-none typebot-selectable"+(re(e.rating)&&e.idx<=e.rating?" selected":"");return o!==r.e&&F(t,"aria-checked",r.e=o),i!==r.t&&D(t,r.t=i),r},{e:void 0,t:void 0}),t}})]}}),h(V,{get when(){return(e.buttonType??zn.buttonType)!=="Numbers"},get children(){var t=FE();return He(t,"click",()=>e.onClick(e.idx)),I(r=>{var o="flex justify-center items-center rating-icon-container cursor-pointer "+(re(e.rating)&&e.idx<=e.rating?"selected":""),i=e.customIcon?.isEnabled&&!ze(e.customIcon.svg)?e.customIcon.svg:jE;return o!==r.e&&D(t,r.e=o),i!==r.t&&(t.innerHTML=r.t=i),r},{e:void 0,t:void 0}),t}})]}})},jE='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>';var VE=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48">'),dc=e=>(()=>{var n=VE();return Se(n,e,!0,!0),n})();var HE=w('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2px stroke-linecap=round stroke-linejoin=round><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><circle cx=10 cy=12 r=2></circle><path d="m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22">'),Zg=e=>(()=>{var n=HE();return Se(n,e,!0,!0),n})();var zE=w("<input type=file id=document-upload multiple class=hidden>"),WE=w('<input type=file id=photos-upload accept="image/*, video/*"multiple class=hidden>'),GE=w('<label aria-label="Add attachments"for=document-upload>'),qE=w("<label> Document"),KE=w("<label> Photos & videos"),Jg=e=>[(()=>{var n=zE();return n.addEventListener("change",t=>{t.currentTarget.files&&e.onNewFiles(t.currentTarget.files)}),n})(),(()=>{var n=WE();return n.addEventListener("change",t=>{t.currentTarget.files&&e.onNewFiles(t.currentTarget.files)}),n})(),h(ke,{get children(){return[h(V,{get when(){return G()},get children(){var n=GE();return x(n,h(dc,{class:"w-5"})),I(()=>D(n,fe("filter data-[state=open]:backdrop-brightness-90 hover:backdrop-brightness-95 transition rounded-md p-2 focus:outline-none",e.class))),n}}),h(V,{when:!0,get children(){return h(jn.Root,{get children(){return[h(jn.Trigger,{get class(){return fe("filter data-[state=open]:backdrop-brightness-90 hover:backdrop-brightness-95 transition rounded-md p-2 focus:outline-none",e.class)},"aria-label":"Add attachments",get children(){return h(dc,{class:"w-5"})}}),h(jn.Positioner,{get children(){return h(jn.Content,{class:"p-3 gap-2 focus:outline-none",get children(){return[h(jn.Item,{value:"document",asChild:n=>(()=>{var t=qE(),r=t.firstChild;return Se(t,we(n,{for:"document-upload",class:"p-2 filter hover:brightness-95 flex gap-3 items-center"}),!1,!0),x(t,h(Ks,{class:"w-4"}),r),t})()}),h(jn.Item,{value:"photos",asChild:n=>(()=>{var t=KE(),r=t.firstChild;return Se(t,we(n,{for:"photos-upload",class:"p-2 filter hover:brightness-95 flex gap-3 items-center"}),!1,!0),x(t,h(Zg,{class:"w-4"}),r),t})()})]}})}})]}})}})]}})];var YE=w('<svg viewBox="0 0 384 512"stroke=currentColor fill=currentColor><path d="M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z">'),Qg=e=>(()=>{var n=YE();return Se(n,e,!0,!0),n})();var XE=w('<textarea class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input"rows=6 data-testid=textarea required>'),ey=e=>{let[n,t]=qe(e,["ref","onInput"]);return(()=>{var r=XE();r.$$input=i=>n.onInput(i.currentTarget.value);var o=n.ref;return typeof o=="function"?pe(o,r):n.ref=r,Se(r,we({get autofocus(){return!G()}},t),!1,!1),r})()};Ve(["input"]);var Fy=Ha($y(),1);var ba={isLong:!1,labels:{button:ht,placeholder:"Type your answer..."},audioClip:{isEnabled:!1,visibility:"Auto"},attachments:{isEnabled:!1,visibility:"Auto"}};var Ly=`
const gainFactor = 3;

class VolumeProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
  }

  process(inputs) {
    const input = inputs[0];
    if (input.length > 0) {
      const channelData = input[0];
      let sum = 0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const rms = Math.sqrt(sum / channelData.length);
      this.port.postMessage(rms * 100 * gainFactor)
    }
    return true;
  }
}

registerProcessor("volume-processor", VolumeProcessor);

`;var m_=w('<div><button class="p-0.5 rounded-full"aria-label="Stop recording"></button><div class="relative flex w-full"><canvas class="w-full h-[56px]"></canvas><div class="absolute left-gradient w-2 left-0 h-[56px]"></div><div class="absolute right-gradient w-3 right-0 h-[56px]"></div></div><span class="time-container flex-none w-[35px] font-bold text-sm">'),Br=3,Fr=3,g_=60,y_=10,b_=5,v_=90,By=e=>{let[n,t]=P(0),r,o,i,s,a,l,c,u=[],d,p,f=0,g=at(e.buttonsTheme?.backgroundColor??is[Fs(e.context.typebot.version)?e.context.typebot.version:"6"]).join(", "),m=()=>{if(!i||!r||!p)return;let S=performance.now(),E=S-p;p=S,i.clearRect(0,0,r.width,r.height),i.fillStyle=`rgba(${g}, 0.2)`;for(let T=0;T<(r.width+Fr)/(Br+Fr);T++){let k=T*(Br+Fr)-f,L=r.height*(y_/100),_=(r.height-L)/2;i.beginPath(),i.roundRect(k,_,Br,L,5),i.fill()}i.fillStyle=`rgba(${g}, 1)`;for(let T=0;T<u.length;T++){let k=r.width+(T+1)*(Br+Fr)-f,L=r.height*((u[T]??0)/100),_=(r.height-L)/2;i.beginPath(),i.roundRect(k,_,Br,L,5),i.fill()}f+=g_*(E/1e3),o=requestAnimationFrame(m)},v=async()=>{r&&(c=await navigator.mediaDevices.getUserMedia({audio:!0}),e.onRecordingConfirmed(c),i||(i=r.getContext("2d")??void 0),d=setInterval(()=>{t(S=>S+=1)},1e3),s=new AudioContext,a=await x_(s),l=s.createMediaStreamSource(c),l.connect(a),a.connect(s.destination),a.port.onmessage=S=>{((r.width+Fr)/(Br+Fr)+u.length)*(Br+Fr)<r.width+f&&u.push(Math.min(Math.max(S.data,b_),v_))},p=performance.now(),o=requestAnimationFrame(m))},b=()=>{i&&r&&i.clearRect(0,0,r.width,r.height),f=0,a?.disconnect(),a=void 0,l?.disconnect(),l=void 0,s?.close(),s=void 0,c?.getTracks().forEach(S=>S.stop()),c=void 0,u=[],clearTimeout(d),t(0),cancelAnimationFrame(o),e.onAbortRecording()};return me(()=>{e.recordingStatus==="asking"?v():e.recordingStatus==="stopped"&&b()}),le(()=>{b()}),(()=>{var S=m_(),E=S.firstChild,T=E.nextSibling,k=T.firstChild,L=T.nextSibling;He(E,"click",b),x(E,h(In,{class:"w-4"}));var _=r;return typeof _=="function"?pe(_,k):r=k,x(L,()=>w_(n())),I(()=>D(S,fe("w-full gap-2 items-center transition-opacity px-2 typebot-recorder",e.recordingStatus==="started"?"opacity-1 flex":"opacity-0 hidden"))),S})()},x_=async e=>{let n=new Blob([Ly],{type:"application/javascript"}),t=URL.createObjectURL(n);return await e.audioWorklet.addModule(t),new AudioWorkletNode(e,"volume-processor")},w_=e=>{let n=Math.floor(e/60),r=(e%60).toString().padStart(2,"0");return`${n}:${r}`};var S_=w('<div class="p-2 flex gap-2 border-gray-100 overflow-auto">'),C_=w("<div>"),T_=w("<div><div>"),Uy=e=>{let[n,t]=P(e.defaultValue??""),[r,o]=P([]),[i,s]=P(void 0),[a,l]=P(!1),[c,u]=P("stopped"),d,p,f=[],g=z=>t(z),m=()=>d?.value!==""&&d?.reportValidity(),v=async()=>{if(c()==="started"&&p){p.stop();return}if(m()){let z;r().length>0&&(s(void 0),z=(await ko({apiHost:e.context.apiHost??Ot({ignoreChatApiUrl:!0}),files:r().map(te=>({file:te,input:{blockId:e.block.id,sessionId:e.context.sessionId,fileName:te.name}})),onUploadProgress:s}))?.map((te,A)=>te?{...te,blobUrl:URL.createObjectURL(r()[A])}:null).filter(re)),e.onSubmit({type:"text",value:d?.value??n(),attachments:z})}else d?.focus()},b=z=>{e.block.options?.isLong||z.key==="Enter"&&v()},S=z=>{e.block.options?.isLong&&z.key==="Enter"&&(z.metaKey||z.ctrlKey)&&v()};se(()=>{!G()&&d&&d.focus({preventScroll:!0}),window.addEventListener("message",E)}),le(()=>{window.removeEventListener("message",E)});let E=z=>{let{data:ge}=z;ge.isFromTypebot&&ge.command==="setInputValue"&&t(ge.value)},T=z=>{z.preventDefault(),l(!0)},k=()=>l(!1),L=z=>{z.preventDefault(),z.stopPropagation(),z.dataTransfer?.files&&_(z.dataTransfer.files)},_=z=>{let ge=Array.from(z).map(te=>qs({existingFiles:r(),newFile:te,params:{sizeLimit:Qt("NEXT_PUBLIC_BOT_FILE_UPLOAD_MAX_SIZE")?Number(Qt("NEXT_PUBLIC_BOT_FILE_UPLOAD_MAX_SIZE")):void 0},context:e.context,onError:({description:A})=>{Pn.create({description:A})}})).filter(re);ge.length!==0&&o(te=>[...ge,...te])},M=z=>{o(ge=>ge.filter((te,A)=>A!==z))},W=()=>{u("asking")},ue=z=>{let ge,te=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"video/mp4";p=new MediaRecorder(z,{mimeType:te}),p.ondataavailable=A=>{A.data.size!==0&&f.push(A.data)},p.onstart=()=>{ge=Date.now()},p.onstop=async()=>{if(c()!=="started"||f.length===0)return;let A=Date.now()-ge,O=await(0,Fy.fixWebmDuration)(new Blob(f,{type:te}),A),N=new File([O],`rec-${e.block.id}-${Date.now()}.${te==="audio/webm"?"webm":"mp4"}`,{type:te});s(void 0);let de=(await ko({apiHost:e.context.apiHost??Ot({ignoreChatApiUrl:!0}),files:[{file:N,input:{blockId:e.block.id,sessionId:e.context.sessionId,fileName:N.name}}],onUploadProgress:s})).filter(re).map(it=>it.url);e.onSubmit({type:"recording",url:de[0],blobUrl:URL.createObjectURL(N)})},p.start(),u("started")},Ee=()=>{p?.stop(),u("stopped"),p=void 0,f=[]};return(()=>{var z=T_(),ge=z.firstChild;return z.addEventListener("dragleave",k),z.addEventListener("dragover",T),z.addEventListener("drop",L),z.$$keydown=b,x(ge,h(By,{get recordingStatus(){return c()},get buttonsTheme(){return e.context.typebot.theme.chat?.buttons},get context(){return e.context},onRecordingConfirmed:ue,onAbortRecording:Ee}),null),x(ge,h(B,{get when(){return c()!=="started"},get children(){return[h(B,{get when(){return r().length},get children(){var te=S_();return te.style.setProperty("border-bottom-width","1px"),x(te,h(ye,{get each(){return r()},children:(A,O)=>h(Xs,{file:A,get uploadProgressPercent(){return R(()=>!!i())()?R(()=>i()?.fileIndex===O())()?20:O()<(i()?.fileIndex??0)?100:0:void 0},onRemoveClick:()=>M(O())})})),te}}),(()=>{var te=C_();return x(te,(()=>{var A=R(()=>!!e.block.options?.isLong);return()=>A()?h(ey,{ref(O){var N=d;typeof N=="function"?N(O):d=O},onInput:g,onKeyDown:S,get value(){return n()},get placeholder(){return e.block.options?.labels?.placeholder??ba.labels.placeholder}}):h(fr,{ref(O){var N=d;typeof N=="function"?N(O):d=O},onInput:g,get value(){return n()},get placeholder(){return e.block.options?.labels?.placeholder??ba.labels.placeholder}})})(),null),x(te,h(B,{get when(){return(e.block.options?.attachments?.isEnabled??ba.attachments.isEnabled)&&e.block.options?.attachments?.saveVariableId},get children(){return h(Jg,{onNewFiles:_,get class(){return fe(e.block.options?.isLong?"ml-2":void 0)}})}}),null),I(()=>D(te,fe("flex justify-between px-2",e.block.options?.isLong?"items-end":"items-center"))),te})()]}}),null),x(z,h(ke,{get children(){return[h(V,{get when(){return!n()&&c()!=="started"&&e.block.options?.audioClip?.isEnabled},get children(){return h(hn,{class:"h-[56px] flex items-center","on:click":W,"aria-label":"Record voice",get children(){return h(Qg,{class:"flex w-6 h-6"})}})}}),h(V,{when:!0,get children(){return h(Ge,{type:"button","on:click":v,get isDisabled(){return!!i()},class:"h-[56px]",get children(){return e.block.options?.labels?.button}})}})]}}),null),I(te=>{var A=fe("typebot-input-form flex w-full gap-2 items-end",e.block.options?.isLong&&c()!=="started"?"max-w-full":"max-w-[350px]"),O=fe("relative typebot-input flex-col w-full",a()&&"filter brightness-95");return A!==te.e&&D(z,te.e=A),O!==te.t&&D(ge,te.t=O),te},{e:void 0,t:void 0}),z})()};Ve(["keydown"]);var E_=w('<div class="typebot-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex typebot-input w-full"><input class="focus:outline-none bg-transparent px-4 py-4 flex-1 w-full text-input typebot-datetime-input "type=time data-testid=time>'),jy=e=>{let[n,t]=P(e.defaultValue??""),r,o=c=>t(c),i=()=>r?.value!==""&&r?.reportValidity(),s=()=>{i()?e.onSubmit({type:"text",value:r?.value??n()}):r?.focus()},a=c=>{c.key==="Enter"&&s()};se(()=>{!G()&&r&&r.focus({preventScroll:!0}),window.addEventListener("message",l)}),le(()=>{window.removeEventListener("message",l)});let l=c=>{let{data:u}=c;u.isFromTypebot&&u.command==="setInputValue"&&t(u.value)};return(()=>{var c=E_(),u=c.firstChild,d=u.firstChild;c.$$keydown=a,d.$$input=f=>{o(f.currentTarget.value)};var p=r;return typeof p=="function"?pe(p,d):r=d,d.style.setProperty("font-size","16px"),x(c,h(Ge,{type:"button",class:"h-[56px]","on:click":s,get children(){return e.block?.labels?.button}}),null),I(()=>d.value=n()),c})()};Ve(["keydown","input"]);var Vy={labels:{button:ht,placeholder:"Type a URL..."},retryMessageContent:"This URL doesn't seem to be valid. Can you type it again?"};var __=w('<div class="typebot-input-form flex w-full gap-2 items-end max-w-[350px]"><div class="flex typebot-input w-full">'),Hy=e=>{let[n,t]=P(e.defaultValue??""),r,o=c=>{t(c)},i=()=>r?.value!==""&&r?.reportValidity(),s=()=>{r&&!r?.value.startsWith("http")&&(r.value=`https://${r.value}`),i()?e.onSubmit({type:"text",value:r?.value??n()}):r?.focus()},a=c=>{c.key==="Enter"&&s()};se(()=>{!G()&&r&&r.focus({preventScroll:!0}),window.addEventListener("message",l)}),le(()=>{window.removeEventListener("message",l)});let l=c=>{let{data:u}=c;u.isFromTypebot&&u.command==="setInputValue"&&t(u.value)};return(()=>{var c=__(),u=c.firstChild;return c.$$keydown=a,x(u,h(fr,{ref(d){var p=r;typeof p=="function"?p(d):r=d},get value(){return n()},get placeholder(){return e.block.options?.labels?.placeholder??Vy.labels.placeholder},onInput:o,type:"url",autocomplete:"url"})),x(c,h(Ge,{type:"button",class:"h-[56px]","on:click":s,get children(){return e.block.options?.labels?.button}}),null),c})()};Ve(["keydown"]);var va=e=>h(ur.Root,{get open(){return e.isOpen},lazyMount:!0,unmountOnExit:!0,get onOpenChange(){return e.onClose},get children(){return h(Ki,{get mount(){return ns()},get children(){return[h(ur.Backdrop,{class:"fixed inset-0 bg-[rgba(0,0,0,0.8)] h-screen z-50"}),h(ur.Positioner,{class:"fixed inset-0 z-50 flex items-center justify-center px-2",get children(){return[h(ur.Content,{class:"focus:outline-none",get children(){return e.children}}),h(ur.CloseTrigger,{class:"fixed top-4 right-4 z-50 rounded-md bg-[#202020] p-2 text-white",get children(){return h(In,{class:"w-6 h-6"})}})]}})]}})}});var k_=w('<svg viewBox="0 0 156 156"data-testid=default-avatar><rect width=156 height=156 rx=78></rect><path d="M104.936 49.1111C103.446 45.3515 99.7782 42.6938 95.4875 42.6938H58.0109C52.3972 42.6938 47.8457 47.2454 47.8457 52.859V102.555C47.8457 105.405 49.0182 107.98 50.9075 109.825C52.3996 113.584 56.0699 116.242 60.3606 116.242H97.8373C103.451 116.242 108 111.693 108 106.079V56.3837C108 53.5334 106.828 50.9557 104.936 49.1111ZM99.7759 102.555C99.7759 104.918 97.8514 106.843 95.4875 106.843H58.0109C57.3177 106.843 56.6621 106.678 56.0817 106.382C54.6812 105.677 53.7202 104.225 53.7202 102.555V52.859C53.7202 50.4928 55.6446 48.5683 58.0109 48.5683H95.4875C97.748 48.5683 99.6067 50.3283 99.7641 52.5535C99.7712 52.6546 99.7759 52.7556 99.7759 52.859V102.555Z"fill=white></path><path d="M74.1477 54.4219L71.2273 54.9369C70.4362 55.0764 69.908 55.8308 70.0475 56.6219L77.6623 99.8073C77.8017 100.598 78.5561 101.127 79.3472 100.987L82.2676 100.472C83.0587 100.333 83.587 99.5783 83.4475 98.7872L75.8327 55.6018C75.6932 54.8107 74.9388 54.2824 74.1477 54.4219Z"fill=white>'),zy=({backgroundColor:e})=>(()=>{var n=k_(),t=n.firstChild;return F(t,"fill",e),I(()=>F(n,"class",G()?"size-6":"size-10")),n})();var P_=w('<figure><img alt="Bot avatar"class="rounded-full object-cover w-full h-full"elementtiming="Bot avatar"fetchpriority=high>'),xa=e=>{let[n,t]=P(e.src);return me(()=>{(n()?.startsWith("{{")||!n())&&e.src?.startsWith("http")&&t(e.src)}),h(B,{get when(){return Ce(n())},keyed:!0,get fallback(){return h(zy,{get backgroundColor(){return e.isChatContainerLight?Ne.gray.dark[2]:Ne.gray.dark[1]}})},get children(){var r=P_(),o=r.firstChild;return I(i=>{var s="flex justify-center items-center rounded-full text-white relative animate-fade-in flex-shrink-0 "+(G()?"w-6 h-6 text-sm":"w-10 h-10 text-xl"),a=n();return s!==i.e&&D(r,i.e=s),a!==i.t&&F(o,"src",i.t=a),i},{e:void 0,t:void 0}),r}})};var I_=w('<div class="flex justify-end items-end animate-fade-in gap-2 guest-container">'),Wy=w("<div>"),A_=w('<span class="px-[15px] py-[7px]">'),O_=w('<img alt=Attachment class="max-h-[90vh] max-w-[90vw] rounded-[6px]">'),R_=w('<div class="flex flex-col gap-1 items-end"><div class="p-[1px] whitespace-pre-wrap max-w-full typebot-guest-bubble flex flex-col"data-testid=guest-bubble>'),M_=w("<img>"),N_=w('<div class="flex flex-col gap-1 items-end"><div class="p-2 w-full whitespace-pre-wrap typebot-guest-bubble flex flex-col"data-testid=guest-bubble><audio controls>'),Gy=e=>(()=>{var n=I_();return x(n,h(ke,{get children(){return[h(V,{get when(){return e.answer?.type==="text"},get children(){return h(D_,{get answer(){return e.answer}})}}),h(V,{get when(){return e.answer?.type==="recording"},get children(){return h($_,{get answer(){return e.answer}})}})]}}),null),x(n,h(B,{get when(){return e.theme.chat?.guestAvatar?.isEnabled??Xo},get children(){return h(xa,{get src(){return e.avatarSrc},get isChatContainerLight(){return co({chatContainer:e.theme.chat?.container,generalBackground:e.theme.general?.background})}})}}),null),I(t=>(t=e.theme.chat?.hostAvatar?.isEnabled??Dn?G()?"28px":"50px":void 0)!=null?n.style.setProperty("margin-left",t):n.style.removeProperty("margin-left")),n})(),D_=e=>{let[n,t]=P();return(()=>{var r=R_(),o=r.firstChild;return x(r,h(B,{get when(){return(e.answer.attachments??[]).length>0},get children(){return[(()=>{var i=Wy();return x(i,h(ye,{get each(){return e.answer.attachments?.filter(s=>s.type.startsWith("image"))},children:(s,a)=>(()=>{var l=M_();return l.$$click=()=>t(s.blobUrl??s.url),I(c=>{var u=s.blobUrl??s.url,d=`Attached image ${a()+1}`,p=fe("typebot-guest-bubble-image-attachment cursor-pointer",e.answer.attachments.filter(f=>f.type.startsWith("image")).length>1&&"max-w-[90%]");return u!==c.e&&F(l,"src",c.e=u),d!==c.t&&F(l,"alt",c.t=d),p!==c.a&&D(l,c.a=p),c},{e:void 0,t:void 0,a:void 0}),l})()})),I(()=>D(i,fe("flex gap-1 overflow-auto max-w-[350px]",G()?"flex-wrap justify-end":"items-center"))),i})(),(()=>{var i=Wy();return x(i,h(ye,{get each(){return e.answer.attachments?.filter(s=>!s.type.startsWith("image"))},children:s=>h(Ys,{get file(){return{name:s.url.split("/").at(-1)}}})})),I(()=>D(i,fe("flex gap-1 overflow-auto max-w-[350px]",G()?"flex-wrap justify-end":"items-center"))),i})()]}}),o),x(o,h(B,{get when(){return Ce(e.answer.label??e.answer.value)},get children(){var i=A_();return x(i,()=>e.answer.label??e.answer.value),i}})),x(r,h(va,{get isOpen(){return n()!==void 0},onClose:()=>t(void 0),get children(){var i=O_();return I(()=>F(i,"src",n())),i}}),null),r})()},$_=e=>(()=>{var n=N_(),t=n.firstChild,r=t.firstChild;return I(()=>F(r,"src",e.answer.blobUrl??e.answer.url)),n})();Ve(["click"]);var L_=w("<div>"),B_=w('<div class="flex justify-end animate-fade-in gap-2 typebot-input-container">'),qy=e=>{let[n,t]=zt(P(),{key:`typebot-${e.context.typebot.id}-input-${e.chunkIndex}`,storage:e.context.storage});se(()=>{e.isOngoingLastChunk&&re(n())&&e.onSubmit(n())});let r=async i=>{t(i),e.onSubmit(i)},o=i=>{t({type:"text",value:i}),e.onSkip()};return me(()=>{let i=zs().findLast(s=>e.chunkIndex===s.inputIndex)?.formattedMessage;i&&e.block.type!=="file input"&&t(s=>s?.type==="text"?{...s,label:i}:s)}),h(ke,{get children(){return[h(V,{get when(){return n()&&!e.hasError},get children(){return h(Gy,{get answer(){return n()},get theme(){return e.theme},get avatarSrc(){return Us({avatarHistory:e.avatarHistory,currentIndex:e.chunkIndex,currentRole:"guest"})}})}}),h(V,{get when(){return Ye(n())||e.hasError},get children(){var i=B_(),s=e.ref;return typeof s=="function"?pe(s,i):e.ref=i,x(i,h(B,{get when(){return e.theme.chat?.hostAvatar?.isEnabled??Dn},get children(){var a=L_();return I(()=>D(a,"flex flex-shrink-0 items-center "+(G()?"w-6 h-6":"w-10 h-10"))),a}}),null),x(i,h(U_,{get context(){return e.context},get block(){return e.block},get chunkIndex(){return e.chunkIndex},get isInputPrefillEnabled(){return e.isInputPrefillEnabled},get existingAnswer(){return R(()=>!!e.hasError)()?F_(n()):void 0},get onTransitionEnd(){return e.onTransitionEnd},onSubmit:r,onSkip:o}),null),I(()=>F(i,"data-blockid",e.block.id)),i}})]}})},F_=e=>{if(e)return e.type==="text"?e.value:e.url},U_=e=>{let n=o=>e.onSubmit(o),t=()=>e.existingAnswer??(e.isInputPrefillEnabled?e.block.prefilledValue:void 0),r=()=>e.onSubmit({type:"text",value:e.block.options?.labels?.success??ea.labels.success});return h(ke,{get children(){return[h(V,{get when(){return e.block.type==="text input"},get children(){return h(Uy,{get block(){return e.block},get defaultValue(){return t()},get context(){return e.context},onSubmit:n})}}),h(V,{get when(){return e.block.type==="number input"},get children(){return h(Og,{get block(){return e.block},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return e.block.type==="email input"},get children(){return h(_g,{get block(){return e.block},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return e.block.type==="url input"},get children(){return h(Hy,{get block(){return e.block},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return e.block.type==="phone number input"},get children(){return h(zg,{get labels(){return e.block.options?.labels},get defaultCountryCode(){return e.block.options?.defaultCountryCode},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return e.block.type==="date input"},get children(){return h(Tg,{get options(){return e.block.options},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return e.block.type==="time input"},get children(){return h(jy,{get block(){return e.block},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return j_(e.block)},keyed:!0,children:o=>h(ke,{get children(){return[h(V,{get when(){return!o.options?.isMultipleChoice},get children(){return h(vg,{get chunkIndex(){return e.chunkIndex},get defaultItems(){return o.items},get options(){return o.options},onSubmit:n})}}),h(V,{get when(){return o.options?.isMultipleChoice},get children(){return h(Sg,{get defaultItems(){return o.items},get options(){return o.options},onSubmit:n})}})]}})}),h(V,{get when(){return V_(e.block)},keyed:!0,children:o=>h(ke,{get children(){return[h(V,{get when(){return!o.options?.isMultipleChoice},get children(){return h(Yg,{get defaultItems(){return o.items},get options(){return o.options},onSubmit:n,get onTransitionEnd(){return e.onTransitionEnd}})}}),h(V,{get when(){return o.options?.isMultipleChoice},get children(){return h(Kg,{get defaultItems(){return o.items},get options(){return o.options},onSubmit:n,get onTransitionEnd(){return e.onTransitionEnd}})}})]}})}),h(V,{get when(){return e.block.type==="rating input"},get children(){return h(Xg,{get block(){return e.block},get defaultValue(){return t()},onSubmit:n})}}),h(V,{get when(){return e.block.type==="file input"},get children(){return h(Pg,{get context(){return e.context},get block(){return e.block},onSubmit:n,get onSkip(){return e.onSkip}})}}),h(V,{get when(){return e.block.type==="payment input"},get children(){return h(jg,{get context(){return e.context},get options(){return{...e.block.options,...e.block.runtimeOptions}},onSuccess:r,get onTransitionEnd(){return e.onTransitionEnd}})}})]}})},j_=e=>e?.type==="choice input"?e:void 0,V_=e=>e?.type==="picture choice input"?e:void 0;var H_=w('<div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bubble1"></div><div class="w-2 h-2 rounded-full bubble2"></div><div class="w-2 h-2 rounded-full bubble3">'),$t=()=>H_();var Ky={isAutoplayEnabled:!0};var z_=w('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><audio controls>'),W_=400,G_=100,Pc,Yy=e=>{let n=!1,t,r,[o,i]=P(!!e.onTransitionEnd);return se(()=>{Pc=setTimeout(()=>{n||(n=!0,i(!1),setTimeout(()=>e.onTransitionEnd?.(t),W_))},G_)}),le(()=>{Pc&&clearTimeout(Pc)}),(()=>{var s=z_(),a=s.firstChild,l=a.firstChild,c=l.firstChild,u=c.nextSibling,d=t;typeof d=="function"?pe(d,s):t=s,x(c,(()=>{var f=R(()=>!!o());return()=>f()&&h($t,{})})());var p=r;return typeof p=="function"?pe(p,u):r=u,I(f=>{var g=fe("flex flex-col",e.onTransitionEnd?"animate-fade-in":void 0),m=o()?"64px":"100%",v=o()?"32px":"100%",b=e.content?.url,S=e.onTransitionEnd?e.content?.isAutoplayEnabled??Ky.isAutoplayEnabled:!1,E="z-10 text-fade-in "+(o()?"opacity-0":"opacity-100 m-2"),T=o()?G()?"32px":"36px":"revert";return g!==f.e&&D(s,f.e=g),m!==f.t&&((f.t=m)!=null?c.style.setProperty("width",m):c.style.removeProperty("width")),v!==f.a&&((f.a=v)!=null?c.style.setProperty("height",v):c.style.removeProperty("height")),b!==f.o&&F(u,"src",f.o=b),S!==f.i&&(u.autoplay=f.i=S),E!==f.n&&D(u,f.n=E),T!==f.s&&((f.s=T)!=null?u.style.setProperty("height",T):u.style.removeProperty("height")),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s})()};var q_=w('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><div class="w-full overflow-y-auto">'),Ic,K_=400,Xy=e=>{let n,[t,r]=P(!!e.onTransitionEnd),o;return se(()=>{bi({args:{...e.content.initFunction.args,typebotElement:o},content:e.content.initFunction.content}),e.content.waitForEventFunction&&bi({args:{...e.content.waitForEventFunction.args,continueFlow:i=>e.onCompleted(i?{type:"text",value:i}:void 0)},content:e.content.waitForEventFunction.content}),Ic=setTimeout(()=>{r(!1),setTimeout(()=>e.onTransitionEnd?.(n),K_)},2e3)}),le(()=>{Ic&&clearTimeout(Ic)}),(()=>{var i=q_(),s=i.firstChild,a=s.firstChild,l=a.firstChild,c=l.nextSibling,u=c.firstChild,d=n;typeof d=="function"?pe(d,i):n=i,x(l,(()=>{var f=R(()=>!!t());return()=>f()&&h($t,{})})());var p=o;return typeof p=="function"?pe(p,u):o=u,I(f=>{var g=fe("flex flex-col w-full",e.onTransitionEnd?"animate-fade-in":void 0),m=t()?"64px":"100%",v=t()?"32px":"100%",b=fe("p-2 z-20 text-fade-in w-full",t()?"opacity-0":"opacity-100"),S=t()?G()?"32px":"36px":void 0,E=`calc(${pd()} - 100px)`;return g!==f.e&&D(i,f.e=g),m!==f.t&&((f.t=m)!=null?l.style.setProperty("width",m):l.style.removeProperty("width")),v!==f.a&&((f.a=v)!=null?l.style.setProperty("height",v):l.style.removeProperty("height")),b!==f.o&&D(c,f.o=b),S!==f.i&&((f.i=S)!=null?c.style.setProperty("height",S):c.style.removeProperty("height")),E!==f.n&&((f.n=E)!=null?u.style.setProperty("max-height",E):u.style.removeProperty("max-height")),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i})()};var Zy={height:400};var Y_=w('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 "></div><div><iframe id=embed-bubble-content class="w-full h-full ">'),Ac,X_=400,Jy=e=>{let n,[t,r]=P(!!e.onTransitionEnd),o=i=>{e.content?.waitForEvent?.isEnabled&&Ce(i.data.name)&&i.data.name===e.content?.waitForEvent.name&&(e.onCompleted?.(e.content.waitForEvent.saveDataInVariableId&&i.data.data?{type:"text",value:i.data.data}:void 0),window.removeEventListener("message",o))};return se(()=>{Ac=setTimeout(()=>{r(!1),e.content?.waitForEvent?.isEnabled&&window.addEventListener("message",o),setTimeout(()=>{e.onTransitionEnd?.(n)},X_)},2e3)}),le(()=>{Ac&&clearTimeout(Ac),window.removeEventListener("message",o)}),(()=>{var i=Y_(),s=i.firstChild,a=s.firstChild,l=a.firstChild,c=l.nextSibling,u=c.firstChild,d=n;return typeof d=="function"?pe(d,i):n=i,x(l,(()=>{var p=R(()=>!!t());return()=>p()&&h($t,{})})()),I(p=>{var f=fe("flex flex-col w-full",e.onTransitionEnd?"animate-fade-in":void 0),g=t()?"64px":"100%",m=t()?"32px":"100%",v=fe("p-4 z-20 text-fade-in w-full",t()?"opacity-0":"opacity-100 p-4"),b=t()?G()?"32px":"36px":`${e.content?.height??Zy.height}px`,S=e.content?.url;return f!==p.e&&D(i,p.e=f),g!==p.t&&((p.t=g)!=null?l.style.setProperty("width",g):l.style.removeProperty("width")),m!==p.a&&((p.a=m)!=null?l.style.setProperty("height",m):l.style.removeProperty("height")),v!==p.o&&D(c,p.o=v),b!==p.i&&((p.i=b)!=null?c.style.setProperty("height",b):c.style.removeProperty("height")),S!==p.n&&F(u,"src",p.n=S),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i})()};var Oc={clickLink:{alt:"Bubble image"}};var Z_=w('<img elementtiming="Bubble image"fetchpriority=high>'),J_=w('<img class="max-h-[90vh] max-w-[90vw] rounded-[6px]">'),Q_=w('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),ek=w("<a target=_blank rel=noreferrer>"),tk=w("<figure>"),nk=400,rk=5e3,wa,Qy=e=>{let n,t,[r,o]=P(!1),[i,s]=P(!!e.onTransitionEnd),a=()=>{i()&&(s(!1),setTimeout(()=>{e.onTransitionEnd?.(n)},nk))};se(()=>{t&&(wa=setTimeout(a,rk),t.onload=()=>{clearTimeout(wa),a()})}),le(()=>{wa&&clearTimeout(wa)});let l=()=>{o(!0)},c=()=>{o(!1)},u=(()=>{var d=Z_(),p=t;return typeof p=="function"?pe(p,d):t=d,I(f=>{var g=e.content?.url,m=e.content?.clickLink?.alt??Oc.clickLink.alt,v=fe(i()?"opacity-0":"opacity-100",e.onTransitionEnd?"text-fade-in":void 0,e.content?.url?.endsWith(".svg")?"w-full":void 0),b=e.content?.url?.startsWith("data:image/svg")?"100%":void 0,S=e.content?.url?.startsWith("data:image/svg")?"120px":"512px",E=i()?"32px":"auto";return g!==f.e&&F(d,"src",f.e=g),m!==f.t&&F(d,"alt",f.t=m),v!==f.a&&D(d,f.a=v),b!==f.o&&((f.o=b)!=null?d.style.setProperty("width",b):d.style.removeProperty("width")),S!==f.i&&((f.i=S)!=null?d.style.setProperty("max-height",S):d.style.removeProperty("max-height")),E!==f.n&&((f.n=E)!=null?d.style.setProperty("height",E):d.style.removeProperty("height")),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),d})();return(()=>{var d=Q_(),p=d.firstChild,f=p.firstChild,g=f.firstChild,m=n;return typeof m=="function"?pe(m,d):n=d,x(g,(()=>{var v=R(()=>!!i());return()=>v()?h($t,{}):null})()),x(f,(()=>{var v=R(()=>!!e.content?.clickLink);return()=>v()?(()=>{var b=ek();return x(b,u),I(S=>{var E=e.content.clickLink.url,T=fe("z-10",i()?"h-8":"p-4");return E!==S.e&&F(b,"href",S.e=E),T!==S.t&&D(b,S.t=T),S},{e:void 0,t:void 0}),b})():(()=>{var b=tk();return He(b,"click",e.content?.url?.startsWith("data:image/svg")?void 0:l),x(b,u),I(()=>D(b,fe("z-10 cursor-pointer",!i()&&"p-4",i()?G()?"h-8":"h-9":""))),b})()})(),null),x(d,h(va,{get isOpen(){return r()},onClose:c,get children(){var v=J_();return I(b=>{var S=e.content?.url,E=e.content?.clickLink?.alt??Oc.clickLink.alt;return S!==b.e&&F(v,"src",b.e=S),E!==b.t&&F(v,"alt",b.t=E),b},{e:void 0,t:void 0}),v}}),null),I(v=>{var b=fe("flex flex-col",e.onTransitionEnd?"animate-fade-in":void 0),S=i()?"64px":"100%",E=i()?"32px":"100%";return b!==v.e&&D(d,v.e=b),S!==v.t&&((v.t=S)!=null?g.style.setProperty("width",S):g.style.removeProperty("width")),E!==v.a&&((v.a=E)!=null?g.style.setProperty("height",E):g.style.removeProperty("height")),v},{e:void 0,t:void 0,a:void 0}),d})()};var eb=({bubbleContent:e,typingSettings:n})=>{let t=e.match(/(\w+)/g)?.length??0;t===0&&(t=e.length);let{enabled:r,speed:o,maxDelay:i}={enabled:n?.enabled??dt.typingEmulation.enabled,speed:n?.speed??dt.typingEmulation.speed,maxDelay:n?.maxDelay??dt.typingEmulation.maxDelay},a=r?t/o*6e4:0;return a>i*1e3&&(a=i*1e3),a};var Rc=e=>e.map(n=>n.text??Rc(n.children)).join("");var ok=w("<br>"),ik=w("<span>"),sk=(e,n,t)=>{let r="";return e&&(r+="slate-bold"),n&&(r+=" slate-italic"),t&&(r+=" slate-underline"),r},tb=e=>(()=>{var n=ik();return x(n,()=>e.text,null),x(n,h(B,{get when(){return R(()=>!!e.isUniqueChild)()&&ze(e.text)},get children(){return ok()}}),null),I(()=>D(n,sk(e.bold,e.italic,e.underline))),n})();var ak=w('<a target=_blank rel="noopener noreferrer">'),lk=w("<ol>"),ck=w("<ul>"),uk=w("<li>"),dk=w("<span>"),pk=w("<div>"),Ur=e=>h(ke,{get children(){return[h(V,{get when(){return re(e.element.text)},get children(){return h(tb,we(()=>e.element,{get isUniqueChild(){return e.isUniqueChild??!1}}))}}),h(V,{when:!0,get children(){return h(ke,{get children(){return[h(V,{get when(){return e.element.type==="a"},get children(){var n=ak();return x(n,h(ye,{get each(){return e.element.children},children:t=>h(Ur,{element:t,get isUniqueChild(){return e.element.children?.length===1}})})),I(()=>F(n,"href",e.element.url)),n}}),h(V,{get when(){return e.element.type==="ol"},get children(){var n=lk();return x(n,h(ye,{get each(){return e.element.children},children:t=>h(Ur,{element:t,get isUniqueChild(){return e.element.children?.length===1}})})),n}}),h(V,{get when(){return e.element.type==="ul"},get children(){var n=ck();return x(n,h(ye,{get each(){return e.element.children},children:t=>h(Ur,{element:t,get isUniqueChild(){return e.element.children?.length===1}})})),n}}),h(V,{get when(){return e.element.type==="li"},get children(){var n=uk();return x(n,h(ye,{get each(){return e.element.children},children:t=>h(Ur,{element:t,get isUniqueChild(){return e.element.children?.length===1}})})),n}}),h(V,{when:!0,get children(){return h(fk,{get element(){return e.element},get insideInlineVariable(){return e.insideInlineVariable??!1},get children(){return h(ye,{get each(){return e.element.children},children:n=>h(Ur,{element:n,get isUniqueChild(){return e.element.children?.length===1},get insideInlineVariable(){return e.element.type==="inline-variable"}})})}})}})]}})}})]}}),fk=e=>h(ke,{get children(){return[h(V,{get when(){return e.element.type==="inline-variable"||e.insideInlineVariable},get children(){var n=dk();return x(n,()=>e.children),I(()=>F(n,"data-element-type",e.element.type)),n}}),h(V,{when:!0,get children(){var n=pk();return x(n,()=>e.children),I(()=>F(n,"data-element-type",e.element.type)),n}})]}});var hk=w('<div><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing "data-testid=host-bubble></div><div>'),mk=400,Mc,nb=e=>{let n,[t,r]=P(!!e.onTransitionEnd),o=()=>{t()&&(r(!1),setTimeout(()=>{e.onTransitionEnd?.(n)},mk))};return se(()=>{if(!t)return;let i=e.content?.richText?Rc(e.content.richText):"",s=e.typingEmulation?.enabled===!1||e.isTypingSkipped?0:eb({bubbleContent:i,typingSettings:e.typingEmulation});Mc=setTimeout(o,s)}),le(()=>{Mc&&clearTimeout(Mc)}),(()=>{var i=hk(),s=i.firstChild,a=s.firstChild,l=a.firstChild,c=l.nextSibling,u=n;return typeof u=="function"?pe(u,i):n=i,x(l,(()=>{var d=R(()=>!!t());return()=>d()&&h($t,{})})()),x(c,h(ye,{get each(){return e.content?.richText},children:d=>h(Ur,{element:d})})),I(d=>{var p=fe("flex flex-col",e.onTransitionEnd?"animate-fade-in":void 0),f=t()?"64px":"100%",g=t()?"32px":"100%",m=fe("overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative text-ellipsis",t()?"opacity-0":"opacity-100"),v=t()?G()?"16px":"20px":"100%";return p!==d.e&&D(i,d.e=p),f!==d.t&&((d.t=f)!=null?l.style.setProperty("width",f):l.style.removeProperty("width")),g!==d.a&&((d.a=g)!=null?l.style.setProperty("height",g):l.style.removeProperty("height")),m!==d.o&&D(c,d.o=m),v!==d.i&&((d.i=v)!=null?c.style.setProperty("height",v):c.style.removeProperty("height")),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),i})()};var Nc=["youtube","vimeo","tiktok","gumlet"],Gn={height:400,aspectRatio:"16/9",maxWidth:"100%",areControlsDisplayed:!0,isAutoplayEnabled:!0};var gk="https://www.youtube.com/embed";var yk="https://player.vimeo.com/video";var bk="https://www.tiktok.com/embed/v2";var vk="https://play.gumlet.io/embed";var rb={vimeo:yk,youtube:gk,tiktok:bk,gumlet:vk};var ob=e=>e?.isAutoplayEnabled??Gn.isAutoplayEnabled?e?.type==="youtube"||e?.type==="vimeo"?"autoplay=1":e?.type==="gumlet"?"autoplay=true":"":"";var wk=w("<video>"),Sk=w('<div><iframe class="w-full h-full"allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"allowfullscreen>'),Ck=w('<div><div class="flex w-full items-center"><div class="flex relative z-10 items-start typebot-host-bubble overflow-hidden w-full max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing z-10 ">'),Tk=400,Dc,ib=e=>{let n,[t,r]=P(!!e.onTransitionEnd);return se(()=>{let o=e.content?.type&&Nc.includes(e.content?.type)?2e3:100;Dc=setTimeout(()=>{t()&&(r(!1),setTimeout(()=>{e.onTransitionEnd?.(n)},Tk))},o)}),le(()=>{Dc&&clearTimeout(Dc)}),(()=>{var o=Ck(),i=o.firstChild,s=i.firstChild,a=s.firstChild,l=n;return typeof l=="function"?pe(l,o):n=o,x(a,(()=>{var c=R(()=>!!t());return()=>c()&&h($t,{})})()),x(s,h(ke,{get children(){return[h(V,{get when(){return e.content?.type&&e.content.type==="url"},get children(){var c=wk();return I(u=>{var d=e.onTransitionEnd?e.content?.isAutoplayEnabled??Gn.isAutoplayEnabled:!1,p=e.content?.url,f=e.content?.areControlsDisplayed??Gn.areControlsDisplayed,g="p-4 focus:outline-none w-full z-10 text-fade-in rounded-md "+(t()?"opacity-0":"opacity-100"),m=t()?G()?"32px":"36px":"auto",v=e.content?.aspectRatio,b=e.content?.maxWidth??Gn.maxWidth;return d!==u.e&&(c.autoplay=u.e=d),p!==u.t&&F(c,"src",u.t=p),f!==u.a&&(c.controls=u.a=f),g!==u.o&&D(c,u.o=g),m!==u.i&&((u.i=m)!=null?c.style.setProperty("height",m):c.style.removeProperty("height")),v!==u.n&&((u.n=v)!=null?c.style.setProperty("aspect-ratio",v):c.style.removeProperty("aspect-ratio")),b!==u.s&&((u.s=b)!=null?c.style.setProperty("max-width",b):c.style.removeProperty("max-width")),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),c}}),h(V,{get when(){return R(()=>!!e.content?.type)()&&Nc.includes(e.content.type)},get children(){var c=Sk(),u=c.firstChild;return I(d=>{var p=Zt("p-4 z-10 text-fade-in w-full",t()?"opacity-0":"opacity-100 p-4"),f=t()?G()?"32px":"36px":e.content?.aspectRatio?void 0:`${e.content?.height??Gn.height}px`,g=e.content?.aspectRatio,m=e.content?.maxWidth??Gn.maxWidth,v=`${rb[e.content?.type]}/${e.content?.id??""}${e.content?.queryParamsStr??`?${ob(e.content)}`}`;return p!==d.e&&D(c,d.e=p),f!==d.t&&((d.t=f)!=null?c.style.setProperty("height",f):c.style.removeProperty("height")),g!==d.a&&((d.a=g)!=null?c.style.setProperty("aspect-ratio",g):c.style.removeProperty("aspect-ratio")),m!==d.o&&((d.o=m)!=null?c.style.setProperty("max-width",m):c.style.removeProperty("max-width")),v!==d.i&&F(u,"src",d.i=v),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),c}})]}}),null),I(c=>{var u=Zt("flex flex-col w-full",e.onTransitionEnd?"animate-fade-in":void 0),d=t()?"64px":"100%",p=t()?"32px":"100%",f=e.content?.maxWidth??Gn.maxWidth;return u!==c.e&&D(o,c.e=u),d!==c.t&&((c.t=d)!=null?a.style.setProperty("width",d):a.style.removeProperty("width")),p!==c.a&&((c.a=p)!=null?a.style.setProperty("height",p):a.style.removeProperty("height")),f!==c.o&&((c.o=f)!=null?a.style.setProperty("max-width",f):a.style.removeProperty("max-width")),c},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};var sb=e=>h(ke,{get children(){return[h(V,{get when(){return e.message.type==="text"},get children(){return h(nb,{get content(){return e.message.content},get isTypingSkipped(){return e.isTypingSkipped},get typingEmulation(){return e.typingEmulation},get onTransitionEnd(){return e.onTransitionEnd}})}}),h(V,{get when(){return e.message.type==="image"},get children(){return h(Qy,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd}})}}),h(V,{get when(){return e.message.type==="video"},get children(){return h(ib,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd}})}}),h(V,{get when(){return e.message.type==="embed"},get children(){return h(Jy,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd},get onCompleted(){return e.onCompleted}})}}),h(V,{get when(){return e.message.type==="custom-embed"},get children(){return h(Xy,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd},get onCompleted(){return e.onCompleted}})}}),h(V,{get when(){return e.message.type==="audio"},get children(){return h(Yy,{get content(){return e.message.content},get onTransitionEnd(){return e.onTransitionEnd}})}})]}});var jc=Ha(ab(),1);function Uc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Vr=Uc();function pb(e){Vr=e}var fb=/[&<>"']/,Ek=new RegExp(fb.source,"g"),hb=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_k=new RegExp(hb.source,"g"),kk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lb=e=>kk[e];function Ut(e,n){if(n){if(fb.test(e))return e.replace(Ek,lb)}else if(hb.test(e))return e.replace(_k,lb);return e}var Pk=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ik(e){return e.replace(Pk,(n,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var Ak=/(^|[^\[])\^/g;function Ie(e,n){e=typeof e=="string"?e:e.source,n=n||"";let t={replace:(r,o)=>(o=typeof o=="object"&&"source"in o?o.source:o,o=o.replace(Ak,"$1"),e=e.replace(r,o),t),getRegex:()=>new RegExp(e,n)};return t}function cb(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}var Sa={exec:()=>null};function ub(e,n){let t=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(/ \|/),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),n)if(r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Bc(e,n,t){let r=e.length;if(r===0)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i===n&&!t)o++;else if(i!==n&&t)o++;else break}return e.slice(0,r-o)}function Ok(e,n){if(e.indexOf(n[1])===-1)return-1;let t=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===n[0])t++;else if(e[r]===n[1]&&(t--,t<0))return r;return-1}function db(e,n,t,r){let o=n.href,i=n.title?Ut(n.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;let a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:Ut(s)}}function Rk(e,n){let t=e.match(/^(\s+)(?:```)/);if(t===null)return n;let r=t[1];return n.split(`
`).map(o=>{let i=o.match(/^\s+/);if(i===null)return o;let[s]=i;return s.length>=r.length?o.slice(r.length):o}).join(`
`)}var Oo=class{options;rules;lexer;constructor(n){this.options=n||Vr}space(n){let t=this.rules.block.newline.exec(n);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(n){let t=this.rules.block.code.exec(n);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Bc(r,`
`)}}}fences(n){let t=this.rules.block.fences.exec(n);if(t){let r=t[0],o=Rk(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(n){let t=this.rules.block.heading.exec(n);if(t){let r=t[2].trim();if(/#$/.test(r)){let o=Bc(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(n){let t=this.rules.block.hr.exec(n);if(t)return{type:"hr",raw:t[0]}}blockquote(n){let t=this.rules.block.blockquote.exec(n);if(t){let r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;let i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(n){let t=this.rules.block.list.exec(n);if(t){let r=t[1].trim(),o=r.length>1,i={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");let s=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",c=!1;for(;n;){let u=!1;if(!(t=s.exec(n))||this.rules.block.hr.test(n))break;a=t[0],n=n.substring(a.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),p=n.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,l=d.trimStart()):(f=t[2].search(/[^ ]/),f=f>4?1:f,l=d.slice(f),f+=t[1].length);let g=!1;if(!d&&/^ *$/.test(p)&&(a+=p+`
`,n=n.substring(p.length+1),u=!0),!u){let b=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),E=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;n;){let k=n.split(`
`,1)[0];if(p=k,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),E.test(p)||T.test(p)||b.test(p)||S.test(n))break;if(p.search(/[^ ]/)>=f||!p.trim())l+=`
`+p.slice(f);else{if(g||d.search(/[^ ]/)>=4||E.test(d)||T.test(d)||S.test(d))break;l+=`
`+p}!g&&!p.trim()&&(g=!0),a+=k+`
`,n=n.substring(k.length+1),d=p.slice(f)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let m=null,v;this.options.gfm&&(m=/^\[[ xX]\] /.exec(l),m&&(v=m[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!m,checked:v,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){let d=i.items[u].tokens.filter(f=>f.type==="space"),p=d.length>0&&d.some(f=>/\n.*\n/.test(f.raw));i.loose=p}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(n){let t=this.rules.block.html.exec(n);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(n){let t=this.rules.block.def.exec(n);if(t){let r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(n){let t=this.rules.block.table.exec(n);if(t){if(!/[:|]/.test(t[2]))return;let r={type:"table",raw:t[0],header:ub(t[1]).map(o=>({text:o,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){let o=r.align.length,i,s,a,l;for(i=0;i<o;i++){let c=r.align[i];c&&(/^ *-+: *$/.test(c)?r.align[i]="right":/^ *:-+: *$/.test(c)?r.align[i]="center":/^ *:-+ *$/.test(c)?r.align[i]="left":r.align[i]=null)}for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=ub(r.rows[i],r.header.length).map(c=>({text:c,tokens:[]}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(l=r.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(n){let t=this.rules.block.lheading.exec(n);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(n){let t=this.rules.block.paragraph.exec(n);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(n){let t=this.rules.block.text.exec(n);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(n){let t=this.rules.inline.escape.exec(n);if(t)return{type:"escape",raw:t[0],text:Ut(t[1])}}tag(n){let t=this.rules.inline.tag.exec(n);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(n){let t=this.rules.inline.link.exec(n);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let s=Bc(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=Ok(t[2],"()");if(s>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),db(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(n,t){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return db(r,o,r[0],this.lexer)}}emStrong(n,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let s=[...o[0]].length-1,a,l,c=s,u=0,d=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(d.lastIndex=0,t=t.slice(-1*n.length+o[0].length-1);(o=d.exec(t))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}else if((o[5]||o[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let p=[...n].slice(0,s+o.index+l+1).join("");if(Math.min(s,l)%2){let g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(n){let t=this.rules.inline.code.exec(n);if(t){let r=t[2].replace(/\n/g," "),o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Ut(r,!0),{type:"codespan",raw:t[0],text:r}}}br(n){let t=this.rules.inline.br.exec(n);if(t)return{type:"br",raw:t[0]}}del(n){let t=this.rules.inline.del.exec(n);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(n){let t=this.rules.inline.autolink.exec(n);if(t){let r,o;return t[2]==="@"?(r=Ut(t[1]),o="mailto:"+r):(r=Ut(t[1]),o=r),{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(n){let t;if(t=this.rules.inline.url.exec(n)){let r,o;if(t[2]==="@")r=Ut(t[0]),o="mailto:"+r;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(i!==t[0]);r=Ut(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n){let t=this.rules.inline.text.exec(n);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=Ut(t[0]),{type:"text",raw:t[0],text:r}}}},ie={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Sa,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ie._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ie._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ie.def=Ie(ie.def).replace("label",ie._label).replace("title",ie._title).getRegex();ie.bullet=/(?:[*+-]|\d{1,9}[.)])/;ie.listItemStart=Ie(/^( *)(bull) */).replace("bull",ie.bullet).getRegex();ie.list=Ie(ie.list).replace(/bull/g,ie.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ie.def.source+")").getRegex();ie._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ie._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ie.html=Ie(ie.html,"i").replace("comment",ie._comment).replace("tag",ie._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ie.lheading=Ie(ie.lheading).replace(/bull/g,ie.bullet).getRegex();ie.paragraph=Ie(ie._paragraph).replace("hr",ie.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie._tag).getRegex();ie.blockquote=Ie(ie.blockquote).replace("paragraph",ie.paragraph).getRegex();ie.normal={...ie};ie.gfm={...ie.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};ie.gfm.table=Ie(ie.gfm.table).replace("hr",ie.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie._tag).getRegex();ie.gfm.paragraph=Ie(ie._paragraph).replace("hr",ie.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ie.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie._tag).getRegex();ie.pedantic={...ie.normal,html:Ie(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ie._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Sa,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ie(ie.normal._paragraph).replace("hr",ie.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ie.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var j={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Sa,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Sa,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};j._punctuation="\\p{P}$+<=>`^|~";j.punctuation=Ie(j.punctuation,"u").replace(/punctuation/g,j._punctuation).getRegex();j.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;j.anyPunctuation=/\\[punct]/g;j._escapes=/\\([punct])/g;j._comment=Ie(ie._comment).replace("(?:-->|$)","-->").getRegex();j.emStrong.lDelim=Ie(j.emStrong.lDelim,"u").replace(/punct/g,j._punctuation).getRegex();j.emStrong.rDelimAst=Ie(j.emStrong.rDelimAst,"gu").replace(/punct/g,j._punctuation).getRegex();j.emStrong.rDelimUnd=Ie(j.emStrong.rDelimUnd,"gu").replace(/punct/g,j._punctuation).getRegex();j.anyPunctuation=Ie(j.anyPunctuation,"gu").replace(/punct/g,j._punctuation).getRegex();j._escapes=Ie(j._escapes,"gu").replace(/punct/g,j._punctuation).getRegex();j._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;j._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;j.autolink=Ie(j.autolink).replace("scheme",j._scheme).replace("email",j._email).getRegex();j._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;j.tag=Ie(j.tag).replace("comment",j._comment).replace("attribute",j._attribute).getRegex();j._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;j._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;j._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;j.link=Ie(j.link).replace("label",j._label).replace("href",j._href).replace("title",j._title).getRegex();j.reflink=Ie(j.reflink).replace("label",j._label).replace("ref",ie._label).getRegex();j.nolink=Ie(j.nolink).replace("ref",ie._label).getRegex();j.reflinkSearch=Ie(j.reflinkSearch,"g").replace("reflink",j.reflink).replace("nolink",j.nolink).getRegex();j.normal={...j};j.pedantic={...j.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ie(/^!?\[(label)\]\((.*?)\)/).replace("label",j._label).getRegex(),reflink:Ie(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j._label).getRegex()};j.gfm={...j.normal,escape:Ie(j.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};j.gfm.url=Ie(j.gfm.url,"i").replace("email",j.gfm._extended_email).getRegex();j.breaks={...j.gfm,br:Ie(j.br).replace("{2,}","*").getRegex(),text:Ie(j.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};var qn=class e{tokens;options;state;tokenizer;inlineQueue;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Vr,this.options.tokenizer=this.options.tokenizer||new Oo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:ie.normal,inline:j.normal};this.options.pedantic?(t.block=ie.pedantic,t.inline=j.pedantic):this.options.gfm&&(t.block=ie.gfm,this.options.breaks?t.inline=j.breaks:t.inline=j.gfm),this.tokenizer.rules=t}static get rules(){return{block:ie,inline:j}}static lex(n,t){return new e(t).lex(n)}static lexInline(n,t){return new e(t).inlineTokens(n)}lex(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(n,t=[]){this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let r,o,i,s;for(;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},n,t))?(n=n.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),t.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=n.slice(1),c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(n){let a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(n,t=[]){return this.inlineQueue.push({src:n,tokens:t}),t}inlineTokens(n,t=[]){let r,o,i,s=n,a,l,c;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;n;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},n,t))?(n=n.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=t[t.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=t[t.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(n,s,c)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(n)){n=n.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n))){n=n.substring(r.raw.length),t.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let u=1/0,d=n.slice(1),p;this.options.extensions.startInline.forEach(f=>{p=f.call({lexer:this},d),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(i=n.substring(0,u+1))}if(r=this.tokenizer.inlineText(i)){n=n.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,o=t[t.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(n){let u="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},Ro=class{options;constructor(n){this.options=n||Vr}code(n,t,r){let o=(t||"").match(/^\S*/)?.[0];return n=n.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+Ut(o)+'">'+(r?n:Ut(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:Ut(n,!0))+`</code></pre>
`}blockquote(n){return`<blockquote>
${n}</blockquote>
`}html(n,t){return n}heading(n,t,r){return`<h${t}>${n}</h${t}>
`}hr(){return`<hr>
`}list(n,t,r){let o=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+n+"</"+o+`>
`}listitem(n,t,r){return`<li>${n}</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(n){return`<p>${n}</p>
`}table(n,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+t+`</table>
`}tablerow(n){return`<tr>
${n}</tr>
`}tablecell(n,t){let r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+n+`</${r}>
`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return"<br>"}del(n){return`<del>${n}</del>`}link(n,t,r){let o=cb(n);if(o===null)return r;n=o;let i='<a href="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(n,t,r){let o=cb(n);if(o===null)return r;n=o;let i=`<img src="${n}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(n){return n}},Ii=class{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,t,r){return""+r}image(n,t,r){return""+r}br(){return""}},Kn=class e{options;renderer;textRenderer;constructor(n){this.options=n||Vr,this.options.renderer=this.options.renderer||new Ro,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ii}static parse(n,t){return new e(t).parse(n)}static parseInline(n,t){return new e(t).parseInline(n)}parse(n,t=!0){let r="";for(let o=0;o<n.length;o++){let i=n[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){r+=a||"";continue}}switch(i.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{let s=i;r+=this.renderer.heading(this.parseInline(s.tokens),s.depth,Ik(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{let s=i;r+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{let s=i,a="",l="";for(let u=0;u<s.header.length;u++)l+=this.renderer.tablecell(this.parseInline(s.header[u].tokens),{header:!0,align:s.align[u]});a+=this.renderer.tablerow(l);let c="";for(let u=0;u<s.rows.length;u++){let d=s.rows[u];l="";for(let p=0;p<d.length;p++)l+=this.renderer.tablecell(this.parseInline(d[p].tokens),{header:!1,align:s.align[p]});c+=this.renderer.tablerow(l)}r+=this.renderer.table(a,c);continue}case"blockquote":{let s=i,a=this.parse(s.tokens);r+=this.renderer.blockquote(a);continue}case"list":{let s=i,a=s.ordered,l=s.start,c=s.loose,u="";for(let d=0;d<s.items.length;d++){let p=s.items[d],f=p.checked,g=p.task,m="";if(p.task){let v=this.renderer.checkbox(!!f);c?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=v+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=v+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:v+" "}):m+=v+" "}m+=this.parse(p.tokens,c),u+=this.renderer.listitem(m,g,!!f)}r+=this.renderer.list(u,a,l);continue}case"html":{let s=i;r+=this.renderer.html(s.text,s.block);continue}case"paragraph":{let s=i;r+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<n.length&&n[o+1].type==="text";)s=n[++o],a+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);r+=t?this.renderer.paragraph(a):a;continue}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}parseInline(n,t){t=t||this.renderer;let r="";for(let o=0;o<n.length;o++){let i=n[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let s=this.options.extensions.renderers[i.type].call({parser:this},i);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=s||"";continue}}switch(i.type){case"escape":{let s=i;r+=t.text(s.text);break}case"html":{let s=i;r+=t.html(s.text);break}case"link":{let s=i;r+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{let s=i;r+=t.image(s.href,s.title,s.text);break}case"strong":{let s=i;r+=t.strong(this.parseInline(s.tokens,t));break}case"em":{let s=i;r+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{let s=i;r+=t.codespan(s.text);break}case"br":{r+=t.br();break}case"del":{let s=i;r+=t.del(this.parseInline(s.tokens,t));break}case"text":{let s=i;r+=t.text(s.text);break}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}},Ao=class{options;constructor(n){this.options=n||Vr}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(n){return n}postprocess(n){return n}},Fc=class{defaults=Uc();options=this.setOptions;parse=this.#e(qn.lex,Kn.parse);parseInline=this.#e(qn.lexInline,Kn.parseInline);Parser=Kn;parser=Kn.parse;Renderer=Ro;TextRenderer=Ii;Lexer=qn;lexer=qn.lex;Tokenizer=Oo;Hooks=Ao;constructor(...n){this.use(...n)}walkTokens(n,t){let r=[];for(let o of n)switch(r=r.concat(t.call(this,o)),o.type){case"table":{let i=o;for(let s of i.header)r=r.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)r=r.concat(this.walkTokens(a.tokens,t));break}case"list":{let i=o;r=r.concat(this.walkTokens(i.items,t));break}default:{let i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{r=r.concat(this.walkTokens(i[s],t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}}return r}use(...n){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(r=>{let o={...r};if(o.async=this.defaults.async||o.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),o.extensions=t),r.renderer){let i=this.defaults.renderer||new Ro(this.defaults);for(let s in r.renderer){let a=r.renderer[s],l=s,c=i[l];i[l]=(...u)=>{let d=a.apply(i,u);return d===!1&&(d=c.apply(i,u)),d||""}}o.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new Oo(this.defaults);for(let s in r.tokenizer){let a=r.tokenizer[s],l=s,c=i[l];i[l]=(...u)=>{let d=a.apply(i,u);return d===!1&&(d=c.apply(i,u)),d}}o.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new Ao;for(let s in r.hooks){let a=r.hooks[s],l=s,c=i[l];Ao.passThroughHooks.has(s)?i[l]=u=>{if(this.defaults.async)return Promise.resolve(a.call(i,u)).then(p=>c.call(i,p));let d=a.call(i,u);return c.call(i,d)}:i[l]=(...u)=>{let d=a.apply(i,u);return d===!1&&(d=c.apply(i,u)),d}}o.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,s=r.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}#e(n,t){return(r,o)=>{let i={...o},s={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);let a=this.#t(!!s.silent,!!s.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(l=>n(l,s)).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>t(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let l=n(r,s);s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=t(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return a(l)}}}#t(n,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let o="<p>An error occurred:</p><pre>"+Ut(r.message+"",!0)+"</pre>";return t?Promise.resolve(o):o}if(t)return Promise.reject(r);throw r}}},jr=new Fc;function Te(e,n){return jr.parse(e,n)}Te.options=Te.setOptions=function(e){return jr.setOptions(e),Te.defaults=jr.defaults,pb(Te.defaults),Te};Te.getDefaults=Uc;Te.defaults=Vr;Te.use=function(...e){return jr.use(...e),Te.defaults=jr.defaults,pb(Te.defaults),Te};Te.walkTokens=function(e,n){return jr.walkTokens(e,n)};Te.parseInline=jr.parseInline;Te.Parser=Kn;Te.parser=Kn.parse;Te.Renderer=Ro;Te.TextRenderer=Ii;Te.Lexer=qn;Te.lexer=qn.lex;Te.Tokenizer=Oo;Te.Hooks=Ao;Te.parse=Te;var xV=Te.options,wV=Te.setOptions,SV=Te.use,CV=Te.walkTokens,TV=Te.parseInline;var EV=Kn.parse,_V=qn.lex;var Mk=w('<div class="flex flex-col animate-fade-in typebot-streaming-container"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble max-w-full"><div class="flex items-center absolute px-4 py-2 bubble-typing "data-testid=host-bubble></div><div class="flex flex-col overflow-hidden text-fade-in mx-4 my-2 relative text-ellipsis h-full gap-6">'),Nk=w("<span>"),mb=e=>{let[n,t]=zt(P([]),{key:`typebot-streaming-message-${e.streamingMessageId}`,storage:e.context.storage});return Te.use({renderer:{link:(r,o,i)=>`<a href="${r}" target="_blank" rel="noopener noreferrer">${i}</a>`}}),me(()=>{if(ic()?.id!==e.streamingMessageId)return[];t(ic()?.content.split("```").flatMap((r,o)=>o%2===0?r.split(`

`).map(i=>jc.default.sanitize(Te.parse(i.replace(/【.+】/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),{breaks:!0}),{ADD_ATTR:["target"]})):[jc.default.sanitize(Te.parse("```"+r+"```".replace(/</g,"&lt;").replace(/>/g,"&gt;"),{breaks:!0}),{ADD_ATTR:["target"]})]).filter(Ce)??[])}),(()=>{var r=Mk(),o=r.firstChild,i=o.firstChild,s=i.firstChild,a=s.nextSibling;return s.style.setProperty("width","100%"),s.style.setProperty("height","100%"),x(a,h(ye,{get each(){return n()},children:l=>(()=>{var c=Nk();return c.innerHTML=l,c})()})),r})()};var Dk=w("<div><div>"),Ai=e=>{let n,[t,r]=P(0),o=new ResizeObserver(i=>r(i[0].target.clientHeight-(G()?24:40)));return se(()=>{n&&o.observe(n)}),le(()=>{n&&o.unobserve(n)}),(()=>{var i=Dk(),s=i.firstChild,a=n;return typeof a=="function"?pe(a,i):n=i,x(s,h(xa,{get src(){return e.avatarSrc},get isChatContainerLight(){return co({chatContainer:e.theme.chat?.container,generalBackground:e.theme.general?.background})}})),I(l=>{var c="flex flex-shrink-0 items-center relative typebot-avatar-container "+(G()?"w-6":"w-10"),u="absolute flex items-center top-0"+(G()?" w-6 h-6":" w-10 h-10")+(e.hideAvatar?" opacity-0":" opacity-100"),d=`${t()}px`,p=e.isTransitionDisabled?void 0:"top 350ms ease-out, opacity 250ms ease-out";return c!==l.e&&D(i,l.e=c),u!==l.t&&D(s,l.t=u),d!==l.a&&((l.a=d)!=null?s.style.setProperty("top",d):s.style.removeProperty("top")),p!==l.o&&((l.o=p)!=null?s.style.setProperty("transition",p):s.style.removeProperty("transition")),l},{e:void 0,t:void 0,a:void 0,o:void 0}),i})()};var gb=w('<div><div class="flex flex-col flex-1 gap-2">'),$k=w('<div class="flex flex-col w-full min-w-0 gap-2 typebot-chat-chunk">'),yb=e=>{let n,[t,r]=P(e.isTransitionDisabled?e.messages.length:0),[o,i]=P();se(()=>{e.streamingMessageId||(e.messages.length===0&&e.onAllBubblesDisplayed(),e.onScrollToBottom(n,50))});let s=async l=>{(e.settings.typingEmulation?.delayBetweenBubbles??dt.typingEmulation.delayBetweenBubbles)>0&&t()<e.messages.length-1&&await new Promise(u=>setTimeout(u,(e.settings.typingEmulation?.delayBetweenBubbles??dt.typingEmulation.delayBetweenBubbles)*1e3));let c=e.messages[t()].id;await e.onNewBubbleDisplayed(c),r(t()===e.messages.length?t():t()+1),e.onScrollToBottom(l),t()===e.messages.length&&(i(l),e.onAllBubblesDisplayed())},a=Us({avatarHistory:e.avatarsHistory,currentIndex:e.index,currentRole:"host"});return(()=>{var l=$k();return x(l,h(B,{get when(){return e.messages.length>0},get children(){var c=gb(),u=c.firstChild;return x(c,h(B,{get when(){return(e.theme.chat?.hostAvatar?.isEnabled??Dn)&&e.messages.length>0},get children(){return h(Ai,{get hideAvatar(){return e.hideAvatar},get isTransitionDisabled(){return e.isTransitionDisabled},get theme(){return e.theme},avatarSrc:a})}}),u),x(u,h(ye,{get each(){return e.messages.slice(0,t()+1)},children:(d,p)=>h(sb,{message:d,get typingEmulation(){return e.settings.typingEmulation},get isTypingSkipped(){return R(()=>!!((e.settings.typingEmulation?.isDisabledOnFirstMessage??dt.typingEmulation.isDisabledOnFirstMessage)&&e.index===0))()&&p()===0},get onTransitionEnd(){return e.isTransitionDisabled?void 0:s},get onCompleted(){return e.onSubmit}})})),I(d=>{var p="flex"+(G()?" gap-1":" gap-2"),f=e.theme.chat?.guestAvatar?.isEnabled??Xo?G()?"calc(100% - 60px)":"calc(100% - 48px - 48px)":"100%";return p!==d.e&&D(c,d.e=p),f!==d.t&&((d.t=f)!=null?u.style.setProperty("max-width",f):u.style.removeProperty("max-width")),d},{e:void 0,t:void 0}),c}}),null),x(l,(()=>{var c=R(()=>!!(e.input&&t()===e.messages.length&&!Ws()[`${e.input.id}-${e.index}`]));return()=>c()&&h(qy,{ref(u){var d=n;typeof d=="function"?d(u):n=u},get block(){return e.input},get chunkIndex(){return e.index},get theme(){return e.theme},get avatarHistory(){return e.avatarsHistory},get context(){return e.context},get isInputPrefillEnabled(){return e.settings.general?.isInputPrefillEnabled??dt.general.isInputPrefillEnabled},get isOngoingLastChunk(){return e.isOngoingLastChunk},get hasError(){return e.hasError},onTransitionEnd:()=>e.onScrollToBottom(o()),get onSubmit(){return e.onSubmit},get onSkip(){return e.onSkip}})})(),null),x(l,h(B,{get when(){return e.streamingMessageId},keyed:!0,children:c=>(()=>{var u=gb(),d=u.firstChild;return x(u,h(B,{get when(){return e.theme.chat?.hostAvatar?.isEnabled??Dn},get children(){return h(Ai,{get hideAvatar(){return e.hideAvatar},get theme(){return e.theme},avatarSrc:a})}}),d),x(d,h(mb,{streamingMessageId:c,get context(){return e.context}})),I(p=>{var f="flex"+(G()?" gap-1":" gap-2"),g=e.theme.chat?.guestAvatar?.isEnabled??Xo?G()?"calc(100% - 60px)":"calc(100% - 48px - 48px)":"100%";return f!==p.e&&D(u,p.e=f),g!==p.t&&((p.t=g)!=null?d.style.setProperty("max-width",g):d.style.removeProperty("max-width")),p},{e:void 0,t:void 0}),u})()}),null),l})()};var Lk=w('<div class="flex flex-col animate-fade-in"><div class="flex w-full items-center"><div class="flex relative items-start typebot-host-bubble"><div class="flex items-center absolute px-4 py-2 bubble-typing "data-testid=host-bubble></div><p class="overflow-hidden text-fade-in mx-4 my-2 whitespace-pre-wrap slate-html-container relative opacity-0 h-6 text-ellipsis">'),bb=()=>(()=>{var e=Lk(),n=e.firstChild,t=n.firstChild,r=t.firstChild;return r.style.setProperty("width","64px"),r.style.setProperty("height","32px"),x(r,h($t,{})),e})();var Bk=w('<div class="flex w-full typebot-loading-chunk"><div class="flex flex-col w-full min-w-0"><div class="flex gap-2">'),vb=e=>(()=>{var n=Bk(),t=n.firstChild,r=t.firstChild;return x(r,h(B,{get when(){return e.theme.chat?.hostAvatar?.isEnabled??Dn},get children(){return h(Ai,{get theme(){return e.theme},get avatarSrc(){return e.avatarSrc}})}}),null),x(r,h(bb,{}),null),n})();var Fk=w('<div class="flex flex-col overflow-y-auto w-full relative scrollable-container typebot-chat-view scroll-smooth gap-2">'),Uk=w('<div class="w-full flex-shrink-0 typebot-bottom-spacer h-[20%]">'),jk=.6,Vk=50,xb=e=>{let n,[t,r]=zt(P([{input:e.initialChatReply.input,messages:e.initialChatReply.messages}]),{key:`typebot-${e.context.typebot.id}-chatChunks`,storage:e.context.storage,onRecovered:()=>{setTimeout(()=>{n?.scrollTo(0,n.scrollHeight)},200)}}),[o,i]=zt(P(e.initialChatReply.clientSideActions??[]),{key:`typebot-${e.context.typebot.id}-clientSideActions`,storage:e.context.storage}),[s,a]=zt(P(!1),{key:`typebot-${e.context.typebot.id}-isEnded`,storage:e.context.storage}),[l,c]=zt(P(0),{key:`typebot-${e.context.typebot.id}-totalChunksDisplayed`,storage:e.context.storage}),[u,d]=P(!1),[p,f]=P(!1),[g,m]=P({}),[v,b]=zt(P(Wm({initialTheme:e.initialChatReply.typebot.theme,dynamicTheme:e.initialChatReply.dynamicTheme})),{key:`typebot-${e.context.typebot.id}-avatarsHistory`,storage:e.context.storage});se(()=>{window.addEventListener("message",Ee),(async()=>{if(t().length>1)S();else{let O=o()?.filter(N=>Ye(N.lastBubbleBlockId));await ue(O)}})()});let S=()=>{[...t()].pop()?.streamingMessageId&&r(O=>O.slice(0,-1));let A=Vc({clientSideActions:o(),lastBubbleBlockId:void 0});i(O=>O.slice(A.length))},E=({id:A,message:O})=>{d(!1);let N=[...t()].pop();N&&(N.streamingMessageId!==A&&r(de=>[...de,{messages:[],streamingMessageId:A}]),sc({id:A,content:O}))},T=async A=>{A&&(e.onNewLogs?.(A),!e.context.isPreview&&await Zl({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,clientLogs:A}))},k=async A=>{f(!1);let O=[...t()].pop()?.input;O?.id&&A&&(e.onAnswer&&e.onAnswer({message:gg(A),blockId:O.id}),m(Pt=>({...Pt,[ge(O.id)]:!0})));let N=setTimeout(()=>{d(!0)},1e3);_();let{data:de,error:it}=await Xl({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,message:zk(A)});clearTimeout(N),d(!1),await L({data:de,error:it})},L=async({data:A,error:O})=>{if(O){f(!0);let N=[await dr({err:O,context:"While sending message"})];await Zl({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,clientLogs:N}),e.onNewLogs?.(N);return}if(A){if(A.progress&&e.onProgressUpdate?.(A.progress),A.lastMessageNewFormat&&oc([...zs(),{inputIndex:[...t()].length-1,formattedMessage:A.lastMessageNewFormat}]),A.logs&&e.onNewLogs?.(A.logs),A.dynamicTheme&&(b(N=>Gm({newAvatars:rs(e.initialChatReply.typebot.theme,A.dynamicTheme),avatarHistory:N,currentChunkIndex:t().length})),A.dynamicTheme?.backgroundUrl&&ll({background:{type:"Image",content:A.dynamicTheme?.backgroundUrl},documentStyle:ns()?.style??document.documentElement.style,typebotVersion:bg})),A.input&&e.onNewInputBlock&&e.onNewInputBlock(A.input),A.clientSideActions){i(A.clientSideActions);let N=Vc({clientSideActions:A.clientSideActions,lastBubbleBlockId:void 0});if(await ue(N),A.clientSideActions.length===1&&A.clientSideActions[0].type==="stream"&&A.messages.length===0&&A.input===void 0)return}r(N=>[...N,{input:A.input,messages:A.messages.filter(de=>de.type!=="text"||de.content.type!=="richText"||de.content.richText.length>1||de.content.richText[0].type!=="variable"||de.content.richText[0].children.length>0)}])}},_=(A,O=0)=>{!n||n.scrollTop+n.clientHeight<n.scrollHeight-n.clientHeight*jk||setTimeout(()=>{n?.scrollTo({top:A?A.offsetTop-O:n.scrollHeight,behavior:"smooth"})},Vk)},M=async()=>{t().length>l()&&c(O=>O+1);let A=[...t()].pop();A&&Ye(A.input)&&(a(!0),e.onEnd?.())},W=async A=>{let O=Vc({clientSideActions:o(),lastBubbleBlockId:A});await ue(O)},ue=async A=>{for(let O of A){("streamOpenAiChatCompletion"in O||"webhookToExecute"in O||"stream"in O)&&d(!0);let N=await mg({clientSideAction:O,context:{apiHost:e.context.apiHost,wsHost:e.context.wsHost,sessionId:e.initialChatReply.sessionId,resultId:e.initialChatReply.resultId},onMessageStream:E,onStreamError:de=>{f(!0),e.onNewLogs?.([de])}});if(("streamOpenAiChatCompletion"in O||"stream"in O)&&(c(de=>de+1),N&&"replyToSend"in N&&!N.replyToSend)){d(!1);continue}if(i(de=>de.slice(1)),N&&"logs"in N&&T(N.logs),N&&"replyToSend"in N){d(!1),k(N.replyToSend?{type:"text",value:N.replyToSend}:void 0);return}N&&"blockedPopupUrl"in N&&Pn.create({description:e.context.typebot.settings.general?.systemMessages?.popupBlockedDescription??Jn.popupBlockedDescription,meta:{link:N.blockedPopupUrl}}),N&&"scriptCallbackMessage"in N&&e.onScriptExecutionSuccess?.(N.scriptCallbackMessage)}};le(()=>{sc(void 0),oc([]),window.removeEventListener("message",Ee)});let Ee=async A=>{let{data:O}=A;!O.isFromTypebot||O.id&&e.context.typebot.id!==O.id||O.command==="sendCommand"&&!s()&&await z(O.text)},z=async(A,O=0,N=5)=>{if(u()){if(O>=N)throw new Error("Max retry attempts for command reached");return await new Promise(An=>setTimeout(An,5e3)),z(A,O+1,N)}let de=[...t()].pop()?.input;de?.id&&!g()[ge(de.id)]&&yg(An=>({...An,[ge(de.id)]:!0}));let it=setTimeout(()=>{d(!0)},1e3);_();let{data:Pt,error:hr}=await Xl({apiHost:e.context.apiHost,sessionId:e.initialChatReply.sessionId,message:{type:"command",command:A}});return clearTimeout(it),d(!1),L({data:Pt,error:hr})},ge=A=>`${A}-${t().length-1}`,te=()=>k(void 0);return(()=>{var A=Fk(),O=n;return typeof O=="function"?pe(O,A):n=A,x(A,h(ye,{get each(){return t().slice(0,l()+1)},children:(N,de)=>h(yb,{get index(){return de()},get messages(){return N.messages},get input(){return N.input},get theme(){return e.initialChatReply.typebot.theme},get avatarsHistory(){return v()},get settings(){return e.initialChatReply.typebot.settings},get streamingMessageId(){return N.streamingMessageId},get context(){return e.context},get hideAvatar(){return R(()=>!!(!N.input||Ws()[`${N.input.id}-${de()}`]))()&&((t().slice(0,l()+1)[de()+1]?.messages??[]).length>0||t().slice(0,l()+1)[de()+1]?.streamingMessageId!==void 0||N.messages.length>0&&u())},get hasError(){return R(()=>!!p())()&&de()===t().slice(0,l()+1).length-1},get isTransitionDisabled(){return de()!==t().slice(0,l()+1).length-1},get isOngoingLastChunk(){return R(()=>!s())()&&de()===t().slice(0,l()+1).length-1},onNewBubbleDisplayed:W,onAllBubblesDisplayed:M,onSubmit:k,onScrollToBottom:_,onSkip:te})}),null),x(A,h(B,{get when(){return u()},get children(){return h(vb,{get theme(){return e.initialChatReply.typebot.theme},get avatarSrc(){return v().findLast(N=>N.role==="host")?.avatarUrl}})}}),null),x(A,h(Hk,{}),null),A})()},Hk=()=>Uk(),zk=e=>{if(e){if(e.type==="text")return{type:"text",text:e.value,attachedFileUrls:e.attachments?.map(n=>n.url)};if(e.type==="recording")return{type:"audio",url:e.url}}},Vc=({clientSideActions:e,lastBubbleBlockId:n})=>{let t=[],r=n;for(let o of e){if(r!==o.lastBubbleBlockId)break;r=o.lastBubbleBlockId,n===o.lastBubbleBlockId&&t.push(o)}return t};var Wk=w('<div class="h-full flex justify-center items-center flex-col"><p class="text-2xl text-center"></p><pre>'),wb=e=>(()=>{var n=Wk(),t=n.firstChild,r=t.nextSibling;return x(t,()=>e.error.message),x(r,()=>JSON.stringify(e.error.cause,null,2)),n})();var Gk=w('<svg viewBox="0 0 40 48"width=13 fill=none><path d="M37.9625 4.18811C36.9719 1.73444 34.5328 0 31.6797 0H6.75937C3.02656 0 0 2.97048 0 6.63412V39.0671C0 40.9273 0.779687 42.6081 2.03594 43.8119C3.02813 46.2656 5.46875 48 8.32187 48H33.2422C36.975 48 40 45.0311 40 41.3674V8.93444C40 7.07425 39.2203 5.39195 37.9625 4.18811ZM34.5312 39.0671C34.5312 40.6098 33.2516 41.8658 31.6797 41.8658H6.75937C6.29844 41.8658 5.8625 41.7585 5.47656 41.5652C4.54531 41.1052 3.90625 40.1574 3.90625 39.0671V6.63412C3.90625 5.08984 5.18594 3.83387 6.75937 3.83387H31.6797C33.1828 3.83387 34.4188 4.98249 34.5234 6.43476C34.5281 6.5007 34.5312 6.56665 34.5312 6.63412V39.0671Z"fill=currentColor></path><path d="M17.7516 7.26994L15.8321 7.6084C15.3121 7.70009 14.965 8.19594 15.0566 8.71591L20.0616 37.1007C20.1533 37.6207 20.6492 37.9679 21.1691 37.8762L23.0886 37.5377C23.6086 37.446 23.9558 36.9502 23.8641 36.4302L18.8591 8.04543C18.7674 7.52545 18.2716 7.17826 17.7516 7.26994Z"fill=currentColor>'),Sb=()=>Gk();var qk=w('<a href="https://www.typebot.io/?utm_source=litebadge"target=_blank rel="noopener noreferrer"class=lite-badge id=lite-badge><span>Made with Typebot'),Cb=e=>{let n,t,r=o=>{o.forEach(i=>{i.removedNodes.forEach(s=>{"id"in s&&n&&s.id==="lite-badge"&&(console.log("Sorry, you can't remove the brand \u{1F605}"),e.botContainer?.append(n))})})};return se(()=>{!document||!e.botContainer||(t=new MutationObserver(r),t.observe(e.botContainer,{subtree:!1,childList:!0}))}),le(()=>{t&&t.disconnect()}),(()=>{var o=qk(),i=o.firstChild,s=n;return typeof s=="function"?pe(s,o):n=o,x(o,h(Sb,{}),i),o})()};var Kk=w("<div class=typebot-progress-bar-container><div class=typebot-progress-bar>"),Hc=e=>(()=>{var n=Kk(),t=n.firstChild;return I(r=>(r=`${e.value}%`)!=null?t.style.setProperty("width",r):t.style.removeProperty("width")),n})();var Tb=w("<style>"),Yk=w("<div>"),Xk=w('<a target=_blank class="py-1 mt-2 px-4 justify-center text-sm font-semibold text-white focus:outline-none flex items-center disabled:opacity-50 disabled:cursor-not-allowed disabled:brightness-100 filter hover:brightness-90 active:brightness-75 typebot-button no-underline"rel=noreferrer>'),Mo=e=>{let[n,t]=P(),[r,o]=P(""),[i,s]=P(!1),[a,l]=P(),c=async()=>{e.font&&il(e.font),s(!0);let u=new URLSearchParams(location.search);e.onInit?.();let d={};u.forEach((b,S)=>{d[S]=b});let p=typeof e.typebot=="string"?e.typebot:void 0,f=typeof e.typebot!="string"||(e.isPreview??!1),g=Zd(p),{data:m,error:v}=await dd({stripeRedirectStatus:u.get("redirect_status")??void 0,typebot:e.typebot,apiHost:e.apiHost,isPreview:f,resultId:Ce(e.resultId)?e.resultId:g,prefilledVariables:{...d,...e.prefilledVariables},startFrom:e.startFrom,sessionId:e.sessionId});if(v instanceof Xn)return f?l(new Error("An error occurred while loading the bot.",{cause:{status:v.response.status,body:await v.response.json()}})):v.response.status===400||v.response.status===403?l(new Error((await v.response.json()).message)):v.response.status===404?l(new Error("The bot you're looking for doesn't exist.")):l(new Error(`Error! Couldn't initiate the chat. (${v.response.statusText})`));if(v instanceof no)return l(new Error(v.message));if(!m)return v&&(console.error(v),f)?l(new Error("Error! Could not reach server. Check your connection.",{cause:v})):l(new Error("Error! Could not reach server. Check your connection."));if(m.resultId&&p&&(m.typebot.settings.general?.rememberUser?.isEnabled??dt.general.rememberUser.isEnabled)){g&&g!==m.resultId&&ps(m.typebot.id);let b=m.typebot.settings.general?.rememberUser?.storage??dt.general.rememberUser.storage;Jd(b)(p,m.resultId);let S=Qd(m.typebot.id);S&&S.typebot.publishedAt&&m.typebot.publishedAt?new Date(S.typebot.publishedAt).getTime()===new Date(m.typebot.publishedAt).getTime()?t(S):(ps(m.typebot.id),t(m),ul(m,{typebotId:m.typebot.id,storage:b})):(t(m),ul(m,{typebotId:m.typebot.id,storage:b})),e.onChatStatePersisted?.(!0)}else ps(m.typebot.id),t(m),m.input?.id&&e.onNewInputBlock&&e.onNewInputBlock(m.input),m.logs&&e.onNewLogs?.(m.logs),e.onChatStatePersisted?.(!1);o(m.typebot.theme.customCss??"")};return me(()=>{Ye(e.typebot)||i()||c().then()}),me(()=>{Ye(e.typebot)||typeof e.typebot=="string"||(o(e.typebot.theme.customCss??""),e.typebot.theme.general?.progressBar?.isEnabled&&n()&&!n()?.typebot.theme.general?.progressBar?.isEnabled&&(s(!1),c().then()))}),le(()=>{s(!1)}),[(()=>{var u=Tb();return x(u,r),u})(),(()=>{var u=Tb();return x(u,zm),u})(),h(B,{get when(){return a()},keyed:!0,children:u=>h(wb,{error:u})}),h(B,{get when(){return n()},keyed:!0,children:u=>h(Zk,{get class(){return e.class},get initialChatReply(){return{...u,typebot:{...u.typebot,settings:typeof e.typebot=="string"?u.typebot?.settings:e.typebot?.settings,theme:typeof e.typebot=="string"?u.typebot?.theme:e.typebot?.theme}}},get context(){return{apiHost:e.apiHost,wsHost:e.wsHost,isPreview:typeof e.typebot!="string"||(e.isPreview??!1),resultId:u.resultId,sessionId:u.sessionId,typebot:u.typebot,storage:u.typebot.settings.general?.rememberUser?.isEnabled&&!(typeof e.typebot!="string"||(e.isPreview??!1))?u.typebot.settings.general?.rememberUser?.storage??dt.general.rememberUser.storage:void 0}},get progressBarRef(){return e.progressBarRef},get onNewInputBlock(){return e.onNewInputBlock},get onNewLogs(){return e.onNewLogs},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd},get onScriptExecutionSuccess(){return e.onScriptExecutionSuccess}})})]},Zk=e=>{let[n,t]=zt(P(e.initialChatReply.progress),{storage:e.context.storage,key:`typebot-${e.context.typebot.id}-progressValue`}),r,o=new ResizeObserver(i=>Hd((i[0]?.target.clientWidth??0)<432));return se(()=>{r&&(hd(r),o.observe(r),fd(`${r.clientHeight}px`))}),me(()=>{il(e.initialChatReply.typebot.theme.general?.font??{type:gd,family:oo}),r&&Xd({theme:md(e.initialChatReply.typebot.theme,e.initialChatReply.dynamicTheme),container:r,isPreview:e.context.isPreview,typebotVersion:Fs(e.initialChatReply.typebot.version)?e.initialChatReply.typebot.version:"6"})}),le(()=>{r&&o.unobserve(r)}),(()=>{var i=Yk(),s=r;return typeof s=="function"?pe(s,i):r=i,x(i,h(B,{get when(){return re(n())&&e.initialChatReply.typebot.theme.general?.progressBar?.isEnabled},get children(){return h(B,{get when(){return e.progressBarRef&&(e.initialChatReply.typebot.theme.general?.progressBar?.position??os)==="fixed"},get fallback(){return h(Hc,{get value(){return n()}})},get children(){return h(Ki,{get mount(){return e.progressBarRef},get children(){return h(Hc,{get value(){return n()}})}})}})}}),null),x(i,h(xb,{get context(){return e.context},get initialChatReply(){return e.initialChatReply},get onNewInputBlock(){return e.onNewInputBlock},get onAnswer(){return e.onAnswer},get onEnd(){return e.onEnd},get onNewLogs(){return e.onNewLogs},onProgressUpdate:t,get onScriptExecutionSuccess(){return e.onScriptExecutionSuccess}}),null),x(i,h(B,{get when(){return e.initialChatReply.typebot.settings.general?.isBrandingEnabled},get children(){return h(Cb,{botContainer:r})}}),null),x(i,h(jl,{toaster:Pn,children:a=>h(Rr.Root,{get children(){return[h(Rr.Title,{get children(){return a().title}}),h(Rr.Description,{get children(){return a().description}}),h(Rr.CloseTrigger,{class:"absolute right-2 top-2",get children(){return h(In,{class:"w-4 h-4"})}}),h(B,{get when(){return a().meta?.link},children:l=>(()=>{var c=Xk();return x(c,()=>e.initialChatReply.typebot.settings.general?.systemMessages?.popupBlockedButtonLabel??Jn.popupBlockedButtonLabel),I(()=>F(c,"href",l())),c})()})]}})}),null),I(()=>D(i,fe("relative flex w-full h-full text-base overflow-hidden flex-col justify-center items-center typebot-container",e.class))),i})()};var Ca="Zendesk Web Widget Opened";var Hr=`*, ::before, ::after {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position:  ;
  --tw-gradient-via-position:  ;
  --tw-gradient-to-position:  ;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
  --tw-contain-size:  ;
  --tw-contain-layout:  ;
  --tw-contain-paint:  ;
  --tw-contain-style:  ;
}

::backdrop {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position:  ;
  --tw-gradient-via-position:  ;
  --tw-gradient-to-position:  ;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
  --tw-contain-size:  ;
  --tw-contain-layout:  ;
  --tw-contain-paint:  ;
  --tw-contain-style:  ;
}/*
! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com
*//*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

*,
::before,
::after {
  box-sizing: border-box; /* 1 */
  border-width: 0; /* 2 */
  border-style: solid; /* 2 */
  border-color: #e5e7eb; /* 2 */
}

::before,
::after {
  --tw-content: '';
}

/*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured \`sans\` font-family by default.
5. Use the user's configured \`sans\` font-feature-settings by default.
6. Use the user's configured \`sans\` font-variation-settings by default.
7. Disable tap highlights on iOS
*/

html,
:host {
  line-height: 1.5; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  -moz-tab-size: 4; /* 3 */
  -o-tab-size: 4;
     tab-size: 4; /* 3 */
  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */
  font-feature-settings: normal; /* 5 */
  font-variation-settings: normal; /* 6 */
  -webkit-tap-highlight-color: transparent; /* 7 */
}

/*
1. Remove the margin in all browsers.
2. Inherit line-height from \`html\` so users can set them as a class directly on the \`html\` element.
*/

body {
  margin: 0; /* 1 */
  line-height: inherit; /* 2 */
}

/*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

hr {
  height: 0; /* 1 */
  color: inherit; /* 2 */
  border-top-width: 1px; /* 3 */
}

/*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]) {
  -webkit-text-decoration: underline dotted;
          text-decoration: underline dotted;
}

/*
Remove the default font size and weight for headings.
*/

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: inherit;
  font-weight: inherit;
}

/*
Reset links to optimize for opt-in styling instead of opt-out.
*/

a {
  color: inherit;
  text-decoration: inherit;
}

/*
Add the correct font weight in Edge and Safari.
*/

b,
strong {
  font-weight: bolder;
}

/*
1. Use the user's configured \`mono\` font-family by default.
2. Use the user's configured \`mono\` font-feature-settings by default.
3. Use the user's configured \`mono\` font-variation-settings by default.
4. Correct the odd \`em\` font sizing in all browsers.
*/

code,
kbd,
samp,
pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */
  font-feature-settings: normal; /* 2 */
  font-variation-settings: normal; /* 3 */
  font-size: 1em; /* 4 */
}

/*
Add the correct font size in all browsers.
*/

small {
  font-size: 80%;
}

/*
Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

table {
  text-indent: 0; /* 1 */
  border-color: inherit; /* 2 */
  border-collapse: collapse; /* 3 */
}

/*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

button,
input,
optgroup,
select,
textarea {
  font-family: inherit; /* 1 */
  font-feature-settings: inherit; /* 1 */
  font-variation-settings: inherit; /* 1 */
  font-size: 100%; /* 1 */
  font-weight: inherit; /* 1 */
  line-height: inherit; /* 1 */
  letter-spacing: inherit; /* 1 */
  color: inherit; /* 1 */
  margin: 0; /* 2 */
  padding: 0; /* 3 */
}

/*
Remove the inheritance of text transform in Edge and Firefox.
*/

button,
select {
  text-transform: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

button,
input:where([type='button']),
input:where([type='reset']),
input:where([type='submit']) {
  -webkit-appearance: button; /* 1 */
  background-color: transparent; /* 2 */
  background-image: none; /* 2 */
}

/*
Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring {
  outline: auto;
}

/*
Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid {
  box-shadow: none;
}

/*
Add the correct vertical alignment in Chrome and Firefox.
*/

progress {
  vertical-align: baseline;
}

/*
Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button,
::-webkit-outer-spin-button {
  height: auto;
}

/*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

[type='search'] {
  -webkit-appearance: textfield; /* 1 */
  outline-offset: -2px; /* 2 */
}

/*
Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration {
  -webkit-appearance: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to \`inherit\` in Safari.
*/

::-webkit-file-upload-button {
  -webkit-appearance: button; /* 1 */
  font: inherit; /* 2 */
}

/*
Add the correct display in Chrome and Safari.
*/

summary {
  display: list-item;
}

/*
Removes the default spacing and border for appropriate elements.
*/

blockquote,
dl,
dd,
h1,
h2,
h3,
h4,
h5,
h6,
hr,
figure,
p,
pre {
  margin: 0;
}

fieldset {
  margin: 0;
  padding: 0;
}

legend {
  padding: 0;
}

ol,
ul,
menu {
  list-style: none;
  margin: 0;
  padding: 0;
}

/*
Reset default styling for dialogs.
*/
dialog {
  padding: 0;
}

/*
Prevent resizing textareas horizontally by default.
*/

textarea {
  resize: vertical;
}

/*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

input::-moz-placeholder, textarea::-moz-placeholder {
  opacity: 1; /* 1 */
  color: #9ca3af; /* 2 */
}

input::placeholder,
textarea::placeholder {
  opacity: 1; /* 1 */
  color: #9ca3af; /* 2 */
}

/*
Set the default cursor for buttons.
*/

button,
[role="button"] {
  cursor: pointer;
}

/*
Make sure disabled buttons don't get the pointer cursor.
*/
:disabled {
  cursor: default;
}

/*
1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  display: block; /* 1 */
  vertical-align: middle; /* 2 */
}

/*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img,
video {
  max-width: 100%;
  height: auto;
}

/* Make elements with the HTML hidden attribute stay hidden by default */
[hidden]:where(:not([hidden="until-found"])) {
  display: none;
}
.container {
  width: 100%;
}
@media (min-width: 640px) {

  .container {
    max-width: 640px;
  }
}
@media (min-width: 768px) {

  .container {
    max-width: 768px;
  }
}
@media (min-width: 1024px) {

  .container {
    max-width: 1024px;
  }
}
@media (min-width: 1280px) {

  .container {
    max-width: 1280px;
  }
}
@media (min-width: 1536px) {

  .container {
    max-width: 1536px;
  }
}
.pointer-events-none {
  pointer-events: none;
}
.static {
  position: static;
}
.fixed {
  position: fixed;
}
.absolute {
  position: absolute;
}
.relative {
  position: relative;
}
.inset-0 {
  inset: 0px;
}
.-left-5 {
  left: -20px;
}
.-right-2 {
  right: -8px;
}
.-right-5 {
  right: -20px;
}
.-top-2 {
  top: -8px;
}
.bottom-5 {
  bottom: 20px;
}
.bottom-\\[calc\\(100\\%\\+12px\\)\\] {
  bottom: calc(100% + 12px);
}
.left-0 {
  left: 0px;
}
.left-5 {
  left: 20px;
}
.right-0 {
  right: 0px;
}
.right-2 {
  right: 8px;
}
.right-4 {
  right: 16px;
}
.right-5 {
  right: 20px;
}
.top-0 {
  top: 0px;
}
.top-2 {
  top: 8px;
}
.top-4 {
  top: 16px;
}
.z-10 {
  z-index: 10;
}
.z-20 {
  z-index: 20;
}
.z-50 {
  z-index: 50;
}
.z-\\[424242\\] {
  z-index: 424242;
}
.m-2 {
  margin: 8px;
}
.m-auto {
  margin: auto;
}
.mx-4 {
  margin-left: 16px;
  margin-right: 16px;
}
.my-2 {
  margin-top: 8px;
  margin-bottom: 8px;
}
.-mr-1 {
  margin-right: -4px;
}
.-mt-1 {
  margin-top: -4px;
}
.ml-2 {
  margin-left: 8px;
}
.mt-1 {
  margin-top: 4px;
}
.mt-2 {
  margin-top: 8px;
}
.mt-4 {
  margin-top: 16px;
}
.\\!block {
  display: block !important;
}
.block {
  display: block;
}
.flex {
  display: flex;
}
.inline-flex {
  display: inline-flex;
}
.hidden {
  display: none;
}
.size-10 {
  width: 40px;
  height: 40px;
}
.size-6 {
  width: 24px;
  height: 24px;
}
.h-10 {
  height: 40px;
}
.h-2 {
  height: 8px;
}
.h-2\\.5 {
  height: 10px;
}
.h-3 {
  height: 12px;
}
.h-4 {
  height: 16px;
}
.h-5 {
  height: 20px;
}
.h-6 {
  height: 24px;
}
.h-8 {
  height: 32px;
}
.h-9 {
  height: 36px;
}
.h-\\[20\\%\\] {
  height: 20%;
}
.h-\\[56px\\] {
  height: 56px;
}
.h-\\[58px\\] {
  height: 58px;
}
.h-\\[80vh\\] {
  height: 80vh;
}
.h-full {
  height: 100%;
}
.h-screen {
  height: 100vh;
}
.max-h-80 {
  max-height: 320px;
}
.max-h-\\[464px\\] {
  max-height: 464px;
}
.max-h-\\[90vh\\] {
  max-height: 90vh;
}
.min-h-full {
  min-height: 100%;
}
.w-10 {
  width: 40px;
}
.w-2 {
  width: 8px;
}
.w-3 {
  width: 12px;
}
.w-4 {
  width: 16px;
}
.w-5 {
  width: 20px;
}
.w-6 {
  width: 24px;
}
.w-64 {
  width: 256px;
}
.w-8 {
  width: 32px;
}
.w-\\[35px\\] {
  width: 35px;
}
.w-\\[58px\\] {
  width: 58px;
}
.w-\\[60\\%\\] {
  width: 60%;
}
.w-full {
  width: 100%;
}
.w-screen {
  width: 100vw;
}
.min-w-0 {
  min-width: 0px;
}
.min-w-\\[250px\\] {
  min-width: 250px;
}
.max-w-\\[350px\\] {
  max-width: 350px;
}
.max-w-\\[90\\%\\] {
  max-width: 90%;
}
.max-w-\\[90vw\\] {
  max-width: 90vw;
}
.max-w-full {
  max-width: 100%;
}
.max-w-lg {
  max-width: 512px;
}
.max-w-xs {
  max-width: 320px;
}
.flex-1 {
  flex: 1 1 0%;
}
.flex-none {
  flex: none;
}
.flex-shrink-0 {
  flex-shrink: 0;
}
.-rotate-180 {
  --tw-rotate: -180deg;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.rotate-0 {
  --tw-rotate: 0deg;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.scale-0 {
  --tw-scale-x: 0;
  --tw-scale-y: 0;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.scale-100 {
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.transform {
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
@keyframes fade-in {

  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}
.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}
@keyframes ping {

  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}
.animate-ping {
  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
}
@keyframes spin {

  to {
    transform: rotate(360deg);
  }
}
.animate-spin {
  animation: spin 1s linear infinite;
}
.cursor-pointer {
  cursor: pointer;
}
.select-none {
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
}
.flex-col {
  flex-direction: column;
}
.flex-wrap {
  flex-wrap: wrap;
}
.items-start {
  align-items: flex-start;
}
.items-end {
  align-items: flex-end;
}
.items-center {
  align-items: center;
}
.justify-end {
  justify-content: flex-end;
}
.justify-center {
  justify-content: center;
}
.justify-between {
  justify-content: space-between;
}
.gap-1 {
  gap: 4px;
}
.gap-2 {
  gap: 8px;
}
.gap-3 {
  gap: 12px;
}
.gap-4 {
  gap: 16px;
}
.gap-6 {
  gap: 24px;
}
.overflow-auto {
  overflow: auto;
}
.overflow-hidden {
  overflow: hidden;
}
.overflow-y-auto {
  overflow-y: auto;
}
.overflow-y-scroll {
  overflow-y: scroll;
}
.scroll-smooth {
  scroll-behavior: smooth;
}
.text-ellipsis {
  text-overflow: ellipsis;
}
.whitespace-pre-wrap {
  white-space: pre-wrap;
}
.rounded-2xl {
  border-radius: 16px;
}
.rounded-\\[6px\\] {
  border-radius: 6px;
}
.rounded-full {
  border-radius: 9999px;
}
.rounded-lg {
  border-radius: 8px;
}
.rounded-md {
  border-radius: 6px;
}
.border {
  border-width: 1px;
}
.border-2 {
  border-width: 2px;
}
.border-dashed {
  border-style: dashed;
}
.border-gray-100 {
  --tw-border-opacity: 1;
  border-color: rgb(243 244 246 / var(--tw-border-opacity, 1));
}
.border-gray-200 {
  --tw-border-opacity: 1;
  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));
}
.border-gray-300 {
  --tw-border-opacity: 1;
  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));
}
.border-gray-400 {
  --tw-border-opacity: 1;
  border-color: rgb(156 163 175 / var(--tw-border-opacity, 1));
}
.bg-\\[\\#202020\\] {
  --tw-bg-opacity: 1;
  background-color: rgb(32 32 32 / var(--tw-bg-opacity, 1));
}
.bg-\\[rgba\\(0\\2c 0\\2c 0\\2c 0\\.8\\)\\] {
  background-color: rgba(0,0,0,0.8);
}
.bg-black {
  --tw-bg-opacity: 1;
  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));
}
.bg-black\\/20 {
  background-color: rgb(0 0 0 / 0.2);
}
.bg-blue-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(96 165 250 / var(--tw-bg-opacity, 1));
}
.bg-gray-200 {
  --tw-bg-opacity: 1;
  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));
}
.bg-gray-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));
}
.bg-gray-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));
}
.bg-green-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(74 222 128 / var(--tw-bg-opacity, 1));
}
.bg-orange-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(251 146 60 / var(--tw-bg-opacity, 1));
}
.bg-pink-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(244 114 182 / var(--tw-bg-opacity, 1));
}
.bg-transparent {
  background-color: transparent;
}
.bg-white {
  --tw-bg-opacity: 1;
  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));
}
.bg-opacity-50 {
  --tw-bg-opacity: 0.5;
}
.fill-transparent {
  fill: transparent;
}
.object-cover {
  -o-object-fit: cover;
     object-fit: cover;
}
.p-0\\.5 {
  padding: 2px;
}
.p-1 {
  padding: 4px;
}
.p-2 {
  padding: 8px;
}
.p-3 {
  padding: 12px;
}
.p-4 {
  padding: 16px;
}
.p-\\[1px\\] {
  padding: 1px;
}
.px-2 {
  padding-left: 8px;
  padding-right: 8px;
}
.px-3 {
  padding-left: 12px;
  padding-right: 12px;
}
.px-4 {
  padding-left: 16px;
  padding-right: 16px;
}
.px-8 {
  padding-left: 32px;
  padding-right: 32px;
}
.px-\\[15px\\] {
  padding-left: 15px;
  padding-right: 15px;
}
.py-1 {
  padding-top: 4px;
  padding-bottom: 4px;
}
.py-2 {
  padding-top: 8px;
  padding-bottom: 8px;
}
.py-4 {
  padding-top: 16px;
  padding-bottom: 16px;
}
.py-6 {
  padding-top: 24px;
  padding-bottom: 24px;
}
.py-\\[7px\\] {
  padding-top: 7px;
  padding-bottom: 7px;
}
.pb-0 {
  padding-bottom: 0px;
}
.pl-2 {
  padding-left: 8px;
}
.pl-4 {
  padding-left: 16px;
}
.pr-1 {
  padding-right: 4px;
}
.pr-2 {
  padding-right: 8px;
}
.pr-4 {
  padding-right: 16px;
}
.text-left {
  text-align: left;
}
.text-center {
  text-align: center;
}
.text-right {
  text-align: right;
}
.text-2xl {
  font-size: 24px;
  line-height: 32px;
}
.text-4xl {
  font-size: 36px;
  line-height: 40px;
}
.text-base {
  font-size: 16px;
  line-height: 24px;
}
.text-sm {
  font-size: 14px;
  line-height: 20px;
}
.text-xl {
  font-size: 20px;
  line-height: 28px;
}
.text-xs {
  font-size: 12px;
  line-height: 16px;
}
.font-bold {
  font-weight: 700;
}
.font-normal {
  font-weight: 400;
}
.font-semibold {
  font-weight: 600;
}
.italic {
  font-style: italic;
}
.text-black {
  --tw-text-opacity: 1;
  color: rgb(0 0 0 / var(--tw-text-opacity, 1));
}
.text-gray-500 {
  --tw-text-opacity: 1;
  color: rgb(107 114 128 / var(--tw-text-opacity, 1));
}
.text-gray-900 {
  --tw-text-opacity: 1;
  color: rgb(17 24 39 / var(--tw-text-opacity, 1));
}
.text-white {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity, 1));
}
.underline {
  text-decoration-line: underline;
}
.no-underline {
  text-decoration-line: none;
}
.opacity-0 {
  opacity: 0;
}
.opacity-100 {
  opacity: 1;
}
.opacity-25 {
  opacity: 0.25;
}
.opacity-75 {
  opacity: 0.75;
}
.shadow {
  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.shadow-md {
  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.shadow-xl {
  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.blur {
  --tw-blur: blur(8px);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}
.brightness-150 {
  --tw-brightness: brightness(1.5);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}
.brightness-200 {
  --tw-brightness: brightness(2);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}
.brightness-95 {
  --tw-brightness: brightness(.95);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}
.filter {
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}
.transition {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.transition-all {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.transition-opacity {
  transition-property: opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.transition-transform {
  transition-property: transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.duration-200 {
  transition-duration: 200ms;
}
.ease-out {
  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollable-container::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollable-container {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.text-fade-in {
  transition: opacity 400ms ease-in 200ms;
}

.bubble-typing {
  transition: width 400ms ease-out, height 400ms ease-out;
}

.bubble1,
.bubble2,
.bubble3 {
  background-color: var(--typebot-host-bubble-color);
  opacity: 0.5;
}

.bubble1 {
  animation: chatBubbles 1s ease-in-out infinite;
}

.bubble2 {
  animation: chatBubbles 1s ease-in-out infinite;
  animation-delay: 0.3s;
}

.bubble3 {
  animation: chatBubbles 1s ease-in-out infinite;
  animation-delay: 0.5s;
}

@keyframes chatBubbles {
  0% {
    transform: translateY(2.5);
  }
  50% {
    transform: translateY(-2.5px);
  }
  100% {
    transform: translateY(0);
  }
}

button,
input,
textarea {
  font-weight: 300;
}

a {
  text-decoration: underline;
}

ul,
ol {
  margin-inline-start: 0px;
  margin-inline-end: 0px;
  padding-inline-start: 40px;
}

ol {
  list-style-type: decimal;
}

ul {
  list-style-type: disc;
}

li:not(:last-child) {
  margin-bottom: 8px;
}

pre {
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-height: 100%;
  max-width: 100%;
  overflow: auto;
}

.slate-bold {
  font-weight: bold;
}

.slate-italic {
  font-style: oblique;
}

.slate-underline {
  text-decoration: underline;
}
.text-input::-moz-placeholder {
  color: var(--typebot-input-placeholder-color) !important;
  opacity: 1 !important;
}
.text-input::placeholder {
  color: var(--typebot-input-placeholder-color) !important;
  opacity: 1 !important;
}

.typebot-container {
  background-image: var(--typebot-container-bg-image);
  background-color: var(--typebot-container-bg-color);
  background-position: center;
  background-size: cover;
  font-family: var(--typebot-container-font-family), -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  container-type: inline-size;
}

.typebot-chat-view {
  padding-left: 12px;
  padding-right: 12px;
  padding-top: 20px;
  max-width: var(--typebot-chat-container-max-width);
  background-color: rgba(
    var(--typebot-chat-container-bg-rgb),
    var(--typebot-chat-container-opacity)
  );
  color: rgb(var(--typebot-chat-container-color));
  min-height: 100%;
  -webkit-backdrop-filter: blur(var(--typebot-chat-container-blur));
          backdrop-filter: blur(var(--typebot-chat-container-blur));
  border-width: var(--typebot-chat-container-border-width);
  border-color: rgba(
    var(--typebot-chat-container-border-rgb),
    var(--typebot-chat-container-border-opacity)
  );
  box-shadow: var(--typebot-chat-container-box-shadow);
}

/* TODO: Use @tailwindcss/container-queries*/
@container (min-width: 432px) {
  .typebot-chat-view {
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 40px;
    min-height: var(--typebot-chat-container-max-height);
    max-height: var(--typebot-chat-container-max-height);
    border-radius: var(--typebot-chat-container-border-radius);
  }
}

.typebot-button {
  color: var(--typebot-button-color);
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    var(--typebot-button-opacity)
  );
  border-width: var(--typebot-button-border-width);
  border-color: rgba(
    var(--typebot-button-border-rgb),
    var(--typebot-button-border-opacity)
  );
  border-radius: var(--typebot-button-border-radius);
  box-shadow: var(--typebot-button-box-shadow);
  -webkit-backdrop-filter: blur(var(--typebot-button-blur));
          backdrop-filter: blur(var(--typebot-button-blur));
  transition: all 0.3s ease;
}

.typebot-selectable {
  border-width: var(--typebot-button-border-width);
  border-color: rgba(
    var(--typebot-button-border-rgb),
    calc(var(--selectable-alpha-ratio) * 0.25)
  );
  border-radius: var(--typebot-button-border-radius);
  color: rgb(var(--typebot-chat-container-color));
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.08)
  );
  transition: all 0.3s ease;
}

.typebot-selectable:hover {
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.12)
  );
  border-color: rgba(
    var(--typebot-button-border-rgb),
    calc(var(--selectable-alpha-ratio) * 0.3)
  );
}

.typebot-selectable.selected {
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.18)
  );
  border-color: rgba(
    var(--typebot-button-border-rgb),
    calc(var(--selectable-alpha-ratio) * 0.35)
  );
}

.typebot-checkbox {
  border: 1px solid
    rgba(var(--typebot-button-bg-rgb), var(--typebot-button-opacity));
  border-radius: var(--typebot-button-border-radius);
  background-color: rgba(var(--typebot-checkbox-bg-rgb));
  color: var(--typebot-button-color);
  padding: 1px;
  border-radius: 2px;
  transition: all 0.3s ease;
}

.typebot-checkbox.checked {
  background-color: rgb(var(--typebot-button-bg-rgb));
}

.typebot-host-bubble {
  color: var(--typebot-host-bubble-color);
}

.typebot-host-bubble > .bubble-typing {
  background-color: rgba(
    var(--typebot-host-bubble-bg-rgb),
    var(--typebot-host-bubble-opacity)
  );
  border-width: var(--typebot-host-bubble-border-width);
  border-color: rgba(
    var(--typebot-host-bubble-border-rgb),
    var(--typebot-host-bubble-border-opacity)
  );
  border-radius: var(--typebot-host-bubble-border-radius);
  box-shadow: var(--typebot-host-bubble-box-shadow);
  -webkit-backdrop-filter: blur(var(--typebot-host-bubble-blur));
          backdrop-filter: blur(var(--typebot-host-bubble-blur));
}

.typebot-host-bubble img,
.typebot-host-bubble video,
.typebot-host-bubble iframe {
  border-radius: 6px;
}

.typebot-guest-bubble {
  color: var(--typebot-guest-bubble-color);
  background-color: rgba(
    var(--typebot-guest-bubble-bg-rgb),
    var(--typebot-guest-bubble-opacity)
  );
  border-width: var(--typebot-guest-bubble-border-width);
  border-color: rgba(
    var(--typebot-guest-bubble-border-rgb),
    var(--typebot-guest-bubble-border-opacity)
  );
  border-radius: var(--typebot-guest-bubble-border-radius);
  box-shadow: var(--typebot-guest-bubble-box-shadow);
  -webkit-backdrop-filter: blur(var(--typebot-guest-bubble-blur));
          backdrop-filter: blur(var(--typebot-guest-bubble-blur));
}

.typebot-guest-bubble-image-attachment {
  border-radius: var(--typebot-guest-bubble-border-radius);
}

.typebot-input {
  color: var(--typebot-input-color);
  background-color: rgba(
    var(--typebot-input-bg-rgb),
    var(--typebot-input-opacity)
  );
  border-width: var(--typebot-input-border-width);
  border-color: rgba(
    var(--typebot-input-border-rgb),
    var(--typebot-input-border-opacity)
  );
  border-radius: var(--typebot-input-border-radius);
  box-shadow: var(--typebot-input-box-shadow);
  -webkit-backdrop-filter: blur(var(--typebot-input-blur));
          backdrop-filter: blur(var(--typebot-input-blur));
  transition: filter 100ms ease;
}

.typebot-input-error-message {
  color: var(--typebot-input-color);
}

.typebot-input-form .typebot-button {
  box-shadow: var(--typebot-input-box-shadow);
}

.typebot-button > .send-icon {
  fill: var(--typebot-button-color);
}

.ping span {
  background-color: rgb(var(--typebot-button-bg-rgb));
}

.rating-icon-container svg {
  width: 42px;
  height: 42px;
  stroke: rgb(var(--typebot-button-bg-rgb));
  fill: rgba(
    var(--typebot-host-bubble-bg-rgb),
    var(--typebot-host-bubble-opacity)
  );
  transition: fill 100ms ease-out;
}

.rating-icon-container.selected svg {
  fill: rgb(var(--typebot-button-bg-rgb));
}

.rating-icon-container:hover svg {
  filter: brightness(0.9);
}

.rating-icon-container:active svg {
  filter: brightness(0.75);
}

.upload-progress-bar {
  background-color: rgb(var(--typebot-button-bg-rgb));
  border-radius: var(--typebot-input-border-radius);
}

.total-files-indicator {
  background-color: rgb(var(--typebot-button-bg-rgb));
  color: var(--typebot-button-color);
  font-size: 10px;
}

.typebot-upload-input {
  transition: border-color 100ms ease-out;
  border-radius: var(--typebot-input-border-radius);
}

.typebot-upload-input.dragging-over {
  border-color: rgb(var(--typebot-button-bg-rgb));
}

.secondary-button {
  background-color: rgba(
    var(--typebot-host-bubble-bg-rgb),
    var(--typebot-host-bubble-opacity)
  );
  color: var(--typebot-host-bubble-color);
  border-radius: var(--typebot-button-border-radius);
}

.typebot-country-select {
  color: var(--typebot-input-color);
  background-color: var(--typebot-input-bg-color);
  border-radius: var(--typebot-button-border-radius);
}

.typebot-datetime-input {
  color-scheme: light;
  color: var(--typebot-input-color);
  background-color: var(--typebot-input-bg-color);
  border-radius: var(--typebot-input-border-radius);
}

.typebot-popup-blocked-toast {
  border-radius: var(--typebot-input-border-radius);
}

.typebot-picture-button {
  color: var(--typebot-button-color);
  background-color: rgb(var(--typebot-button-bg-rgb));
  border-radius: var(--typebot-button-border-radius);
  transition: all 0.3s ease;
  width: 236px;
}

.typebot-picture-button > img,
.typebot-selectable-picture > img {
  border-radius: var(--typebot-button-border-radius)
    var(--typebot-button-border-radius) 0 0;
  min-width: 200px;
  width: 100%;
  max-height: 200px;
  height: 100%;
  -o-object-fit: cover;
     object-fit: cover;
}

.typebot-picture-button.has-svg > img,
.typebot-selectable-picture.has-svg > img {
  max-height: 128px;
  -o-object-fit: contain;
     object-fit: contain;
  padding: 1rem;
}

.typebot-selectable-picture {
  border: 1px solid
    rgba(
      var(--typebot-button-bg-rgb),
      calc(var(--selectable-alpha-ratio) * 0.25)
    );
  border-radius: var(--typebot-button-border-radius);
  color: rgb(var(--typebot-chat-container-color));
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.08)
  );
  transition: all 0.3s ease;
  width: 236px;
}

.typebot-selectable-picture:hover {
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.12)
  );
  border-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.3)
  );
}

.typebot-selectable-picture.selected {
  background-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.18)
  );
  border-color: rgba(
    var(--typebot-button-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.35)
  );
}

select option {
  color: var(--typebot-input-color);
  background-color: var(--typebot-input-bg-color);
}

.typebot-progress-bar-container {
  background-color: rgba(
    var(--typebot-progress-bar-bg-rgb),
    calc(var(--selectable-alpha-ratio) * 0.12)
  );

  height: var(--typebot-progress-bar-height);
  position: var(--typebot-progress-bar-position);
  top: var(--typebot-progress-bar-top);
  bottom: var(--typebot-progress-bar-bottom);
  left: 0;
  width: 100%;
  z-index: 42424242;
}

.typebot-progress-bar-container > .typebot-progress-bar {
  background-color: var(--typebot-progress-bar-color);
  position: absolute;
  height: 100%;
  transition: width 0.25s ease;
}

.typebot-recorder .left-gradient {
  background-image: linear-gradient(
    to right,
    rgba(var(--typebot-input-bg-rgb), 1),
    rgba(var(--typebot-input-bg-rgb), 0)
  );
}

.typebot-recorder .right-gradient {
  background-image: linear-gradient(
    to left,
    rgba(var(--typebot-input-bg-rgb), 1),
    rgba(var(--typebot-input-bg-rgb), 0)
  );
}

.typebot-recorder button {
  color: rgba(var(--typebot-button-bg-rgb));
  background-color: rgba(var(--typebot-button-bg-rgb), 0.3);
}

@keyframes fadeInFromTop {
  0% {
    opacity: 0;
    transform: translateY(-4px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOutFromTop {
  0% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateY(-4px);
  }
}

@keyframes fadeInFromBottom {
  0% {
    opacity: 0;
    transform: translateY(4px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOutFromBottom {
  0% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateY(4px);
  }
}

[data-scope="menu"][data-part="content"] {
  color: var(--typebot-input-color);
  background-color: rgba(
    var(--typebot-input-bg-rgb),
    var(--typebot-input-opacity)
  );
  border-width: var(--typebot-input-border-width);
  border-color: rgba(
    var(--typebot-input-border-rgb),
    var(--typebot-input-border-opacity)
  );
  border-radius: var(--typebot-input-border-radius);
  box-shadow: var(--typebot-input-box-shadow);
  -webkit-backdrop-filter: blur(var(--typebot-input-blur));
          backdrop-filter: blur(var(--typebot-input-blur));
}

[data-scope="menu"][data-part="item"] {
  cursor: pointer;
  background-color: rgba(
    var(--typebot-input-bg-rgb),
    var(--typebot-input-opacity)
  );
  border-radius: var(--typebot-input-border-radius);
}

[data-scope="menu"][data-part="content"][data-state="open"] {
  animation: fadeInFromTop 150ms ease-out forwards;
}

[data-scope="menu"][data-part="content"][data-state="closed"] {
  animation: fadeOutFromTop 50ms ease-out forwards;
}

[data-scope="toast"][data-part="group"] {
  width: 100%;
}

[data-scope="toast"][data-part="root"] {
  border-radius: var(--typebot-chat-container-border-radius);
  color: var(--typebot-input-color);
  background-color: rgba(
    var(--typebot-input-bg-rgb),
    var(--typebot-input-opacity)
  );
  box-shadow: var(--typebot-input-box-shadow);
  border-width: var(--typebot-input-border-width);
  border-color: rgba(
    var(--typebot-input-border-rgb),
    var(--typebot-input-border-opacity)
  );
  max-width: 350px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding-top: 16px;
  padding-bottom: 16px;
  padding-left: 16px;
  padding-right: 32px;
}

[data-scope="toast"][data-part="title"] {
  font-weight: 600;
}

[data-scope="toast"][data-part="description"] {
  font-size: 14px;
  line-height: 20px;
}

[data-scope="toast"][data-part="root"][data-state="open"] {
  animation: fadeInFromBottom 150ms ease-out forwards;
}

[data-scope="toast"][data-part="root"][data-state="closed"] {
  animation: fadeOutFromBottom 50ms ease-out forwards;
}

[data-scope="progress"][data-part="root"] {
  width: 100%;
  height: 100%;
}

[data-scope="progress"][data-part="circle"] {
  --size: 40px;
  --thickness: 4px;
  --radius: calc(40px / 2 - 4px / 2);
  --circomference: calc(2 * 3.14159 * calc(40px / 2 - 4px / 2));
}

[data-scope="progress"][data-part="circle-range"] {
  stroke: white;
  --transition-prop: stroke-dasharray, stroke, stroke-dashoffset;
  transition-property: stroke-dasharray, stroke, stroke-dashoffset;
  --transition-duration: 0.2s;
  transition-duration: 0.2s;
}

[data-scope="progress"][data-part="circle-track"] {
  stroke: rgba(0, 0, 0, 0.5);
}

.typebot-buttons-input > [data-slot="list"] {
  flex-direction: var(--typebot-buttons-input-flex-direction);
  flex-wrap: wrap;
}

.typebot-buttons-input > .typebot-input {
  max-width: 350px;
}

.hover\\:scale-110:hover {
  --tw-scale-x: 1.1;
  --tw-scale-y: 1.1;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.hover\\:bg-gray-100:hover {
  --tw-bg-opacity: 1;
  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));
}

.hover\\:shadow-lg:hover {
  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}

.hover\\:brightness-90:hover {
  --tw-brightness: brightness(.9);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.hover\\:brightness-95:hover {
  --tw-brightness: brightness(.95);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.hover\\:backdrop-brightness-95:hover {
  --tw-backdrop-brightness: brightness(.95);
  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
}

.focus\\:outline-none:focus {
  outline: 2px solid transparent;
  outline-offset: 2px;
}

.active\\:scale-95:active {
  --tw-scale-x: .95;
  --tw-scale-y: .95;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}

.active\\:brightness-75:active {
  --tw-brightness: brightness(.75);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.active\\:brightness-90:active {
  --tw-brightness: brightness(.9);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.disabled\\:cursor-not-allowed:disabled {
  cursor: not-allowed;
}

.disabled\\:opacity-50:disabled {
  opacity: 0.5;
}

.disabled\\:brightness-100:disabled {
  --tw-brightness: brightness(1);
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}

.group:hover .group-hover\\:opacity-100 {
  opacity: 1;
}

.data-\\[state\\=open\\]\\:backdrop-brightness-90[data-state="open"] {
  --tw-backdrop-brightness: brightness(.9);
  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);
}

@media (min-width: 640px) {

  .sm\\:left-0 {
    left: 0px;
  }

  .sm\\:right-0 {
    right: 0px;
  }

  .sm\\:my-8 {
    margin-top: 32px;
    margin-bottom: 32px;
  }

  .sm\\:p-0 {
    padding: 0px;
  }

  .sm\\:opacity-0 {
    opacity: 0;
  }
}
`;var Qk=w('<button part=button aria-label="Open chatbot">'),eP=w('<svg part=button-icon viewBox="0 0 16 16"><path d="M8 15C12.418 15 16 11.866 16 8C16 4.134 12.418 1 8 1C3.582 1 0 4.134 0 8C0 9.76 0.743 11.37 1.97 12.6C1.873 13.616 1.553 14.73 1.199 15.566C1.12 15.752 1.273 15.96 1.472 15.928C3.728 15.558 5.069 14.99 5.652 14.694C6.41791 14.8983 7.20732 15.0012 8 15Z"fill=currentColor>'),tP=w('<img part=button-icon alt="Bubble button icon">'),Eb=w("<span part=button-icon>"),nP=w('<svg part=button-icon viewBox="0 0 24 24"><path fill-rule=evenodd clip-rule=evenodd d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z">'),rP=w('<img part=button-icon alt="Bubble button close icon">');var Ta=e=>e.startsWith("http")||e.startsWith("data:image/svg+xml"),_b=e=>(()=>{var n=Qk();return n.$$click=()=>e.toggleBot(),x(n,h(oP,e),null),x(n,h(iP,e),null),I(t=>{var r=Zt("relative shadow-md rounded-2xl hover:scale-110 active:scale-95 transition-transform duration-200 flex justify-center items-center animate-fade-in"),o=e.backgroundColor??Ne.gray.dark[2],i=e.backgroundColor?er(e.backgroundColor)?Ne.gray.light[12]:Ne.gray.dark[12]:Ne.gray.dark[12],s=e.buttonSize,a=e.buttonSize;return r!==t.e&&D(n,t.e=r),o!==t.t&&((t.t=o)!=null?n.style.setProperty("background-color",o):n.style.removeProperty("background-color")),i!==t.a&&((t.a=i)!=null?n.style.setProperty("color",i):n.style.removeProperty("color")),s!==t.o&&((t.o=s)!=null?n.style.setProperty("width",s):n.style.removeProperty("width")),a!==t.i&&((t.i=a)!=null?n.style.setProperty("height",a):n.style.removeProperty("height")),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),n})(),oP=e=>h(ke,{get children(){return[h(V,{get when(){return Ye(e.customIconSrc)},get children(){var n=eP();return I(()=>F(n,"class",Zt("fill-transparent absolute duration-200 transition size-6",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100"))),n}}),h(V,{get when(){return R(()=>!!e.customIconSrc)()&&Ta(e.customIconSrc)},get children(){var n=tP();return I(t=>{var r=e.customIconSrc,o=Zt("duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100",Nn(e.customIconSrc)?"w-[60%]":"w-full h-full",Nn(e.customIconSrc)?"":"object-cover rounded-2xl");return r!==t.e&&F(n,"src",t.e=r),o!==t.t&&D(n,t.t=o),t},{e:void 0,t:void 0}),n}}),h(V,{get when(){return R(()=>!!e.customIconSrc)()&&!Ta(e.customIconSrc)},get children(){var n=Eb();return n.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),x(n,()=>e.customIconSrc),I(()=>D(n,Zt("text-4xl duration-200 transition",e.isBotOpened?"scale-0 opacity-0":"scale-100 opacity-100"))),n}})]}}),iP=e=>h(ke,{get children(){return[h(V,{get when(){return Ye(e.customCloseIconSrc)},get children(){var n=nP();return n.style.setProperty("fill","#fff"),I(()=>F(n,"class",Zt("absolute duration-200 transition w-[60%]",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0"))),n}}),h(V,{get when(){return R(()=>!!e.customCloseIconSrc)()&&Ta(e.customCloseIconSrc)},get children(){var n=rP();return I(t=>{var r=e.customCloseIconSrc,o=Zt("absolute duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0",Nn(e.customCloseIconSrc)?"w-[60%]":"w-full h-full",Nn(e.customCloseIconSrc)?"":"object-cover rounded-2xl");return r!==t.e&&F(n,"src",t.e=r),o!==t.t&&D(n,t.t=o),t},{e:void 0,t:void 0}),n}}),h(V,{get when(){return R(()=>!!e.customCloseIconSrc)()&&!Ta(e.customCloseIconSrc)},get children(){var n=Eb();return n.style.setProperty("font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),x(n,()=>e.customCloseIconSrc),I(()=>D(n,Zt("absolute text-4xl duration-200 transition",e.isBotOpened?"scale-100 rotate-0 opacity-100":"scale-0 -rotate-180 opacity-0"))),n}})]}});Ve(["click"]);var sP=w("<div part=preview-message><p>"),aP=w('<img class="rounded-full w-8 h-8 object-cover"alt="Bot avatar"elementtiming="Bot avatar"fetchpriority=high>'),lP=w('<button part=preview-message-close-button aria-label=Close><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>'),kb="#F7F8FF",Pb="#303235",Ib=e=>{let[n,t]=P(!1),[r,o]=P({x:0,y:0}),i=a=>{o({x:a.touches[0]?.clientX??0,y:a.touches[0]?.clientY??0})},s=a=>{let l=a.changedTouches[0]?.clientX??0,c=a.changedTouches[0]?.clientY??0;(Math.abs(l-r().x)>10||c-r().y>10)&&e.onCloseClick(),o({x:0,y:0})};return(()=>{var a=sP(),l=a.firstChild;return a.$$touchend=s,a.$$touchstart=i,a.addEventListener("mouseleave",()=>t(!1)),a.addEventListener("mouseenter",()=>t(!0)),a.$$click=()=>e.onClick(),x(a,h(cP,{get isHovered(){return n()},get previewMessageTheme(){return e.previewMessageTheme},get onClick(){return e.onCloseClick}}),l),x(a,h(B,{get when(){return e.avatarUrl},keyed:!0,children:c=>(()=>{var u=aP();return F(u,"src",c),u})()}),l),x(l,()=>e.message),I(c=>{var u=fe("absolute bottom-[calc(100%+12px)] w-64 rounded-md duration-200 flex items-center gap-4 shadow-md animate-fade-in cursor-pointer hover:shadow-lg p-4",e.placement==="left"?"left-0":"right-0"),d=e.previewMessageTheme?.backgroundColor??kb,p=e.previewMessageTheme?.textColor??Pb;return u!==c.e&&D(a,c.e=u),d!==c.t&&((c.t=d)!=null?a.style.setProperty("background-color",d):a.style.removeProperty("background-color")),p!==c.a&&((c.a=p)!=null?a.style.setProperty("color",p):a.style.removeProperty("color")),c},{e:void 0,t:void 0,a:void 0}),a})()},cP=e=>(()=>{var n=lP();return n.$$click=t=>(t.stopPropagation(),e.onClick()),I(t=>{var r="absolute -top-2 -right-2 rounded-full w-6 h-6 p-1 hover:brightness-95 active:brightness-90 transition-all border "+(e.isHovered?"opacity-100":"opacity-0"),o=e.previewMessageTheme?.closeButtonBackgroundColor??kb,i=e.previewMessageTheme?.closeButtonIconColor??Pb;return r!==t.e&&D(n,t.e=r),o!==t.t&&((t.t=o)!=null?n.style.setProperty("background-color",o):n.style.removeProperty("background-color")),i!==t.a&&((t.a=i)!=null?n.style.setProperty("color",i):n.style.removeProperty("color")),t},{e:void 0,t:void 0,a:void 0}),n})();Ve(["click","touchstart","touchend"]);var uP=w("<style>"),dP=w("<div>"),pP=w("<div><div part=bot>"),fP="20px",hP="12px",Ob=e=>{let[n,t]=qe(e,["onOpen","onClose","previewMessage","onPreviewMessageClick","onPreviewMessageDismissed","theme","autoShowDelay","inlineStyle"]),[r,o]=P(!1),[i,s]=P(!0),[a,l]=P(t.prefilledVariables),[c,u]=P(!1),[d,p]=P({message:n.previewMessage?.message??"",avatarUrl:n.previewMessage?.avatarUrl}),[f,g]=P(!1),[m,v]=P(!1),[b,S]=P(Ab(n.theme?.button?.size??"medium"));me(()=>{S(Ab(n.theme?.button?.size??"medium"))});let E,T=()=>{window.addEventListener("message",k);let A=n.autoShowDelay,O=n.previewMessage?.autoShowDelay;(ds()||to())&&L(),re(A)&&setTimeout(()=>{L()},A),re(O)&&setTimeout(()=>{ue({avatarUrl:n.previewMessage?.avatarUrl,message:n.previewMessage?.message??""})},O)};le(()=>{o(!1),window.removeEventListener("message",k)}),me(()=>{r()||Ye(t.typebot)||(T(),o(!0))});let k=A=>{let{data:O}=A;!O.isFromTypebot||O.id&&t.id!==O.id||(O.command==="open"&&L(),O.command==="close"&&_(),O.command==="toggle"&&M(),O.command==="showPreviewMessage"&&ue(O.message),O.command==="hidePreviewMessage"&&Ee(),O.command==="setPrefilledVariables"&&l(N=>({...N,...O.variables})),O.command==="unmount"&&z())},L=()=>{m()||v(!0),Ee(),g(!0),f()&&n.onOpen?.()},_=()=>{g(!1),us(),f()&&n.onClose?.()},M=()=>{f()?_():L()},W=()=>{n.onPreviewMessageClick?.(),L()},ue=A=>{A&&p(A),!f()&&u(!0)},Ee=()=>{n.onPreviewMessageDismissed?.(),u(!1)},z=()=>{f()?(_(),setTimeout(()=>{s(!1)},200)):s(!1)},ge=A=>{t.onChatStatePersisted?.(A),A&&cs()},te=A=>{(A===Ca||A===To)&&z(),t.onScriptExecutionSuccess?.(A)};return h(B,{get when(){return i()},get children(){return h(Tr,{get value(){return document.querySelector("typebot-bubble")?.shadowRoot},get children(){return[(()=>{var A=uP();return x(A,Hr),A})(),(()=>{var A=dP(),O=E;return typeof O=="function"?pe(O,A):E=A,A})(),(()=>{var A=pP(),O=A.firstChild;return x(A,h(B,{get when(){return c()},get children(){return h(Ib,we(d,{get placement(){return n.theme?.placement},get previewMessageTheme(){return n.theme?.previewMessage},get buttonSize(){return b()},onClick:W,onCloseClick:Ee}))}}),O),x(A,h(_b,we(()=>n.theme?.button,{get placement(){return n.theme?.placement},toggleBot:M,get isBotOpened(){return f()},get buttonSize(){return b()}})),O),O.style.setProperty("transition","transform 200ms cubic-bezier(0, 1.2, 1, 1), opacity 150ms ease-out"),O.style.setProperty("box-shadow","rgb(0 0 0 / 16%) 0px 5px 40px"),x(O,h(B,{get when(){return m()},get children(){return h(Mo,we(t,{onScriptExecutionSuccess:te,onChatStatePersisted:ge,get prefilledVariables(){return a()},class:"rounded-lg",progressBarRef:E}))}})),I(N=>{var de=fe(n.theme?.position!=="static"?n.theme?.placement==="left"?"z-[424242] fixed bottom-5 left-5":"z-[424242] fixed bottom-5 right-5":"relative"),it=n.inlineStyle,Pt=`calc(100vh - ${fP} - ${b()} - ${hP})`,hr=n.theme?.chatWindow?.maxHeight??"704px",An=n.theme?.chatWindow?.maxWidth??"400px",No=n.theme?.placement==="left"?"bottom left":"bottom right",Do=f()?"scale3d(1, 1, 1)":"scale3d(0, 0, 1)",$o=n.theme?.chatWindow?.backgroundColor,Lo=fe("absolute rounded-lg w-screen bottom-[calc(100%+12px)]",f()?"opacity-1":"opacity-0 pointer-events-none",n.theme?.placement==="left"?"sm:left-0 -left-5":"sm:right-0 -right-5");return de!==N.e&&D(A,N.e=de),N.t=Qa(A,it,N.t),Pt!==N.a&&((N.a=Pt)!=null?O.style.setProperty("max-height",Pt):O.style.removeProperty("max-height")),hr!==N.o&&((N.o=hr)!=null?O.style.setProperty("height",hr):O.style.removeProperty("height")),An!==N.i&&((N.i=An)!=null?O.style.setProperty("max-width",An):O.style.removeProperty("max-width")),No!==N.n&&((N.n=No)!=null?O.style.setProperty("transform-origin",No):O.style.removeProperty("transform-origin")),Do!==N.s&&((N.s=Do)!=null?O.style.setProperty("transform",Do):O.style.removeProperty("transform")),$o!==N.h&&((N.h=$o)!=null?O.style.setProperty("background-color",$o):O.style.removeProperty("background-color")),Lo!==N.r&&D(O,N.r=Lo),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),A})()]}})}})},Ab=e=>e==="medium"?"48px":e==="large"?"64px":e||"48px";var mP=w("<style>"),gP=w('<div class=relative aria-labelledby=modal-title role=dialog aria-modal=true><style></style><div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in"part=overlay></div><div class="fixed inset-0 z-10 overflow-y-auto"><div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"><div>'),Rb=e=>{let[n,t]=qe(e,["onOpen","onClose","autoShowDelay","theme","isOpen","defaultOpen"]),[r,o]=P(t.prefilledVariables),[i,s]=P(n.isOpen??!1);se(()=>{(n.defaultOpen||to()||ds())&&c(),window.addEventListener("message",l);let g=n.autoShowDelay;re(g)&&setTimeout(()=>{c()},g)}),le(()=>{window.removeEventListener("message",l)}),me(()=>{Ye(e.isOpen)||e.isOpen===i()||d()}),me(()=>{e.prefilledVariables&&o(g=>({...g,...e.prefilledVariables}))});let a=g=>{g.stopPropagation()},l=g=>{let{data:m}=g;!m.isFromTypebot||m.id&&t.id!==m.id||(m.command==="open"&&c(),m.command==="close"&&u(),m.command==="toggle"&&d(),m.command==="setPrefilledVariables"&&o(v=>({...v,...m.variables})))},c=()=>{s(!0),n.onOpen?.(),document.body.style.setProperty("overflow","hidden","important"),document.addEventListener("pointerdown",u)},u=()=>{s(!1),n.onClose?.(),document.body.style.overflow="auto",document.removeEventListener("pointerdown",u),us()},d=()=>{i()?u():c()},p=g=>{t.onChatStatePersisted?.(g),g&&cs()},f=g=>{(g===Ca||g===To)&&u(),e.onScriptExecutionSuccess?.(g)};return h(B,{get when(){return i()},get children(){return h(Tr,{get value(){return document.querySelector("typebot-popup")?.shadowRoot},get children(){return[(()=>{var g=mP();return x(g,Hr),g})(),(()=>{var g=gP(),m=g.firstChild,v=m.nextSibling,b=v.nextSibling,S=b.firstChild,E=S.firstChild;return x(m,Hr),He(E,"pointerdown",a),x(E,h(Mo,we(t,{onScriptExecutionSuccess:f,get prefilledVariables(){return r()},onChatStatePersisted:p}))),I(T=>{var k=e.theme?.zIndex??42424242,L="relative h-[80vh] transform overflow-hidden rounded-lg text-left transition-all sm:my-8 w-full max-w-lg"+(e.theme?.backgroundColor?" shadow-xl":""),_=e.theme?.backgroundColor??"transparent",M=e.theme?.width??"512px";return k!==T.e&&((T.e=k)!=null?g.style.setProperty("z-index",k):g.style.removeProperty("z-index")),L!==T.t&&D(E,T.t=L),_!==T.a&&((T.a=_)!=null?E.style.setProperty("background-color",_):E.style.removeProperty("background-color")),M!==T.o&&((T.o=M)!=null?E.style.setProperty("max-width",M):E.style.removeProperty("max-width")),T},{e:void 0,t:void 0,a:void 0,o:void 0}),g})()]}})}})};var yP=w(`<style>
:host {
  display: block;
  width: 100%;
  height: 100%;
  overflow-y: hidden;
}
`);var Mb=(e,{element:n})=>{let[t,r]=P(!1),[o,i]=P(e.prefilledVariables),s=()=>{r(!0)},a=new IntersectionObserver(c=>{c.some(u=>u.isIntersecting)&&s()});se(()=>{window.addEventListener("message",l),a.observe(n)}),me(()=>{e.prefilledVariables&&i(c=>({...c,...e.prefilledVariables}))});let l=c=>{let{data:u}=c;!u.isFromTypebot||u.id&&e.id!==u.id||u.command==="setPrefilledVariables"&&i(d=>({...d,...u.variables}))};return le(()=>{a.disconnect()}),h(Tr,{get value(){return document.querySelector("typebot-standard")?.shadowRoot},get children(){return[(()=>{var c=yP(),u=c.firstChild;return x(c,Hr,u),c})(),h(B,{get when(){return t()},get children(){return h(Mo,we(e,{get prefilledVariables(){return o()}}))}})]}})};var Nb=()=>{typeof window>"u"||(Yi("typebot-standard",Xi,Mb),Yi("typebot-bubble",Yu,Ob),Yi("typebot-popup",Ku,Rb))};var Db=({id:e}={})=>{let n={isFromTypebot:!0,command:"close",id:e};window.postMessage(n)};var $b=({id:e}={})=>{let n={isFromTypebot:!0,command:"hidePreviewMessage",id:e};window.postMessage(n)};var Lb=({id:e}={})=>{let n={isFromTypebot:!0,command:"open",id:e};window.postMessage(n)};var Bb=(e,{id:n}={})=>{let t={isFromTypebot:!0,command:"sendCommand",text:e,id:n};window.postMessage(t)};var Fb=(e,{id:n}={})=>{let t={isFromTypebot:!0,command:"setInputValue",value:e,id:n};window.postMessage(t)};var Ub=(e,{id:n}={})=>{let t={isFromTypebot:!0,command:"setPrefilledVariables",variables:e,id:n};window.postMessage(t)};var jb=(e,{id:n}={})=>{let t={isFromTypebot:!0,command:"showPreviewMessage",message:e,id:n};window.postMessage(t)};var Vb=({id:e}={})=>{let n={isFromTypebot:!0,command:"toggle",id:e};window.postMessage(n)};var Hb=({id:e}={})=>{let n={isFromTypebot:!0,command:"unmount",id:e};window.postMessage(n)};var bP=e=>{let n=e.id?document.getElementById(e.id):document.querySelector("typebot-standard");if(!n)throw new Error("<typebot-standard> element not found.");Object.assign(n,e)},vP=e=>{let n=document.createElement("typebot-popup");Object.assign(n,e),document.body.prepend(n)},xP=e=>{let n=document.createElement("typebot-bubble");Object.assign(n,e),document.body.prepend(n)},zb=()=>({initStandard:bP,initPopup:vP,initBubble:xP,close:Db,hidePreviewMessage:$b,open:Lb,setPrefilledVariables:Ub,showPreviewMessage:jb,toggle:Vb,setInputValue:Fb,unmount:Hb,sendCommand:Bb}),Wb=e=>{typeof window>"u"||(window.Typebot={...e})};Nb();var Gb=zb();Wb(Gb);var B7=Gb;export{B7 as default};
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE *)

ky/distribution/index.js:
  (*! MIT License © Sindre Sorhus *)

partysocket/dist/chunk-4SNNYC7I.mjs:
  (*!
   * Reconnecting WebSocket
   * by Pedro Ladaria <pedro.ladaria@gmail.com>
   * https://github.com/pladaria/reconnecting-websocket
   * License MIT
   *)
*/